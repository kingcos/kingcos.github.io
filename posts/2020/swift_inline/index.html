<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>Swift æ‹¾é— - å†…è”å‡½æ•° :: iBlog</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="Date Notes     2020-07-26 é¦–æ¬¡æäº¤    Preface å†…è”å‡½æ•°ï¼ˆInline Functionsï¼‰æ˜¯æŒ‡ç¼–è¯‘æ—¶åˆ»å°†å‡½æ•°è°ƒç”¨å±•å¼€ä¸ºå‡½æ•°ä½“çš„ä¸€ç§ç¼–ç¨‹è¯­è¨€ç»“æ„ï¼Œç¼–è¯‘å™¨å°†é€‚æ—¶é‡‡å–è¿™ä¸€æŠ€æœ¯å¯ä»¥èŠ‚çœè°ƒç”¨å‡½æ•°æ‰€å¸¦æ¥çš„é¢å¤–å¼€é”€ï¼Œæœ¬æ–‡å°†ç®€å•è®²è®² Swift ä¸­çš„å†…è”å‡½æ•°ã€‚
ç¼–è¯‘å™¨ä¼˜åŒ–ç­‰çº§ ç”±äºå†…è”å‡½æ•°ä¼šå°†å‡½æ•°è°ƒç”¨å±•å¼€ä¸ºå‡½æ•°ä½“ï¼Œå› æ­¤å½“ç¼–è¯‘å™¨å†…è”æŸä¸€å‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°æœ¬èº«å°†ä¸å†ä¼šè¢«è°ƒç”¨ã€‚è€Œåœ¨ Debug æ¨¡å¼ä¸‹ï¼Œç”±äºæˆ‘ä»¬ç»å¸¸ä¼šä½¿ç”¨æ‰“æ–­ç‚¹ç­‰è°ƒè¯•æ‰‹æ®µï¼Œå¦‚æœæ­¤æ—¶å†…è”å°†ä¸åˆ©äºæˆ‘ä»¬æ’æŸ¥é—®é¢˜ã€‚å› æ­¤åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œç¼–è¯‘å™¨é»˜è®¤å°†ä¸è¿›è¡Œå†…è”ã€‚
æ§åˆ¶ç¼–è¯‘å™¨ä¼˜åŒ–ç­‰çº§çš„è®¾ç½®ä½äºï¼šXcode - TARGETS - Build Settings - Swift Compiler - Optimization Levelï¼Œå…¶ä¸­ä¾¿ä¼šå½±å“ Swift å‡½æ•°æ˜¯å¦å†…è”ï¼š
Swift ç¼–è¯‘å™¨æ‰€æ”¯æŒçš„ä¼˜åŒ–ç­‰çº§å…·ä½“å¦‚ä¸‹ï¼š
   Level Part     [-Onone] æ— ä¼˜åŒ–ï¼ˆDebug æ¨¡å¼é»˜è®¤ï¼‰   [-O] é€Ÿåº¦ä¼˜å…ˆï¼ˆRelease æ¨¡å¼é»˜è®¤ï¼‰   [-Osize] ä½“ç§¯ä¼˜å…ˆ    ç»è¿‡å®é™…æµ‹è¯•ï¼Œå¦‚ä¸‹ foo å‡½æ•°åœ¨ [-O] ä¸ [-Osize] ç­‰çº§ä¸‹å‡è¢«ä¼˜åŒ–ï¼š"/>
<meta name="keywords" content="kingcos.me,maimieng.comios,swift,objective-c,obj-c,objc,oc,geek,python,ruby,golang,go,apple,mac"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/posts/2020/swift_inline/" />





<link rel="stylesheet" href="/assets/style.css">


<link rel="stylesheet" href="/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="/img/favicon.png">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Swift æ‹¾é— - å†…è”å‡½æ•°"/>
<meta name="twitter:description" content="å†…è”å‡½æ•°ï¼ˆInline Functionsï¼‰æ˜¯æŒ‡ç¼–è¯‘æ—¶åˆ»å°†å‡½æ•°è°ƒç”¨å±•å¼€ä¸ºå‡½æ•°ä½“çš„ä¸€ç§ç¼–ç¨‹è¯­è¨€ç»“æ„ï¼Œç¼–è¯‘å™¨å°†é€‚æ—¶é‡‡å–è¿™ä¸€æŠ€æœ¯å¯ä»¥èŠ‚çœè°ƒç”¨å‡½æ•°æ‰€å¸¦æ¥çš„é¢å¤–å¼€é”€ï¼Œæœ¬æ–‡å°†ç®€å•è®²è®² Swift ä¸­çš„å†…è”å‡½æ•°ã€‚"/>



<meta property="og:title" content="Swift æ‹¾é— - å†…è”å‡½æ•°" />
<meta property="og:description" content="å†…è”å‡½æ•°ï¼ˆInline Functionsï¼‰æ˜¯æŒ‡ç¼–è¯‘æ—¶åˆ»å°†å‡½æ•°è°ƒç”¨å±•å¼€ä¸ºå‡½æ•°ä½“çš„ä¸€ç§ç¼–ç¨‹è¯­è¨€ç»“æ„ï¼Œç¼–è¯‘å™¨å°†é€‚æ—¶é‡‡å–è¿™ä¸€æŠ€æœ¯å¯ä»¥èŠ‚çœè°ƒç”¨å‡½æ•°æ‰€å¸¦æ¥çš„é¢å¤–å¼€é”€ï¼Œæœ¬æ–‡å°†ç®€å•è®²è®² Swift ä¸­çš„å†…è”å‡½æ•°ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/2020/swift_inline/" />
<meta property="article:published_time" content="2020-07-26T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-07-26T00:00:00+00:00" /><meta property="og:site_name" content="iBlog" />




<script data-ad-client="ca-pub-9925978992661955" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

  </head>
  <body class="">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a href="/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367"/>
</svg>
</span>
    <span class="logo__text">kingcos.me</span>
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/links">Links</a></li>
        
      
        
          <li><a href="/perspective">Perspective</a></li>
        
      
        
          <li><a href="/words">Words</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/links">Links</a></li>
      
    
      
        <li><a href="/perspective">Perspective</a></li>
      
    
      
        <li><a href="/words">Words</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  <div class="post">
    <h2 class="post-title"><a href="/posts/2020/swift_inline/">Swift æ‹¾é— - å†…è”å‡½æ•°</a></h2>
    <div class="post-meta">
      
        <span class="post-date">
            2020-07-26
        </span>
      
      
      
        <span class="post-read-time">â€” 3 min read</span>
      
    </div>

    
      <span class="post-tags">
        
          #<a href="/tags/focus/">Focus</a>&nbsp;
        
          #<a href="/tags/swift/">Swift</a>&nbsp;
        
      </span>
    

    

    <div class="post-content">
      <table>
<thead>
<tr>
<th align="center">Date</th>
<th align="center">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">2020-07-26</td>
<td align="center">é¦–æ¬¡æäº¤</td>
</tr>
</tbody>
</table>
<h2 id="preface">Preface</h2>
<p>å†…è”å‡½æ•°ï¼ˆInline Functionsï¼‰æ˜¯æŒ‡ç¼–è¯‘æ—¶åˆ»å°†å‡½æ•°è°ƒç”¨å±•å¼€ä¸ºå‡½æ•°ä½“çš„ä¸€ç§ç¼–ç¨‹è¯­è¨€ç»“æ„ï¼Œç¼–è¯‘å™¨å°†é€‚æ—¶é‡‡å–è¿™ä¸€æŠ€æœ¯å¯ä»¥èŠ‚çœè°ƒç”¨å‡½æ•°æ‰€å¸¦æ¥çš„é¢å¤–å¼€é”€ï¼Œæœ¬æ–‡å°†ç®€å•è®²è®² Swift ä¸­çš„å†…è”å‡½æ•°ã€‚</p>
<h2 id="ç¼–è¯‘å™¨ä¼˜åŒ–ç­‰çº§">ç¼–è¯‘å™¨ä¼˜åŒ–ç­‰çº§</h2>
<p>ç”±äºå†…è”å‡½æ•°ä¼šå°†å‡½æ•°è°ƒç”¨å±•å¼€ä¸ºå‡½æ•°ä½“ï¼Œå› æ­¤å½“ç¼–è¯‘å™¨å†…è”æŸä¸€å‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°æœ¬èº«å°†ä¸å†ä¼šè¢«è°ƒç”¨ã€‚è€Œåœ¨ Debug æ¨¡å¼ä¸‹ï¼Œç”±äºæˆ‘ä»¬ç»å¸¸ä¼šä½¿ç”¨æ‰“æ–­ç‚¹ç­‰è°ƒè¯•æ‰‹æ®µï¼Œå¦‚æœæ­¤æ—¶å†…è”å°†ä¸åˆ©äºæˆ‘ä»¬æ’æŸ¥é—®é¢˜ã€‚å› æ­¤åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œç¼–è¯‘å™¨é»˜è®¤å°†ä¸è¿›è¡Œå†…è”ã€‚</p>
<p>æ§åˆ¶ç¼–è¯‘å™¨ä¼˜åŒ–ç­‰çº§çš„è®¾ç½®ä½äºï¼šXcode - TARGETS - Build Settings - Swift Compiler - Optimization Levelï¼Œå…¶ä¸­ä¾¿ä¼šå½±å“ Swift å‡½æ•°æ˜¯å¦å†…è”ï¼š</p>
<p><img src="/img/2020/swift_inline/1.png" alt="1"></p>
<p>Swift ç¼–è¯‘å™¨æ‰€æ”¯æŒçš„ä¼˜åŒ–ç­‰çº§å…·ä½“å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th align="center">Level</th>
<th align="center">Part</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">[-Onone]</td>
<td align="center">æ— ä¼˜åŒ–ï¼ˆDebug æ¨¡å¼é»˜è®¤ï¼‰</td>
</tr>
<tr>
<td align="center">[-O]</td>
<td align="center">é€Ÿåº¦ä¼˜å…ˆï¼ˆRelease æ¨¡å¼é»˜è®¤ï¼‰</td>
</tr>
<tr>
<td align="center">[-Osize]</td>
<td align="center">ä½“ç§¯ä¼˜å…ˆ</td>
</tr>
</tbody>
</table>
<p>ç»è¿‡å®é™…æµ‹è¯•ï¼Œå¦‚ä¸‹ <code>foo</code> å‡½æ•°åœ¨ <code>[-O]</code> ä¸ <code>[-Osize]</code> ç­‰çº§ä¸‹å‡è¢«ä¼˜åŒ–ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">foo</span>() {
    print(<span style="color:#e6db74">&#34;foo&#34;</span>) <span style="color:#75715e">// BREAKPOINT 2 ğŸ”´</span>

foo() <span style="color:#75715e">// BREAKPOINT 1 ğŸ”´</span>
</code></pre></div><p>åœ¨ <code>[-Onone]</code> ç­‰çº§çš„æ±‡ç¼–å¦‚ä¸‹ï¼ˆXcode Menu - Debug - Debug Workflow - Always Show Disassemblyï¼‰ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-asm" data-lang="asm"><span style="color:#75715e">; [-Onone]
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">demo</span><span style="color:#960050;background-color:#1e0010">`</span><span style="color:#66d9ef">main</span>:
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000e50</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:  <span style="color:#66d9ef">pushq</span>  %rbp
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000e51</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:  <span style="color:#66d9ef">movq</span>   %rsp, %rbp
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000e54</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">4</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:  <span style="color:#66d9ef">subq</span>   <span style="color:#66d9ef">$0x10</span>, %rsp
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000e58</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">8</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:  <span style="color:#66d9ef">movl</span>   %edi, -<span style="color:#ae81ff">0x4</span>(%rbp)
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000e5b</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">11</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">movq</span>   %rsi, -<span style="color:#ae81ff">0x10</span>(%rbp)
    <span style="color:#75715e">; æ–­ç‚¹ 1 â¬‡ï¼šå‡½æ•°è°ƒç”¨ï¼ˆå†…è”ååˆ™ä¸å­˜åœ¨è¯¥è¡Œæ±‡ç¼–æŒ‡ä»¤ï¼‰
</span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">-&gt;</span>  <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000e5f</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">15</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">callq</span>  <span style="color:#ae81ff">0x100000e70</span>               <span style="color:#75715e">; demo.foo() -&gt; () at main.swift:11
</span><span style="color:#75715e"></span>    <span style="color:#ae81ff">0x100000e64</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">20</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">xorl</span>   %eax, %eax
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000e66</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">22</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">addq</span>   <span style="color:#66d9ef">$0x10</span>, %rsp
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000e6a</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">26</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">popq</span>   %rbp
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000e6b</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">27</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">retq</span>

<span style="color:#a6e22e">demo</span><span style="color:#960050;background-color:#1e0010">`</span><span style="color:#66d9ef">foo</span>():
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000e70</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:   <span style="color:#66d9ef">pushq</span>  %rbp
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000e71</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:   <span style="color:#66d9ef">movq</span>   %rsp, %rbp
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000e74</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">4</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:   <span style="color:#66d9ef">subq</span>   <span style="color:#66d9ef">$0x30</span>, %rsp
    <span style="color:#75715e">; æ–­ç‚¹ 2 â¬‡ï¼šä½œç”¨åŸŸåœ¨ foo() å†…
</span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">-&gt;</span>  <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000e78</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">8</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:   <span style="color:#66d9ef">movq</span>   <span style="color:#ae81ff">0x189</span>(%rip), %rax         <span style="color:#75715e">; (void *)0x00007fff8b1517e0: type metadata for Any
</span><span style="color:#75715e"></span>    <span style="color:#75715e">; ...
</span><span style="color:#75715e"></span>    <span style="color:#ae81ff">0x100000f17</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">167</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">retq</span>
</code></pre></div><p>åœ¨ <code>[-O]</code> ç­‰çº§çš„æ±‡ç¼–å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-asm" data-lang="asm"><span style="color:#75715e">; [-O]
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">demo</span><span style="color:#960050;background-color:#1e0010">`</span><span style="color:#66d9ef">main</span>:
    <span style="color:#75715e">; ...
</span><span style="color:#75715e"></span>    <span style="color:#75715e">; æ–­ç‚¹ 2 â¬‡ï¼šä½œç”¨åŸŸåœ¨ main å†…
</span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">-&gt;</span>  <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000e32</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">50</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:  <span style="color:#66d9ef">movq</span>   <span style="color:#ae81ff">0x1c7</span>(%rip), %rax         <span style="color:#75715e">; (void *)0x00007fff8b149910: type metadata for Swift.String
</span><span style="color:#75715e"></span>    <span style="color:#75715e">; ...
</span><span style="color:#75715e"></span>    <span style="color:#ae81ff">0x100000e82</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">130</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">retq</span>
</code></pre></div><p>åœ¨ <code>[-Osize]</code> ç­‰çº§çš„æ±‡ç¼–å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-asm" data-lang="asm"><span style="color:#75715e">; [-Osize]
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">demo</span><span style="color:#960050;background-color:#1e0010">`</span><span style="color:#66d9ef">main</span>:
    <span style="color:#75715e">; ...
</span><span style="color:#75715e"></span>    <span style="color:#75715e">; æ–­ç‚¹ 2 â¬‡ï¼šä½œç”¨åŸŸåœ¨ main å†…
</span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">-&gt;</span>  <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000e3e</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">46</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:  <span style="color:#66d9ef">movq</span>   <span style="color:#ae81ff">0x1bb</span>(%rip), %rax         <span style="color:#75715e">; (void *)0x00007fff8b149910: type metadata for Swift.String
</span><span style="color:#75715e"></span>    <span style="color:#75715e">; ...
</span><span style="color:#75715e"></span>    <span style="color:#ae81ff">0x100000e8a</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">122</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">retq</span>
</code></pre></div><p><code>[-O]</code> ä¸ <code>[-Osize]</code> çš„ç»“æœç±»ä¼¼ï¼Œå³é€šè¿‡å†…è”ä½¿å¾—æ–­ç‚¹ 1 ä¸å†æ‰§è¡Œï¼›è€Œæ–­ç‚¹ 2 è™½ç„¶å¾—åˆ°æ‰§è¡Œï¼Œä½†é€šè¿‡æŸ¥çœ‹æ±‡ç¼–å¯ä»¥çœ‹å‡ºï¼Œæ–­ç‚¹ 2 å¤„çš„ä»£ç ä½œç”¨åŸŸå·²å˜ä¸º <code>main</code>ï¼Œä¸”æ—  <code>call</code> è°ƒç”¨ç›¸å…³å‡½æ•°çš„æŒ‡ä»¤ï¼Œè¯æ˜å‡½æ•°å·²ç»å†…è”ã€‚</p>
<h2 id="å†…è”æ¡ä»¶">å†…è”æ¡ä»¶</h2>
<p>åœ¨å¼€å¯ç¼–è¯‘å™¨ä¼˜åŒ–åï¼ŒSwift ç¼–è¯‘å™¨ä¾¿ä¼šé’ˆå¯¹å‡½æ•°è¿›è¡Œå†…è”ä¼˜åŒ–ï¼Œä½†å¹¶éæ‰€æœ‰å‡½æ•°éƒ½æ”¯æŒå†…è”ã€‚</p>
<ul>
<li>å‡½æ•°ä½“è¿‡é•¿çš„å‡½æ•°å°†ä¸æ”¯æŒå†…è”ï¼›</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#75715e">// [-O]</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">foo</span>() {
    print(<span style="color:#66d9ef">#function</span>)
    print(<span style="color:#66d9ef">#function</span>)
    print(<span style="color:#66d9ef">#function</span>)
}

foo() <span style="color:#75715e">// BREAKPOINT ğŸ”´</span>
</code></pre></div><p>ç”±äºè¿‡é•¿çš„å‡½æ•°ä½“å†…è”åè€Œä¼šå¯¼è‡´å®é™…ä»£ç è¡Œæ•°å¢å¤šï¼Œå¯èƒ½ä¼šå½±å“æ€§èƒ½ï¼Œå› æ­¤å¦‚ä¸Šï¼Œå½“å‡½æ•°ä½“å†…çš„ <code>print</code> è¯­å¥è¶…è¿‡ä¸¤å¥æ—¶ï¼Œå†…è”å°±ä¼šå¤±æ•ˆã€‚æˆ‘ä»¬å¯ä»¥ä»å‡½æ•°è°ƒç”¨å¤„çš„æ–­ç‚¹æˆ–è€…æ±‡ç¼–æ¥å¾—å‡ºç»“è®ºï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-asm" data-lang="asm"><span style="color:#a6e22e">demo</span><span style="color:#960050;background-color:#1e0010">`</span><span style="color:#66d9ef">main</span>:
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000da0</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:  <span style="color:#66d9ef">pushq</span>  %rbp
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000da1</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:  <span style="color:#66d9ef">movq</span>   %rsp, %rbp
<span style="color:#960050;background-color:#1e0010">-&gt;</span>  <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000da4</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">4</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:  <span style="color:#66d9ef">callq</span>  <span style="color:#ae81ff">0x100000db0</span>               <span style="color:#75715e">; demo.foo() -&gt; () at main.swift:11
</span><span style="color:#75715e"></span>    <span style="color:#ae81ff">0x100000da9</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">9</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:  <span style="color:#66d9ef">xorl</span>   %eax, %eax
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000dab</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">11</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">popq</span>   %rbp
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000dac</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">12</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">retq</span>
</code></pre></div><ul>
<li>åŒ…å«é€’å½’è°ƒç”¨çš„å‡½æ•°å°†ä¸æ”¯æŒå†…è”ï¼›</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#75715e">// [-O]</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">foo</span>(<span style="color:#66d9ef">_</span> i: Int) -&gt; Int {
    <span style="color:#66d9ef">if</span> i <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">1</span> {
        <span style="color:#66d9ef">return</span> i
    }

    <span style="color:#66d9ef">var</span> result = foo(i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
    result <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>

    <span style="color:#66d9ef">return</span> result
}

<span style="color:#66d9ef">_</span> = foo(<span style="color:#ae81ff">5</span>)
</code></pre></div><p>ç”±äºåŒ…å«é€’å½’çš„å‡½æ•°ä½“éœ€è¦åœ¨å‡½æ•°å†…éƒ¨è°ƒç”¨è‡ªèº«ï¼Œæ­¤æ—¶è‹¥ä½¿ç”¨å†…è”ä¾¿ä¼šé€ æˆæ— é™å±•å¼€ã€‚å› æ­¤å¦‚ä¸Šï¼Œå½“å‡½æ•°ä½“å†…çš„å­˜åœ¨è‡ªèº«çš„é€’å½’æ—¶ï¼Œå†…è”å°±ä¼šå¤±æ•ˆã€‚æˆ‘ä»¬å¯ä»¥ä»å‡½æ•°è°ƒç”¨å¤„çš„æ–­ç‚¹æˆ–è€…æ±‡ç¼–æ¥å¾—å‡ºç»“è®ºï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-asm" data-lang="asm"><span style="color:#a6e22e">demo</span><span style="color:#960050;background-color:#1e0010">`</span><span style="color:#66d9ef">main</span>:
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000f70</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:  <span style="color:#66d9ef">pushq</span>  %rbp
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000f71</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:  <span style="color:#66d9ef">movq</span>   %rsp, %rbp
<span style="color:#960050;background-color:#1e0010">-&gt;</span>  <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000f74</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">4</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:  <span style="color:#66d9ef">movl</span>   <span style="color:#66d9ef">$0x5</span>, %edi
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000f79</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">9</span><span style="color:#960050;background-color:#1e0010">&gt;</span>:  <span style="color:#66d9ef">callq</span>  <span style="color:#ae81ff">0x100000f90</span>               <span style="color:#75715e">; demo.foo(Swift.Int) -&gt; Swift.Int at main.swift:41
</span><span style="color:#75715e"></span>    <span style="color:#ae81ff">0x100000f7e</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">14</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">xorl</span>   %eax, %eax
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000f80</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">16</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">popq</span>   %rbp
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000f81</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">17</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">retq</span>
</code></pre></div><blockquote>
<p>å¯¹äºé€’å½’å‡½æ•°éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç¼–è¯‘å™¨ä¼šå¯¹å°¾é€’å½’ï¼ˆTail Recursionï¼Œå³é€’å½’ä½äºå‡½æ•°æœ«å°¾ï¼‰è¿›è¡Œé¢å¤–ä¼˜åŒ–ï¼Œå³å°¾é€’å½’ä¼˜åŒ–ï¼ˆTail Call Optimizationï¼‰ã€‚å¦‚ä¸‹ä¸€æ®µæ±‚é˜¶ä¹˜çš„ä»£ç ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#75715e">// [-O]</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">foo</span>(<span style="color:#66d9ef">_</span> i: Int) -&gt; Int {
    <span style="color:#66d9ef">if</span> i <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">1</span> {
        <span style="color:#66d9ef">return</span> i
    }
    <span style="color:#66d9ef">return</span> foo(i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
}

<span style="color:#66d9ef">_</span> = foo(<span style="color:#ae81ff">5</span>)
</code></pre></div><p>å°†å…¶è½¬æ¢ä¸ºæ±‡ç¼–å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-asm" data-lang="asm"><span style="color:#a6e22e">demo</span><span style="color:#960050;background-color:#1e0010">`</span><span style="color:#66d9ef">main</span>:
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000f90</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">pushq</span>  %rbp
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000f91</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">movq</span>   %rsp, %rbp
<span style="color:#960050;background-color:#1e0010">-&gt;</span>  <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000f94</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">4</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">xorl</span>   %eax, %eax
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000f96</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">6</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">popq</span>   %rbp
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100000f97</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">7</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">retq</span>
</code></pre></div><p>æœ¬æ–‡æš‚æ—¶ä¸ä¼šæ¶‰åŠè¿‡å¤šå…³äºå°¾é€’å½’çš„å†…å®¹ã€‚</p>
</blockquote>
<ul>
<li>åŒ…å«åŠ¨æ€æ´¾å‘çš„ä»£ç å°†ä¸æ”¯æŒå†…è”ï¼›</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">People</span> {
    <span style="color:#66d9ef">var</span> name: String = <span style="color:#e6db74">&#34;Name&#34;</span>

    <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">bar</span>() {}

    <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">foo</span>() {
        <span style="color:#75715e">// NOT Inline</span>
        <span style="color:#66d9ef">var</span> p: People = Student()
        p = Teacher()

        p.bar()

        <span style="color:#75715e">// Inline</span>
        <span style="color:#66d9ef">let</span> q = Student()

        q.baz() <span style="color:#75715e">// b -r Student.baz ğŸ”´</span>
    }
}

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Teacher</span>: People {
    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">bar</span>() {
        print(<span style="color:#e6db74">&#34;Teacher - </span><span style="color:#e6db74">\(</span>name<span style="color:#e6db74">)</span><span style="color:#e6db74">&#34;</span>)
    }
}

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span>: People {
    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">bar</span>() {
        print(<span style="color:#e6db74">&#34;Student - </span><span style="color:#e6db74">\(</span>name<span style="color:#e6db74">)</span><span style="color:#e6db74">&#34;</span>)
    }

    <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">baz</span>() {}
}

People().foo()
</code></pre></div><p>ç”±äºåŒ…å«åŠ¨æ€æ´¾å‘çš„å‡½æ•°åªæœ‰åœ¨è¿è¡Œæ—¶æ‰æ˜¯ç¡®å®šçš„ã€‚å› æ­¤å¦‚ä¸Šï¼Œå½“ä½¿ç”¨å¤šæ€æ—¶ï¼Œå†…è”å°±ä¼šå¤±æ•ˆã€‚æˆ‘ä»¬å¯ä»¥ä»å‡½æ•°è°ƒç”¨å¤„çš„æ–­ç‚¹æˆ–è€…æ±‡ç¼–æ¥å¾—å‡ºç»“è®ºï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-asm" data-lang="asm"><span style="color:#a6e22e">demo</span><span style="color:#960050;background-color:#1e0010">`</span><span style="color:#66d9ef">main</span>:
    <span style="color:#75715e">; ...
</span><span style="color:#75715e"></span>    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100001524</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">212</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">movq</span>   <span style="color:#ae81ff">0x18</span>(%rbx), %rdi
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100001528</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">216</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">callq</span>  <span style="color:#ae81ff">0x100001be2</span>               <span style="color:#75715e">; symbol stub for: swift_bridgeObjectRelease
</span><span style="color:#75715e"></span>-<span style="color:#960050;background-color:#1e0010">&gt;</span>  <span style="color:#ae81ff">0x10000152d</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">221</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">callq</span>  <span style="color:#ae81ff">0x100001960</span>               <span style="color:#75715e">; demo.Teacher.bar() -&gt; ()
</span><span style="color:#75715e"></span>    <span style="color:#ae81ff">0x100001532</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">226</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">movq</span>   %r13, %rdi
    <span style="color:#960050;background-color:#1e0010">0</span><span style="color:#a6e22e">x100001535</span> <span style="color:#960050;background-color:#1e0010">&lt;+</span><span style="color:#ae81ff">229</span><span style="color:#960050;background-color:#1e0010">&gt;</span>: <span style="color:#66d9ef">callq</span>  <span style="color:#ae81ff">0x100001c0c</span>               <span style="color:#75715e">; symbol stub for: swift_release
</span><span style="color:#75715e"></span>    <span style="color:#75715e">; ...
</span><span style="color:#75715e"></span>
</code></pre></div><h2 id="inline">@inline</h2>
<!--

---

å†…è”å‡½æ•°ï¼ˆInline Functionsï¼‰æŒ‡ç¼–è¯‘æ—¶åˆ»å°†å‡½æ•°è°ƒç”¨å±•å¼€æˆå‡½æ•°ä½“ã€‚åœ¨ Xcode ä¸­çš„ Swift é¡¹ç›®ä¸­ï¼Œå¦‚æœå¼€å¯äº†ç¼–è¯‘å™¨ä¼˜åŒ–ï¼ˆRelease æ¨¡å¼é»˜è®¤ä¼šå¼€å¯ä¼˜åŒ–ï¼‰ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†æŸäº›å‡½æ•°å˜æˆå†…è”å‡½æ•°ã€‚ä½†è‹¥å‡½æ•°å­˜åœ¨ä»¥ä¸‹ç‰¹ç‚¹å°†ä¸ä¼šè¢«è‡ªåŠ¨å†…è”ï¼š

1. å‡½æ•°ä½“è¾ƒé•¿æ—¶ï¼ˆå› å†…è”ä¼šå¯¼è‡´å¯æ‰§è¡Œä»£ç ä½“ç§¯å¢å¤§ï¼‰
2. åŒ…å«é€’å½’è°ƒç”¨æ—¶ï¼ˆå› å†…è”ä¼šå¯¼è‡´æ­»å¾ªç¯ï¼‰
3. åŒ…å«åŠ¨æ€æ´¾å‘æ—¶ï¼ˆå› ç¼–è¯‘æ—¶åˆ»æ— æ³•ç¡®è®¤è¦æ‰§è¡Œçš„ä»£ç ï¼‰

## @inline

- å®˜æ–¹æºç ä¸­ä½¿ç”¨ `@inline` æ¥å»ºè®®ï¼ˆæ³¨æ„ã€Œå»ºè®®ã€è€Œéå¼ºåˆ¶ï¼‰ç¼–è¯‘å™¨å»ç¦æ­¢ï¼ˆ`never`ï¼‰æˆ–åœ¨æ¡ä»¶å…è®¸çš„æƒ…å†µä¸‹ï¼ˆé™¤é€’å½’ã€åŠ¨æ€æ´¾å‘ç­‰ï¼‰æ€»æ˜¯ï¼ˆ`__always`ï¼‰å†…è”ï¼Œä¼˜å…ˆçº§é«˜äºç¼–è¯‘è®¾ç½®ï¼›
- æ³¨æ„ `__always` åªåœ¨å¼€å¯ç¼–è¯‘å™¨ä¼˜åŒ–é€‰é¡¹æ—¶ï¼ˆæ— è®ºæ˜¯ä¼˜åŒ–é€Ÿåº¦è¿˜æ˜¯ä½“ç§¯ï¼‰å‡ ä¹æ€»æ˜¯å†…è”ï¼ˆæœªå¼€å¯æ—¶å°†ä¸ä¼šè¢«å†…è”ï¼‰ã€‚

```swift
// [-O] / [-Osize]

@inline(never) func bar() {
    print("bar")
}

@inline(__always) func baz() {
    print("baz")
}

bar()
baz()
``` -->
<!-- ### API & ABI

- APIï¼ˆApplication Programming Interfaceï¼Œåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼‰ï¼šæºä»£ç å’Œåº“ä¹‹é—´çš„æ¥å£ã€‚
- ABIï¼ˆApplication Binary Interfaceï¼Œåº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ¥å£ï¼‰ï¼š
  - åº”ç”¨ç¨‹åºä¸æ“ä½œç³»ç»Ÿä¹‹é—´çš„åº•å±‚æ¥å£
  - æ¶‰åŠçš„å†…å®¹æœ‰ï¼š
    - ç›®æ ‡æ–‡ä»¶æ ¼å¼ï¼ˆeg. Mach-Oï¼‰
    - æ•°æ®ç±»å‹çš„å¤§å° / å¸ƒå±€ / å¯¹é½ï¼ˆeg. åŸºæœ¬ç±»å‹å ç”¨çš„å†…å­˜å¤§å°ï¼‰
    - å‡½æ•°è°ƒç”¨çº¦å®šï¼ˆeg. å‡½æ•°è°ƒç”¨æ—¶ä½¿ç”¨æ ˆç©ºé—´è¿˜æ˜¯å¯„å­˜å™¨ã€å‡½æ•°å‚æ•°çš„å…¥æ ˆé¡ºåºï¼‰ç­‰ -->

    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>
        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/posts/2020/assertion_in_ios/">
                <span class="button__icon">â†</span>
                <span class="button__text">iOS ä¸­çš„æ–­è¨€</span>
              </a>
            </span>
          
          
            <span class="button next">
              <a href="/posts/2020/swift_inout/">
                <span class="button__text">Swift æ‹¾é— - inout</span>
                <span class="button__icon">â†’</span>
              </a>
            </span>
          
        </div>
      </div>
    

    

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<table style="border: 0;">
  <tr>
  <td style="border: 0; width: 30%;">
    <img src='/img/about/1.jpg'>
  </td>
  <td style="border: 0;">
    <ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-9925978992661955"
     data-ad-slot="3213735320"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
  </td>
  </tr>
</table>



<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>


    
    
    <div>
      <div id="github-comment">
      </div>

      <script type="text/javascript">
        function getUtterances(isDark) {
          var utterances = document.createElement('script');
          utterances.type = 'text/javascript';
          utterances.async = true;
          utterances.setAttribute('issue-term', "pathname")
          utterances.setAttribute('repo', "kingcos\/kingcos.github.io")
          utterances.setAttribute('label', "comments")
          isDark ? utterances.setAttribute('theme', "github-dark") : utterances.setAttribute('theme', "github-light")
          utterances.crossorigin = 'anonymous';
          utterances.src = 'https://utteranc.es/client.js';

          return utterances
        }

        var themeToggle = document.querySelector(".theme-toggle")
        themeToggle.addEventListener("click", function () {
          var getTheme = window.localStorage && window.localStorage.getItem("theme")
          var divNode = document.getElementById('github-comment')
          while(divNode.hasChildNodes()) {
            divNode.removeChild(divNode.firstChild);
          }
          
          
          

          
          
          
          
          
          
          document.getElementById('github-comment').appendChild(getUtterances(getTheme !== "dark"))
        })

        var getTheme = window.localStorage && window.localStorage.getItem("theme")
        document.getElementById('github-comment').appendChild(getUtterances(getTheme === "dark"))
      </script>
    </div>
    

    </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">All rights reserved by kingcos.me</div>
    
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>



      
    </div>

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-138311951-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
  </body>
</html>
