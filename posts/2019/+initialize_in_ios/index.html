<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>iOS ä¸­çš„ &#43;initialize æ–¹æ³• :: iBlog</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="Date Notes Source Code Demo     2019-04-21 é¦–æ¬¡æäº¤ objc4-750 -   2019-05-01 è¡¥å……ç»†èŠ‚ - Initialize_Demo    Preface åœ¨ iOS ä¸­ï¼Œç»å¸¸ä¸ &#43;load ç›¸æå¹¶è®ºçš„ä¸€ä¸ªæ–¹æ³•ä¾¿æ˜¯ &#43;initializeã€‚ä»æ–¹æ³•åæ¥çœ‹ï¼Œå®ƒçš„ä½œç”¨æ˜¯è¿›è¡Œåˆå§‹åŒ–ï¼Œä½†ä¸åŒäºå¹³æ—¶ä½¿ç”¨çš„ initï¼Œ&#43;initialize æ˜¯ä¸€ä¸ªç±»æ–¹æ³•ã€‚é‚£ä¹ˆå®ƒçš„æœ¬è´¨åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
ä¸ºäº†æ›´å¥½åœ°å™è¿° &#43;initialize çš„ç‰¹ç‚¹ï¼Œæœ¬æ–‡éƒ¨åˆ†æè¿°å°è¯•ä¸ &#43;load æ–¹æ³•å¯¹æ¯”ï¼Œå»ºè®®é˜…è¯»æœ¬æ–‡å‰å…ˆé˜…è¯»ã€ŒiOS ä¸­çš„ &#43;load æ–¹æ³•ã€ã€‚
What // NSObject.h @interface NSObject &amp;lt;NSObject&amp;gt; { &#43; (void)initialize; }  Obj-C ä¸­çš„ &#43;initialize æ–¹æ³•æŒ‡çš„æ˜¯ NSObject ä¸­çš„ &#43; (void)initialize ç±»æ–¹æ³•ã€‚å®˜æ–¹æ–‡æ¡£ä¸­çš„ &#43;initialize å¦‚ä¸‹ï¼š
 Initializes the class before it receives its first message."/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/posts/2019/&#43;initialize_in_ios/" />


<link rel="stylesheet" href="/assets/style.css">

  <link rel="stylesheet" href="/assets/green.css">



<link rel="stylesheet" href="/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">

<link rel="shortcut icon" href="/img/favicon/favicon.ico">



<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="iOS ä¸­çš„ &#43;initialize æ–¹æ³• :: iBlog â€” " />
<meta name="twitter:description" content="Date Notes Source Code Demo     2019-04-21 é¦–æ¬¡æäº¤ objc4-750 -   2019-05-01 è¡¥å……ç»†èŠ‚ - Initialize_Demo    Preface åœ¨ iOS ä¸­ï¼Œç»å¸¸ä¸ &#43;load ç›¸æå¹¶è®ºçš„ä¸€ä¸ªæ–¹æ³•ä¾¿æ˜¯ &#43;initializeã€‚ä»æ–¹æ³•åæ¥çœ‹ï¼Œå®ƒçš„ä½œç”¨æ˜¯è¿›è¡Œåˆå§‹åŒ–ï¼Œä½†ä¸åŒäºå¹³æ—¶ä½¿ç”¨çš„ initï¼Œ&#43;initialize æ˜¯ä¸€ä¸ªç±»æ–¹æ³•ã€‚é‚£ä¹ˆå®ƒçš„æœ¬è´¨åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
ä¸ºäº†æ›´å¥½åœ°å™è¿° &#43;initialize çš„ç‰¹ç‚¹ï¼Œæœ¬æ–‡éƒ¨åˆ†æè¿°å°è¯•ä¸ &#43;load æ–¹æ³•å¯¹æ¯”ï¼Œå»ºè®®é˜…è¯»æœ¬æ–‡å‰å…ˆé˜…è¯»ã€ŒiOS ä¸­çš„ &#43;load æ–¹æ³•ã€ã€‚
What // NSObject.h @interface NSObject &amp;lt;NSObject&amp;gt; { &#43; (void)initialize; }  Obj-C ä¸­çš„ &#43;initialize æ–¹æ³•æŒ‡çš„æ˜¯ NSObject ä¸­çš„ &#43; (void)initialize ç±»æ–¹æ³•ã€‚å®˜æ–¹æ–‡æ¡£ä¸­çš„ &#43;initialize å¦‚ä¸‹ï¼š
 Initializes the class before it receives its first message." />
<meta name="twitter:site" content="/" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image" content="">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="iOS ä¸­çš„ &#43;initialize æ–¹æ³• :: iBlog â€” ">
<meta property="og:description" content="Date Notes Source Code Demo     2019-04-21 é¦–æ¬¡æäº¤ objc4-750 -   2019-05-01 è¡¥å……ç»†èŠ‚ - Initialize_Demo    Preface åœ¨ iOS ä¸­ï¼Œç»å¸¸ä¸ &#43;load ç›¸æå¹¶è®ºçš„ä¸€ä¸ªæ–¹æ³•ä¾¿æ˜¯ &#43;initializeã€‚ä»æ–¹æ³•åæ¥çœ‹ï¼Œå®ƒçš„ä½œç”¨æ˜¯è¿›è¡Œåˆå§‹åŒ–ï¼Œä½†ä¸åŒäºå¹³æ—¶ä½¿ç”¨çš„ initï¼Œ&#43;initialize æ˜¯ä¸€ä¸ªç±»æ–¹æ³•ã€‚é‚£ä¹ˆå®ƒçš„æœ¬è´¨åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
ä¸ºäº†æ›´å¥½åœ°å™è¿° &#43;initialize çš„ç‰¹ç‚¹ï¼Œæœ¬æ–‡éƒ¨åˆ†æè¿°å°è¯•ä¸ &#43;load æ–¹æ³•å¯¹æ¯”ï¼Œå»ºè®®é˜…è¯»æœ¬æ–‡å‰å…ˆé˜…è¯»ã€ŒiOS ä¸­çš„ &#43;load æ–¹æ³•ã€ã€‚
What // NSObject.h @interface NSObject &amp;lt;NSObject&amp;gt; { &#43; (void)initialize; }  Obj-C ä¸­çš„ &#43;initialize æ–¹æ³•æŒ‡çš„æ˜¯ NSObject ä¸­çš„ &#43; (void)initialize ç±»æ–¹æ³•ã€‚å®˜æ–¹æ–‡æ¡£ä¸­çš„ &#43;initialize å¦‚ä¸‹ï¼š
 Initializes the class before it receives its first message." />
<meta property="og:url" content="/posts/2019/&#43;initialize_in_ios/" />
<meta property="og:site_name" content="iOS ä¸­çš„ &#43;initialize æ–¹æ³•" />
<meta property="og:image" content="">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2019-04-21 00:00:00 &#43;0000 UTC" />











</head>
<body class="">


<div class="container center">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    iBlog
  </div>
</a>

    </div>
    <div class="menu-trigger">menu</div>
  </div>
  
  
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-138311951-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  

  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/links">Links</a></li>
        
      
        
          <li><a href="/perspective">Perspective</a></li>
        
      
        
          <li><a href="/words">Words</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/links">Links</a></li>
      
    
      
        <li><a href="/perspective">Perspective</a></li>
      
    
      
        <li><a href="/words">Words</a></li>
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="/posts/2019/&#43;initialize_in_ios/">iOS ä¸­çš„ +initialize æ–¹æ³•</a></h1>
  <div class="post-meta">
    <span class="post-date">
      2019-04-21
    </span>
    
  </div>

  
  <span class="post-tags">
    
    #<a href="/tags/focus/">Focus</a>&nbsp;
    
    #<a href="/tags/ios/">iOS</a>&nbsp;
    
    #<a href="/tags/obj-c/">Obj-C</a>&nbsp;
    
  </span>
  

  

  <div class="post-content">
    

<table>
<thead>
<tr>
<th align="center">Date</th>
<th align="center">Notes</th>
<th align="center">Source Code</th>
<th align="center">Demo</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">2019-04-21</td>
<td align="center">é¦–æ¬¡æäº¤</td>
<td align="center"><a href="https://opensource.apple.com/tarballs/objc4/">objc4-750</a></td>
<td align="center">-</td>
</tr>

<tr>
<td align="center">2019-05-01</td>
<td align="center">è¡¥å……ç»†èŠ‚</td>
<td align="center">-</td>
<td align="center"><a href="https://github.com/kingcos/Perspective/tree/writing/Posts/Practice/%2Binitialize_in_iOS">Initialize_Demo</a></td>
</tr>
</tbody>
</table>

<h2 id="preface">Preface</h2>

<p>åœ¨ iOS ä¸­ï¼Œç»å¸¸ä¸ +load ç›¸æå¹¶è®ºçš„ä¸€ä¸ªæ–¹æ³•ä¾¿æ˜¯ +initializeã€‚ä»æ–¹æ³•åæ¥çœ‹ï¼Œå®ƒçš„ä½œç”¨æ˜¯è¿›è¡Œåˆå§‹åŒ–ï¼Œä½†ä¸åŒäºå¹³æ—¶ä½¿ç”¨çš„ <code>init</code>ï¼Œ+initialize æ˜¯ä¸€ä¸ªç±»æ–¹æ³•ã€‚é‚£ä¹ˆå®ƒçš„æœ¬è´¨åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>

<p>ä¸ºäº†æ›´å¥½åœ°å™è¿° +initialize çš„ç‰¹ç‚¹ï¼Œæœ¬æ–‡éƒ¨åˆ†æè¿°å°è¯•ä¸ +load æ–¹æ³•å¯¹æ¯”ï¼Œå»ºè®®é˜…è¯»æœ¬æ–‡å‰å…ˆé˜…è¯»ã€ŒiOS ä¸­çš„ +load æ–¹æ³•ã€ã€‚</p>

<h2 id="what">What</h2>

<pre><code class="language-objectivec">// NSObject.h
@interface NSObject &lt;NSObject&gt; {
+ (void)initialize;
}
</code></pre>

<p>Obj-C ä¸­çš„ +initialize æ–¹æ³•æŒ‡çš„æ˜¯ NSObject ä¸­çš„ <code>+ (void)initialize</code> ç±»æ–¹æ³•ã€‚å®˜æ–¹æ–‡æ¡£ä¸­çš„ +initialize å¦‚ä¸‹ï¼š</p>

<blockquote>
<p>Initializes the class before it receives its first message.</p>

<p>The runtime sends <code>initialize</code> to each class in a program just before the class, or any class that inherits from it, is sent its first message from within the program. Superclasses receive this message before their subclasses.</p>

<p>The runtime sends the <code>initialize</code> message to classes in a thread-safe manner. That is, <code>initialize</code> is run by the first thread to send a message to a class, and any other thread that tries to send a message to that class will block until <code>initialize</code> completes.</p>

<p>The superclass implementation may be called multiple times if subclasses do not implement <code>initialize</code>â€”the runtime will call the inherited implementationâ€”or if subclasses explicitly call <code>[super initialize]</code>. If you want to protect yourself from being run multiple times, you can structure your implementation along these lines:</p>

<pre><code class="language-objectivec">+ (void)initialize {
  if (self == [ClassName self]) {
    // ... do the initialization ...
  }
}
</code></pre>

<p>Because <code>initialize</code> is called in a blocking manner, itâ€™s important to limit method implementations to the minimum amount of work necessary possible. Specifically, any code that takes locks that might be required by other classes in their <code>initialize</code> methods is liable to lead to deadlocks. Therefore, you should not rely on <code>initialize</code> for complex initialization, and should instead limit it to straightforward, class local initialization.</p>

<p><code>initialize</code> is invoked only once per class. If you want to perform independent initialization for the class and for categories of the class, you should implement <a href="https://developer.apple.com/documentation/objectivec/nsobject/1418815-load?language=objc"><code>load</code></a> methods.</p>

<p>â€”â€” Documentation, Apple Developer</p>

<p>è¯‘ï¼š</p>

<p>åœ¨ç±»æ”¶åˆ°ç¬¬ä¸€æ¡æ¶ˆæ¯å‰åˆå§‹åŒ–ã€‚</p>

<p>åœ¨ç±»å’Œæ‰€æœ‰å­ç±»æ¥æ”¶ç¬¬ä¸€æ¡æ¶ˆæ¯å‰ï¼Œè¿è¡Œæ—¶å‘é€ <code>initialize</code> æ¶ˆæ¯åˆ°ç¨‹åºä¸­æ¯ä¸ªç±»ã€‚çˆ¶ç±»åœ¨å­ç±»ä¹‹å‰æ¥æ”¶åˆ°è¯¥æ¶ˆæ¯ã€‚</p>

<p>è¿è¡Œæ—¶ä»¥çº¿ç¨‹å®‰å…¨çš„æ–¹å¼å‘é€ <code>initialize</code> æ¶ˆæ¯åˆ°ç±»ã€‚å³ <code>initialize</code> ç”±ç¬¬ä¸€ä¸ªçº¿ç¨‹è¿è¡Œæ¥å‘é€æ¶ˆæ¯åˆ°ä¸€ä¸ªç±»ï¼Œå¹¶ä¸”å…¶å®ƒä»»ä½•å°è¯•å‘é€æ¶ˆæ¯çš„çº¿ç¨‹éƒ½å°†ä¼šè¢«é˜»å¡ï¼Œç›´åˆ° <code>initialize</code> å®Œæˆã€‚</p>

<p>å¦‚æœå­ç±»æœªå®ç° <code>initialize</code> åˆ™çˆ¶ç±»çš„å®ç°å¯èƒ½ä¼šè¢«è°ƒç”¨å¤šæ¬¡ â€”â€” è¿è¡Œæ—¶å°†ä¼šè°ƒç”¨ç»§æ‰¿ï¼ˆè‡ªçˆ¶ç±»ï¼‰çš„å®ç° â€”â€” æˆ–è€…å¦‚æœå­ç±»æ˜ç¡®è°ƒç”¨ <code>[super initialize]</code>ã€‚å¦‚æœä¸å¸Œæœ›è¿è¡Œå¤šæ¬¡ï¼Œå¯ä»¥å‚è€ƒå¦‚ä¸‹å®ç°ï¼š</p>

<pre><code class="language-objectivec">+ (void)initialize {
  if (self == [ClassName self]) {
    // ... do the initialization ...
  }
}
</code></pre>

<p>ç”±äº <code>initialize</code> ä»¥é˜»å¡çš„æ–¹å¼è¢«è°ƒç”¨ï¼Œå› æ­¤å°†æ–¹æ³•å®ç°é™åˆ¶ä¸ºæœ€å°å·¥ä½œé‡æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚å°¤å…¶æ˜¯åœ¨ <code>initialize</code> ä¸­ä½¿ç”¨ä»»ä½•å¯èƒ½è¢«å…¶å®ƒç±»æ‰€å¿…éœ€é”çš„ä»£ç éƒ½æœ‰å¯èƒ½ä¼šå¯¼è‡´æ­»é”ã€‚å› æ­¤ä¸åº”å½“ä¾èµ– <code>initialize</code> åšå¤æ‚çš„åˆå§‹åŒ–ï¼Œç›¸ååº”è¯¥å°†å…¶é™åˆ¶ä¸ºç®€å•çš„ç±»æœ¬åœ°åˆå§‹åŒ–ã€‚</p>

<p><code>initialize</code> åœ¨æ¯ä¸ªç±»ä¸­åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚å¦‚æœå¸Œæœ›ä¸ºç±»ä»¥åŠåˆ†ç±»æ‰§è¡Œç‹¬ç«‹çš„åˆå§‹åŒ–ï¼Œåº”å½“å®ç° <a href="https://developer.apple.com/documentation/objectivec/nsobject/1418815-load?language=objc"><code>load</code></a> æ–¹æ³•ã€‚</p>

<p>â€”â€” æ–‡æ¡£ï¼Œè‹¹æœå¼€å‘è€…</p>
</blockquote>

<h2 id="how">How</h2>

<p>æ ¹æ®å®˜æ–¹æ–‡æ¡£çš„æè¿°ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•å®šä¹‰ä¸€ä¸ªç»§æ‰¿è‡ª <code>NSObject</code> çš„ <code>Person</code> ç±»ï¼Œå¹¶å¯¹å…¶æ·»åŠ ä¸¤ä¸ªåˆ†ç±» <code>Life</code> å’Œ <code>Work</code>ï¼›å†å®šä¹‰ä¸€ä¸ª <code>Student</code> ç±»ç»§æ‰¿è‡ª <code>Person</code>ï¼Œå¹¶å¯¹å…¶æ·»åŠ  <code>School</code> åˆ†ç±»ï¼›æœ€åå®šä¹‰ä¸€ä¸ª <code>Programmer</code> ç±»ç»§æ‰¿è‡ª <code>Person</code>ã€‚åœ¨ä»¥ä¸Šé™¤äº† <code>Programmer</code> çš„ç±»å’Œåˆ†ç±»ä¸­ï¼Œå‡å®ç° +initializeï¼š</p>

<pre><code class="language-objectivec">// Person.m
#import &quot;Person.h&quot;

@implementation Person
+ (void)initialize {
    NSLog(@&quot;Person %s&quot;, __func__);
}
@end

// Person+Life.m
#import &quot;Person+Life.h&quot;

@implementation Person (Life)
+ (void)initialize {
    NSLog(@&quot;Person+Life %s&quot;, __func__);
}
@end

//  Person+Work.m
#import &quot;Person+Work.h&quot;

@implementation Person (Work)
+ (void)initialize {
    NSLog(@&quot;Person+Work %s&quot;, __func__);
}
@end

//  Student.m
#import &quot;Student.h&quot;

@implementation Student
+ (void)initialize {
    NSLog(@&quot;Student %s&quot;, __func__);
}
@end

//  Student+School.m
#import &quot;Student+School.h&quot;

@implementation Student (School)
+ (void)initialize {
    NSLog(@&quot;Student+School %s&quot;, __func__);
}
@end

//  Programmer.m
#import &quot;Programmer.h&quot;

@implementation Programmer
@end

// OUTPUT:
// Hello, World!
</code></pre>

<p>é¦–å…ˆæˆ‘ä»¬ä¸æ›´æ”¹ main.mï¼Œå°è¯•è¿è¡Œç¨‹åºï¼Œç»“æœåªè¾“å‡ºäº† <code>main</code> å‡½æ•° <code>Hello, World!</code>ï¼Œå› ä¸º +initialize å¹¶ä¸åƒ +load ä¸€æ ·æ˜¯åœ¨ <code>main</code> å‡½æ•°å‰è°ƒç”¨çš„ï¼Œè€Œæ²¡æœ‰è¾“å‡ºçš„åŸå› æ˜¯è¿™äº›ç±»è¿˜æ²¡æœ‰æ”¶åˆ°ä¸€æ¡æ¶ˆæ¯ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼ŒObj-C ä¸­å¤§éƒ¨åˆ†æ–¹æ³•è°ƒç”¨çš„æœ¬è´¨éƒ½æ˜¯æ¶ˆæ¯å‘é€ï¼ˆMessage Sendingï¼‰ï¼Œ<code>[SomeClass classMethod]</code> æ˜¯å‘ <code>SomeClass</code> ç±»å¯¹è±¡å‘é€ <code>classMethod</code> æ¶ˆæ¯ï¼›<code>[SomeObject instanceMethod]</code> æ˜¯å‘ <code>SomeObject</code> å®ä¾‹å¯¹è±¡å‘é€ <code>instanceMethod</code> æ–¹æ³•ï¼›ç”±äºå¦‚æœè¦è°ƒç”¨å¯¹è±¡æ–¹æ³•ï¼Œä¹Ÿå¿…é¡»è¦å…ˆè¿›è¡Œ <code>alloc</code> å¹¶ <code>init</code>ï¼ˆæˆ–è€… <code>new</code>ï¼‰æ‰èƒ½åˆ›å»ºå®Œä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥è®¤ä¸ºç±»æ¥æ”¶åˆ°çš„ç¬¬ä¸€æ¡æ¶ˆæ¯æ°¸è¿œæ˜¯ç±»æ–¹æ³•ã€‚è¿™æ¬¡æˆ‘ä»¬å°è¯•å‘å®ƒä»¬å‘é€æ¶ˆæ¯ï¼š</p>

<pre><code class="language-objectivec">// main.m
#import &lt;Foundation/Foundation.h&gt;

#import &quot;Person.h&quot;
#import &quot;Student.h&quot;
#import &quot;Programmer.h&quot;

int main(int argc, const char * argv[]) {
    @autoreleasepool {
        NSLog(@&quot;---&quot;);
        Student *stu = [Student alloc];
        NSLog(@&quot;---&quot;);
        stu = [stu init];
        
        NSLog(@&quot;---&quot;);
        [Programmer load];
    }
    return 0;
}


// OUTPUT:
// ---
// Person+Work +[Person(Work) initialize]
// Student+School +[Student(School) initialize]
// ---
// ---
// Person+Work +[Person(Work) initialize]
</code></pre>

<p>é€šè¿‡ä»¥ä¸Šä»£ç çš„è¾“å‡ºï¼Œè™½ç„¶æˆ‘ä»¬å¹¶æ²¡æœ‰ä¸»åŠ¨è°ƒç”¨è¿™äº›ç±»çš„ +initialize æ–¹æ³•ï¼Œä½† +initialize ç¡®å®è¢«è‡ªåŠ¨è°ƒç”¨äº†ã€‚æˆ‘ä»¬å…ˆæŠ›å‡ºç»“è®ºï¼š<strong>+initialize æ–¹æ³•åœ¨ç±»ï¼ˆç±»å¯¹è±¡ï¼‰æ¥æ”¶åˆ°ç¬¬ä¸€æ¡æ¶ˆæ¯ï¼ˆç±»æ–¹æ³•ï¼‰å‰è¢«è°ƒç”¨ï¼›å­ç±»ä¸­å¦‚æœå®ç°äº†è¯¥æ–¹æ³•ï¼Œä¼šå…ˆçˆ¶ç±»å†å­ç±»ï¼›ä¸”éµå®ˆåˆ†ç±»ï¼ˆCategoryï¼‰ã€Œè¦†ç›–ã€ä¸»ç±»çš„ +initializeï¼›è‹¥å­ç±»æœªå®ç° +initializeï¼Œå°†è°ƒç”¨çˆ¶ç±»ä¸­çš„è¯¥æ–¹æ³•ï¼Œå› æ­¤ä¸€ä¸ªç±»ä¸­çš„ +initialize å¹¶ä¸èƒ½ä¿è¯åªè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œä½†å¯¹äºæŸä¸ªç±»ï¼Œåªä¼šè¢«è°ƒç”¨ä¸€æ¬¡</strong>ã€‚</p>

<h2 id="why">Why</h2>

<h4 id="å®ç°åŸç†">å®ç°åŸç†</h4>

<p>ä¸Šé¢æˆ‘ä»¬å…ˆæŠ›å‡ºäº†ç»“è®ºï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•éªŒè¯å‘¢ï¼ŸTalk is cheap, show me the code:</p>

<pre><code class="language-objectivec">// objc-class.mm
/***********************************************************************
* class_getClassMethod.  Return the class method for the specified
* class and selector.
* ä¸ºæŒ‡å®šçš„ç±»å’Œæ–¹æ³•é€‰æ‹©å™¨è¿”å›ç›¸åº”çš„ç±»æ–¹æ³•ã€‚
**********************************************************************/
Method class_getClassMethod(Class cls, SEL sel)
{
    if (!cls  ||  !sel) return nil;

    // â¡ï¸ è¿”å›å…ƒç±»çš„æ–¹æ³•
    // å› ä¸ºç±»å¯¹è±¡å’Œå…ƒç±»å¯¹è±¡çš„ç»“æ„ä¸€è‡´ï¼ˆå‡ä¸º Classï¼‰ï¼Œå› æ­¤å…ƒç±»çš„ç±»æ–¹æ³•å’Œç±»çš„å¯¹è±¡æ–¹æ³•å­˜å‚¨åœ¨åŒæ ·çš„ç»“æ„ä¸­
    return class_getInstanceMethod(cls-&gt;getMeta(), sel);
}

// objc-runtime-new.mm
/***********************************************************************
* class_getInstanceMethod.  Return the instance method for the
* specified class and selector.
* ä¸ºæŒ‡å®šçš„ç±»å’Œæ–¹æ³•é€‰æ‹©å™¨è¿”å›ç›¸åº”çš„å¯¹è±¡æ–¹æ³•ã€‚
**********************************************************************/
Method class_getInstanceMethod(Class cls, SEL sel)
{
    if (!cls  ||  !sel) return nil;

    // This deliberately avoids +initialize because it historically did so.
    // ç”±äºå†å²åŸå› ï¼Œè¿™é‡Œæ•…æ„é¿å… +initializeã€‚

    // This implementation is a bit weird because it's the only place that 
    // wants a Method instead of an IMP.
    // è¿™é‡Œçš„å®ç°æœ‰ç‚¹å¥‡æ€ªï¼Œå› ä¸ºè¿™æ˜¯å”¯ä¸€éœ€è¦ Method è€Œé IMP çš„åœ°æ–¹ã€‚

#warning fixme build and search caches
        
    // Search method lists, try method resolver, etc.
    // æœç´¢æ–¹æ³•åˆ—è¡¨ï¼Œå°è¯•æ–¹æ³•è§£æå™¨ç­‰ã€‚
    // â¡ï¸ æŸ¥æ‰¾ IMP
    lookUpImpOrNil(cls, sel, nil, 
                   NO/*initialize*/, NO/*cache*/, YES/*resolver*/);

#warning fixme build and search caches

    return _class_getMethod(cls, sel);
}

// objc-runtime-new.mm
/***********************************************************************
* lookUpImpOrNil.
* Like lookUpImpOrForward, but returns nil instead of _objc_msgForward_impcache
* ç±»ä¼¼ lookUpImpOrForwardï¼Œä½†è¿”å› nil æ›¿ä»£ _objc_msgForward_impcache
**********************************************************************/
IMP lookUpImpOrNil(Class cls, SEL sel, id inst, 
                   bool initialize, bool cache, bool resolver)
{
    // â¡ï¸ æŸ¥æ‰¾ IMP
    IMP imp = lookUpImpOrForward(cls, sel, inst, initialize, cache, resolver);
    // å½“ IMP ä¸º _objc_msgForward_impcache æ—¶ï¼Œè¿”å› nil
    if (imp == _objc_msgForward_impcache) return nil;
    else return imp;
}

// objc-runtime-new.mm
/***********************************************************************
* lookUpImpOrForward.
* The standard IMP lookup. 
* æ ‡å‡† IMP æŸ¥æ‰¾ã€‚
* initialize==NO tries to avoid +initialize (but sometimes fails)
* initialize==NO å°è¯•é¿å… +initializeï¼ˆä½†æœ‰æ—¶ä¼šå¤±è´¥ï¼‰
* cache==NO skips optimistic unlocked lookup (but uses cache elsewhere)
* cache==NO è·³è¿‡ä¹è§‚è§£é”æŸ¥æ‰¾ï¼ˆä½†æœ‰æ—¶ä»ä¼šä½¿ç”¨ç¼“å­˜ï¼‰
* Most callers should use initialize==YES and cache==YES.
* å¤§å¤šæ•°è°ƒç”¨è€…åº”å½“ä½¿ç”¨ initialize==YES ä¸” cache==YESã€‚
* inst is an instance of cls or a subclass thereof, or nil if none is known. 
* inst æ˜¯ cls æˆ–å…¶å­ç±»ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä¸º nilã€‚
*   If cls is an un-initialized metaclass then a non-nil inst is faster.
*   å¦‚æœ cls æ˜¯æœªåˆå§‹åŒ–çš„å…ƒç±»ï¼Œé‚£ä¹ˆé nil çš„ inst æ›´å¿«ã€‚
* May return _objc_msgForward_impcache. IMPs destined for external use 
*   must be converted to _objc_msgForward or _objc_msgForward_stret.
* å¯èƒ½è¿”å› _objc_msgForward_impcacheã€‚å¤–éƒ¨ä½¿ç”¨ IMP åˆ™æ³¨å®šå¿…é¡»è¢«è½¬æ¢ä¸º _objc_msgForward æˆ– _objc_msgForward_stretã€‚
*   If you don't want forwarding at all, use lookUpImpOrNil() instead.
*   å¦‚æœæ ¹æœ¬ä¸éœ€è¦è½¬å‘ï¼Œä½¿ç”¨ lookUpImpOrNil() æ›¿ä»£ã€‚
**********************************************************************/
IMP lookUpImpOrForward(Class cls, SEL sel, id inst, 
                       bool initialize, bool cache, bool resolver)
{
    IMP imp = nil;
    bool triedResolver = NO;
    
    // æ–­è¨€è§£é”
    runtimeLock.assertUnlocked();

    // Optimistic cache lookup
    // ä¹è§‚ç¼“å­˜æŸ¥æ‰¾
    if (cache) {
        imp = cache_getImp(cls, sel);
        if (imp) return imp;
    }

    // runtimeLock is held during isRealized and isInitialized checking
    // to prevent races against concurrent realization.
    // åœ¨ isRealized å’Œ isInitialized æ£€æŸ¥æœŸé—´ä¿æŒ runtimeLockï¼Œé˜²æ­¢å¹¶å‘å®åŒ–ç«äº‰ã€‚

    // runtimeLock is held during method search to make
    // method-lookup + cache-fill atomic with respect to method addition.
    // å…³äºæ–¹æ³•æ·»åŠ ï¼Œåœ¨æ–¹æ³•æœç´¢æœŸé—´ä¿æŒ runtimeLockï¼Œä½¿å¾—æ–¹æ³•æŸ¥æ‰¾å’Œç¼“å­˜å¡«å……åŸå­åŒ–ï¼ˆä¸å¯å†åˆ†å‰²ï¼‰ã€‚
    // Otherwise, a category could be added but ignored indefinitely because
    // the cache was re-filled with the old value after the cache flush on
    // behalf of the category.
    // å¦åˆ™ï¼Œåˆ†ç±»å¯ä»¥è¢«æ·»åŠ ä½†æ€»ä¼šè¢«å¿½ç•¥ï¼Œå› ä¸ºåˆ†ç±»çš„ç¼“å­˜åœ¨åˆ·æ–°åä¼šè¢«æ—§å€¼é‡å¤å¡«å……ã€‚

    runtimeLock.lock();
    checkIsKnownClass(cls);

    // å¦‚æœæœªå®åŒ–ï¼Œè¿›è¡Œå®åŒ–
    if (!cls-&gt;isRealized()) {
        realizeClass(cls);
    }

    // å¦‚æœéœ€è¦åˆå§‹åŒ–ä½†æœªåˆå§‹åŒ–ï¼Œè¿›è¡Œåˆå§‹åŒ–
    if (initialize  &amp;&amp;  !cls-&gt;isInitialized()) {
        runtimeLock.unlock();
        // â¡ï¸ ç±»åˆå§‹åŒ–
        _class_initialize (_class_getNonMetaClass(cls, inst));
        runtimeLock.lock();
        // If sel == initialize, _class_initialize will send +initialize and 
        // then the messenger will send +initialize again after this 
        // procedure finishes. Of course, if this is not being called 
        // from the messenger then it won't happen. 2778172
        // å¦‚æœ sel ç­‰äº initializeï¼Œ_class_initialize å°†å‘é€ +initialize æ¶ˆæ¯ï¼Œ
        // ä¹‹åå‘é€è€…å°†ä¼šåœ¨è¯¥è¿‡ç¨‹å®Œæˆåå†æ¬¡å‘é€ +initializeã€‚å½“ç„¶ï¼Œå¦‚æœä¸æ˜¯å‘é€è€…è°ƒç”¨ï¼Œåˆ™ä¸ä¼šå‘ç”Ÿã€‚
    }

    
 retry:    
    runtimeLock.assertLocked();

    // Try this class's cache.

    imp = cache_getImp(cls, sel);
    if (imp) goto done;

    // Try this class's method lists.
    {
        Method meth = getMethodNoSuper_nolock(cls, sel);
        if (meth) {
            log_and_fill_cache(cls, meth-&gt;imp, sel, inst, cls);
            imp = meth-&gt;imp;
            goto done;
        }
    }

    // Try superclass caches and method lists.
    {
        unsigned attempts = unreasonableClassCount();
        for (Class curClass = cls-&gt;superclass;
             curClass != nil;
             curClass = curClass-&gt;superclass)
        {
            // Halt if there is a cycle in the superclass chain.
            if (--attempts == 0) {
                _objc_fatal(&quot;Memory corruption in class list.&quot;);
            }
            
            // Superclass cache.
            imp = cache_getImp(curClass, sel);
            if (imp) {
                if (imp != (IMP)_objc_msgForward_impcache) {
                    // Found the method in a superclass. Cache it in this class.
                    log_and_fill_cache(cls, imp, sel, inst, curClass);
                    goto done;
                }
                else {
                    // Found a forward:: entry in a superclass.
                    // Stop searching, but don't cache yet; call method 
                    // resolver for this class first.
                    break;
                }
            }
            
            // Superclass method list.
            Method meth = getMethodNoSuper_nolock(curClass, sel);
            if (meth) {
                log_and_fill_cache(cls, meth-&gt;imp, sel, inst, curClass);
                imp = meth-&gt;imp;
                goto done;
            }
        }
    }

    // No implementation found. Try method resolver once.

    if (resolver  &amp;&amp;  !triedResolver) {
        runtimeLock.unlock();
        _class_resolveMethod(cls, sel, inst);
        runtimeLock.lock();
        // Don't cache the result; we don't hold the lock so it may have 
        // changed already. Re-do the search from scratch instead.
        triedResolver = YES;
        goto retry;
    }

    // No implementation found, and method resolver didn't help. 
    // Use forwarding.

    imp = (IMP)_objc_msgForward_impcache;
    cache_fill(cls, sel, imp, inst);

 done:
    runtimeLock.unlock();

    return imp;
}

// objc-initialize.mm
/***********************************************************************
* class_initialize.  Send the '+initialize' message on demand to any
* uninitialized class. Force initialization of superclasses first.
* class_initializeã€‚æŒ‰éœ€å‘é€ã€Œ+initializeã€æ¶ˆæ¯åˆ°æ‰€æœ‰æœªåˆå§‹åŒ–çš„ç±»ã€‚å¼ºåˆ¶çˆ¶ç±»æœ€å…ˆåˆå§‹åŒ–ã€‚
**********************************************************************/
void _class_initialize(Class cls)
{
    // æ–­è¨€éå…ƒç±»
    assert(!cls-&gt;isMetaClass());

    Class supercls;
    bool reallyInitialize = NO;

    // Make sure super is done initializing BEFORE beginning to initialize cls.
    // åœ¨å¼€å§‹åˆå§‹åŒ– cls å‰ç¡®ä¿çˆ¶ç±»å·²ç»å®Œæˆåˆå§‹åŒ–ã€‚
    // See note about deadlock above.
    // æŸ¥çœ‹ä¸Šé¢æ­»é”çš„å¤‡æ³¨ã€‚
    // å–å¾—çˆ¶ç±»
    supercls = cls-&gt;superclass;
    // å¦‚æœçˆ¶ç±»å­˜åœ¨ï¼Œä¸”æœªåˆå§‹åŒ–
    if (supercls  &amp;&amp;  !supercls-&gt;isInitialized()) {
    	 // é€’å½’åˆå§‹åŒ–çˆ¶ç±»
        _class_initialize(supercls);
    }
    
    // Try to atomically set CLS_INITIALIZING.
    // åŸå­åŒ–åœ°è®¾ç½® CLS_INITIALIZINGã€‚
    {
        monitor_locker_t lock(classInitLock);
        if (!cls-&gt;isInitialized() &amp;&amp; !cls-&gt;isInitializing()) {
            cls-&gt;setInitializing();
            reallyInitialize = YES;
        }
    }
    
    if (reallyInitialize) {
        // We successfully set the CLS_INITIALIZING bit. Initialize the class.
        // æˆåŠŸè®¾ç½® CLS_INITIALIZING ä½ã€‚åˆå§‹åŒ–ç±»ã€‚
        
        // Record that we're initializing this class so we can message it.
        // è®°å½•æˆ‘ä»¬æ­£åœ¨åˆå§‹åŒ–è¯¥ç±»ï¼Œä»¥ä¾¿å¯ä»¥å‘é€è¿™ä¸ªæ¶ˆæ¯ã€‚
        _setThisThreadIsInitializingClass(cls);

        if (MultithreadedForkChild) {
            // LOL JK we don't really call +initialize methods after fork().
            performForkChildInitialize(cls, supercls);
            return;
        }
        
        // Send the +initialize message.
        // å‘é€ +initialize æ¶ˆæ¯ã€‚
        // Note that +initialize is sent to the superclass (again) if 
        // this class doesn't implement +initialize. 2157218
        // å¦‚æœè¯¥ç±»æœªå®ç° +initializeï¼Œéœ€è¦æ³¨æ„ +initializeï¼ˆå†æ¬¡ï¼‰è¢«å‘é€åˆ°äº†çˆ¶ç±»
        // Xcode ä¸­ OBJC_PRINT_INITIALIZE_METHODS ç¯å¢ƒå˜é‡å€¼ä¸º YES æ—¶ï¼Œå°†å¯åœ¨æ§åˆ¶å°æ‰“å°è¯¥ä¿¡æ¯
        // OPTION(PrintInitializing, OBJC_PRINT_INITIALIZE_METHODS, &quot;log calls to class +initialize methods&quot;)
        if (PrintInitializing) {
            _objc_inform(&quot;INITIALIZE: thread %p: calling +[%s initialize]&quot;,
                         pthread_self(), cls-&gt;nameForLogging());
        }

        // Exceptions: A +initialize call that throws an exception 
        // is deemed to be a complete and successful +initialize.
        //
        // Only __OBJC2__ adds these handlers. !__OBJC2__ has a
        // bootstrapping problem of this versus CF's call to
        // objc_exception_set_functions().
#if __OBJC2__
        @try
#endif
        {
            // â¡ï¸ è°ƒç”¨ +initialize
            callInitialize(cls);

            if (PrintInitializing) {
                _objc_inform(&quot;INITIALIZE: thread %p: finished +[%s initialize]&quot;,
                             pthread_self(), cls-&gt;nameForLogging());
            }
        }
#if __OBJC2__
        @catch (...) {
            if (PrintInitializing) {
                _objc_inform(&quot;INITIALIZE: thread %p: +[%s initialize] &quot;
                             &quot;threw an exception&quot;,
                             pthread_self(), cls-&gt;nameForLogging());
            }
            @throw;
        }
        @finally
#endif
        {
            // Done initializing.
            lockAndFinishInitializing(cls, supercls);
        }
        return;
    }
    
    else if (cls-&gt;isInitializing()) {
        // We couldn't set INITIALIZING because INITIALIZING was already set.
        // If this thread set it earlier, continue normally.
        // If some other thread set it, block until initialize is done.
        // It's ok if INITIALIZING changes to INITIALIZED while we're here, 
        //   because we safely check for INITIALIZED inside the lock 
        //   before blocking.
        if (_thisThreadIsInitializingClass(cls)) {
            return;
        } else if (!MultithreadedForkChild) {
            waitForInitializeToComplete(cls);
            return;
        } else {
            // We're on the child side of fork(), facing a class that
            // was initializing by some other thread when fork() was called.
            _setThisThreadIsInitializingClass(cls);
            performForkChildInitialize(cls, supercls);
        }
    }
    
    else if (cls-&gt;isInitialized()) {
        // Set CLS_INITIALIZING failed because someone else already 
        //   initialized the class. Continue normally.
        // NOTE this check must come AFTER the ISINITIALIZING case.
        // Otherwise: Another thread is initializing this class. ISINITIALIZED 
        //   is false. Skip this clause. Then the other thread finishes 
        //   initialization and sets INITIALIZING=no and INITIALIZED=yes. 
        //   Skip the ISINITIALIZING clause. Die horribly.
        return;
    }
    
    else {
        // We shouldn't be here. 
        _objc_fatal(&quot;thread-safe class init in objc runtime is buggy!&quot;);
    }
}

// objc-initialize.mm
void callInitialize(Class cls)
{
    // ğŸ’¡ å‘ cls å‘é€ SEL_initialize æ¶ˆæ¯
    ((void(*)(Class, SEL))objc_msgSend)(cls, SEL_initialize);
    asm(&quot;&quot;);
}
</code></pre>

<p>è¿½æ ¹æº¯æºï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° +initialize çš„æœ¬è´¨å…¶å®æ˜¯ objc_msgSendï¼Œå³æ¶ˆæ¯å‘é€æœºåˆ¶ï¼Œä¸åŒäº +load ç›´æ¥æ ¹æ® IMP æŒ‡é’ˆè¿›è¡Œè°ƒç”¨ã€‚è¿™ä¹Ÿå°±è§£é‡Šäº†åœ¨ Demo ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå°è¯•å‘ <code>Student</code> ç±»å‘é€ä¸€ä¸ª <code>alloc</code> æ¶ˆæ¯ï¼Œè¿è¡Œæ—¶ä¼šå…ˆæ‰¾åˆ°çˆ¶ç±» <code>Person</code> çš„ +initialize æ–¹æ³•è¿›è¡Œè°ƒç”¨ï¼Œè€Œç”±äºçˆ¶ç±»åˆå­˜åœ¨åˆ†ç±»ï¼Œæœ€åç¼–è¯‘çš„ <code>Person+Work</code> åˆ†ç±»ã€Œè¦†ç›–ã€äº†å…¶å®ƒåˆ†ç±»å’Œä¸»ç±»ä¸­ç›¸åŒçš„æ–¹æ³•è€Œå¾—ä»¥è°ƒç”¨ï¼›éšåè°ƒç”¨å­ç±»è‡ªèº«çš„ +initialize æ–¹æ³•ï¼Œè€Œ <code>Student+School</code> åˆ†ç±»ã€Œè¦†ç›–ã€äº†ä¸»ç±»ä¸­ç›¸åŒçš„æ–¹æ³•è€Œå¾—ä»¥è°ƒç”¨ï¼›è€Œå‘ <code>Programmer</code> ç±»æ‰‹åŠ¨å‘é€ +load æ¶ˆæ¯æ—¶ï¼ˆå½“ç„¶ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¸ä¼šè¿™ä¹ˆåšï¼‰ï¼Œç”±äºè¯¥ç±»æœ¬èº«æ²¡æœ‰å®ç° +initialize æ–¹æ³•ï¼Œå› æ­¤æœ€ç»ˆé€šè¿‡çˆ¶ç±»çš„ <code>Person+Work</code> åˆ†ç±»è°ƒç”¨äº† +initialize æ–¹æ³•ã€‚</p>

<p><img src="/img/2019/+initialize_in_iOS/1.png" alt="" /></p>

<p>å¦‚ä¸Šæ‰€è¿°ï¼Œä¸€ä¸ªç±»çš„ +initialize æ–¹æ³•å¹¶ä¸èƒ½ä¿è¯åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬ä¸å¸Œæœ›å¤šæ¬¡è°ƒç”¨ï¼Œå¯ä»¥åœ¨ +initialize æ–¹æ³•ä¸­è¿›è¡Œåˆ¤æ–­ <code>self == [ClassName self]</code>ã€‚</p>

<h2 id="objc-print-initialize-methods"><code>OBJC_PRINT_INITIALIZE_METHODS</code></h2>

<p>ä¸ºäº†ä¾¿äº Debug è¿è¡Œæ—¶çš„ +initialize æ–¹æ³•ï¼Œå°† <code>OBJC_PRINT_INITIALIZE_METHODS</code> åœ¨ Xcode ä¸­è®¾ç½®ä¸º YES åï¼Œå¯ä»¥æ‰“å°å‡ºå¾ˆå¤š + initialize æ–¹æ³•æ‰§è¡Œæ—¶çš„ä¿¡æ¯ï¼š</p>

<pre><code>objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSObject initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSObject initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSObject is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[OS_dispatch_data initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[OS_dispatch_data initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: OS_dispatch_data is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[OS_object initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[OS_object initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: OS_object is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[OS_xpc_object initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[OS_xpc_object initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: OS_xpc_object is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[OS_xpc_string initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[OS_xpc_string initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: OS_xpc_string is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[OS_xpc_data initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[OS_xpc_data initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: OS_xpc_data is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[OS_xpc_dictionary initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[OS_xpc_dictionary initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: OS_xpc_dictionary is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[OS_xpc_serializer initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[OS_xpc_serializer initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: OS_xpc_serializer is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[OS_dispatch_object initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[OS_dispatch_object initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: OS_dispatch_object is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[OS_dispatch_mach_msg initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[OS_dispatch_mach_msg initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: OS_dispatch_mach_msg is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[OS_xpc_array initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[OS_xpc_array initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: OS_xpc_array is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[__NSCFType initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[__NSCFType initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: __NSCFType is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[__NSCFString initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[__NSCFString initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: __NSCFString is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSArray initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSArray initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSArray is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSMutableArray initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSMutableArray initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSMutableArray is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[__NSPlaceholderArray initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[__NSPlaceholderArray initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: __NSPlaceholderArray is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[__NSSingleObjectArrayI initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[__NSSingleObjectArrayI initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: __NSSingleObjectArrayI is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSDictionary initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSDictionary initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSDictionary is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[__NSDictionary0 initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[__NSDictionary0 initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: __NSDictionary0 is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSMutableDictionary initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSMutableDictionary initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSMutableDictionary is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[__NSArray0 initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[__NSArray0 initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: __NSArray0 is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSEnumerator initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSEnumerator initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSEnumerator is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[__NSEnumerator0 initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[__NSEnumerator0 initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: __NSEnumerator0 is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSLock initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSLock initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSLock is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSRecursiveLock initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSRecursiveLock initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSRecursiveLock is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSThread initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSThread initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSThread is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[__NSCFDictionary initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[__NSCFDictionary initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: __NSCFDictionary is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[_NSThreadData initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[_NSThreadData initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: _NSThreadData is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[__NSPlaceholderDictionary initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[__NSPlaceholderDictionary initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: __NSPlaceholderDictionary is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[__NSDictionaryM initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[__NSDictionaryM initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: __NSDictionaryM is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[__NSCFArray initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[__NSCFArray initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: __NSCFArray is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSSet initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSSet initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSSet is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSMutableSet initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSMutableSet initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSMutableSet is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[__NSPlaceholderSet initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[__NSSetI initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[__NSSetI initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: __NSSetI is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[__NSPlaceholderSet initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: __NSPlaceholderSet is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[__NSSetM initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[__NSSetM initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: __NSSetM is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSBindingSelectionMarker initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSBindingSelectionMarker initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSBindingSelectionMarker is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[_NSStateMarker initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[_NSStateMarker initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: _NSStateMarker is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[__NSCFConstantString initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSString initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSPlaceholderString initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSPlaceholderString initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: class NSPlaceholderString will be marked as fully +initialized after superclass +[NSString initialize] completes
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSTaggedPointerString initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSTaggedPointerString initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: class NSTaggedPointerString will be marked as fully +initialized after superclass +[NSString initialize] completes
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSString initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSString is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSTaggedPointerString is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSPlaceholderString is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSMutableString initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSPlaceholderMutableString initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSPlaceholderMutableString initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: class NSPlaceholderMutableString will be marked as fully +initialized after superclass +[NSMutableString initialize] completes
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSMutableString initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSMutableString is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSPlaceholderMutableString is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[__NSCFConstantString initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: __NSCFConstantString is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSBundle initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSBundle initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSBundle is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[_CFXPreferencesHandle initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[_CFXPreferencesHandle initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: _CFXPreferencesHandle is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[_CFXPreferences initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[_CFXPreferences initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: _CFXPreferences is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[NSURL initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[NSURL initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: NSURL is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[CFPrefsSource initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[CFPrefsSource initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: CFPrefsSource is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[CFPrefsSearchListSource initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[CFPrefsSearchListSource initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: CFPrefsSearchListSource is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[CFPrefsPlistSource initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[CFPrefsPlistSource initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: CFPrefsPlistSource is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[CFPrefsManagedSource initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[CFPrefsManagedSource initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: CFPrefsManagedSource is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[__NSArrayM initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[__NSArrayM initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: __NSArrayM is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[OS_xpc_mach_send initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[OS_xpc_mach_send initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: OS_xpc_mach_send is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[OS_xpc_uuid initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[OS_xpc_uuid initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: OS_xpc_uuid is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[OS_xpc_int64 initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[OS_xpc_int64 initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: OS_xpc_int64 is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[OS_voucher initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[OS_voucher initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: OS_voucher is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[CFPrefsSuiteSearchListSource initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[CFPrefsSuiteSearchListSource initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: CFPrefsSuiteSearchListSource is fully +initialized
objc[23971]: INITIALIZE: thread 0x700009500000: calling +[NSData initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: blocking until +[NSData initialize] completes
objc[23971]: INITIALIZE: thread 0x700009500000: finished +[NSData initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: NSData is fully +initialized
objc[23971]: INITIALIZE: thread 0x700009500000: calling +[NSMutableData initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: blocking until +[NSMutableData initialize] completes
objc[23971]: INITIALIZE: thread 0x700009500000: finished +[NSMutableData initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: NSMutableData is fully +initialized
objc[23971]: INITIALIZE: thread 0x700009500000: calling +[__NSCFData initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: blocking until +[__NSCFData initialize] completes
objc[23971]: INITIALIZE: thread 0x700009500000: finished +[__NSCFData initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: __NSCFData is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[_NSDispatchData initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[_NSDispatchData initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: _NSDispatchData is fully +initialized
objc[23971]: INITIALIZE: thread 0x700009500000: calling +[NSDate initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: finished +[NSDate initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: NSDate is fully +initialized
objc[23971]: INITIALIZE: thread 0x700009500000: calling +[__NSPlaceholderDate initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: finished +[__NSPlaceholderDate initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: __NSPlaceholderDate is fully +initialized
objc[23971]: INITIALIZE: thread 0x700009500000: calling +[__NSTaggedDate initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: finished +[__NSTaggedDate initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: __NSTaggedDate is fully +initialized
objc[23971]: INITIALIZE: thread 0x700009500000: calling +[__NSDate initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: finished +[__NSDate initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: __NSDate is fully +initialized
objc[23971]: INITIALIZE: thread 0x700009500000: calling +[NSValue initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: calling +[NSNumber initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: finished +[NSNumber initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: class NSNumber will be marked as fully +initialized after superclass +[NSValue initialize] completes
objc[23971]: INITIALIZE: thread 0x700009500000: calling +[NSPlaceholderValue initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: finished +[NSPlaceholderValue initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: class NSPlaceholderValue will be marked as fully +initialized after superclass +[NSNumber initialize] completes
objc[23971]: INITIALIZE: thread 0x700009500000: calling +[NSPlaceholderNumber initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: finished +[NSPlaceholderNumber initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: class NSPlaceholderNumber will be marked as fully +initialized after superclass +[NSPlaceholderValue initialize] completes
objc[23971]: INITIALIZE: thread 0x700009500000: finished +[NSValue initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: NSValue is fully +initialized
objc[23971]: INITIALIZE: thread 0x700009500000: NSNumber is fully +initialized
objc[23971]: INITIALIZE: thread 0x700009500000: NSPlaceholderValue is fully +initialized
objc[23971]: INITIALIZE: thread 0x700009500000: NSPlaceholderNumber is fully +initialized
objc[23971]: INITIALIZE: thread 0x700009500000: calling +[__NSCFNumber initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: finished +[__NSCFNumber initialize]
objc[23971]: INITIALIZE: thread 0x700009500000: __NSCFNumber is fully +initialized
2019-05-01 00:07:04.813693+0800 Initialize_Demo[23971:21942131] ---
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[Person initialize]
2019-05-01 00:07:04.814048+0800 Initialize_Demo[23971:21942131] Person+Work +[Person(Work) initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[Person initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: Person is fully +initialized
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[Student initialize]
2019-05-01 00:07:04.814168+0800 Initialize_Demo[23971:21942131] Student+School +[Student(School) initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[Student initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: Student is fully +initialized
2019-05-01 00:07:04.814271+0800 Initialize_Demo[23971:21942131] ---
2019-05-01 00:07:04.814297+0800 Initialize_Demo[23971:21942131] ---
objc[23971]: INITIALIZE: thread 0x1000aa5c0: calling +[Programmer initialize]
2019-05-01 00:07:04.814347+0800 Initialize_Demo[23971:21942131] Person+Work +[Person(Work) initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: finished +[Programmer initialize]
objc[23971]: INITIALIZE: thread 0x1000aa5c0: Programmer is fully +initialized
</code></pre>

<h2 id="å¼€é”€">å¼€é”€</h2>

<p>+initialize æ–¹æ³•ä¸åŒäº +load æ–¹æ³•ï¼Œä¸ä¼šä½¿å¾—ç¨‹åºå°†æ—¶é—´è¿‡å¤šåœ°æµªè´¹åœ¨å¯åŠ¨è¿‡ç¨‹ä¸­ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†ä¸€äº›åˆé€‚çš„æ“ä½œä¸‹æ²‰åˆ° +initialize ä¸­å®Œæˆã€‚ä½† +initialize æ˜¯ä»¥é˜»å¡çš„æ–¹å¼è¢«è°ƒç”¨ï¼Œä¹Ÿä¸é€‚åˆåšç‰¹åˆ«å¤šç¹é‡å°¤å…¶æ˜¯å¯èƒ½å¯¼è‡´æ­»é”çš„æ“ä½œã€‚</p>

<h2 id="reference">Reference</h2>

<ul>
<li><a href="https://maimieng.com/posts/2019/+load_in_ios/">iOS ä¸­çš„ +load æ–¹æ³•</a></li>
</ul>

  </div>
  
  <div class="pagination">
    <div class="pagination__title">
      <span
        class="pagination__title-h">Read other posts</span>
      <hr />
    </div>
    <div class="pagination__buttons">
      
      <span class="button previous">
        <a href="/posts/2019/effective_objc_2.0_notes/">
          <span class="button__icon">â†</span>
          <span class="button__text">ã€Šç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹é˜…è¯»ç¬”è®°</span>
        </a>
      </span>
      
      
      <span class="button next">
        <a href="/posts/2019/&#43;load_in_ios/">
          <span class="button__text">iOS ä¸­çš„ &#43;load æ–¹æ³•</span>
          <span class="button__icon">â†’</span>
        </a>
      </span>
      
    </div>
  </div>
  

  

    
    
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo="kingcos/kingcos.github.io"
            issue-term="pathname"
            label="comments"
            theme="github-dark"
            crossorigin="anonymous"
            async>
      </script>
    </div>
    

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>Â© 2019 Â· <a href="http://github.com/kingcos">kingcos</a></span>
      </div>
    
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>





  
</div>

</body>
</html>
