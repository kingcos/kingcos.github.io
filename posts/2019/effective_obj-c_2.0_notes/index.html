<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>ã€Šç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹é˜…è¯»ç¬”è®° :: iBlog â€” github.com/kingcos</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="Book ISBN Notes     ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³• 9787111451297 -   Date Num. Xcode   2019-05 1-3 10.2.1   2019-06 4 10.2.1   2019-07 5-9 10.2.1    ç†Ÿæ‚‰ Objective-C äº†è§£ Objective-C è¯­è¨€çš„èµ·æº  æ¶ˆæ¯ç»“æ„ï¼ˆMessage Structureï¼‰çš„è¯­è¨€ï¼Œè¿è¡Œæ—¶æ‰§è¡Œçš„ä»£ç ç”±è¿è¡Œç¯å¢ƒå†³å®šï¼›å‡½æ•°è°ƒç”¨ï¼ˆFunction Callingï¼‰çš„è¯­è¨€ï¼Œè¿è¡Œæ—¶æ‰€æ‰§è¡Œçš„ä»£ç ç”±ç¼–è¯‘å™¨å†³å®šï¼Œå¯¹äºå¤šæ€ï¼Œåˆ™æŒ‰ç…§è™šå‡½æ•°è¡¨ï¼ˆVirtual Method Tableï¼‰å¯»æ‰¾ã€‚ è¿è¡Œæ—¶ç»„ä»¶ï¼ˆRuntime Componentï¼‰ æœ¬è´¨ä¸Šæ˜¯ä¸€ç§ä¸å¼€å‘è€…æ‰€ç¼–å†™ä»£ç ç›¸é“¾æ¥çš„ã€ŒåŠ¨æ€åº“ï¼ˆDynamic Libraryï¼‰ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯åªéœ€è¦æ›´æ–°è¿è¡Œæ—¶ç»„ä»¶ï¼ˆæ— éœ€é‡æ–°ç¼–è¯‘ï¼‰å³å¯æå‡ç¨‹åºæ€§èƒ½ã€‚ Obj-C æ˜¯ C çš„è¶…é›†ã€‚ Obj-C ä¸­çš„å¯¹è±¡æ‰€å å†…å­˜æ€»æ˜¯åˆ†é…åœ¨å †ç©ºé—´ï¼ˆHeap Stackï¼‰ï¼›è€ŒæŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆæ‰€å å†…å­˜æ€»æ˜¯åˆ†é…åœ¨æ ˆå¸§ï¼ˆStack Frameï¼‰ä¸­ã€‚ å †ä¸­çš„å†…å­˜éœ€è¦ç¨‹åºå‘˜è‡ªå·±ç®¡ç†ï¼Œæ ˆä¸­çš„å†…å­˜ä¼šåœ¨å…¶æ ˆå¸§å¼¹å‡ºï¼ˆPopï¼‰æ—¶è‡ªåŠ¨æ¸…ç†ã€‚ åˆ›å»ºå¯¹è±¡ç›¸æ¯”åˆ›å»ºç»“æ„ä½“ï¼ˆC ç»“æ„ä½“ï¼‰éœ€è¦é¢å¤–å¼€é”€ï¼Œä¾‹å¦‚åˆ†é…å’Œé‡Šæ”¾å †å†…å­˜ç­‰ã€‚  // âš ï¸ ç”±äº Obj-C ä¸­çš„å­—ç¬¦ä¸²ï¼ˆNSStringï¼‰ç•¥æœ‰ç‰¹æ®Šï¼Œæ­¤å¤„å¹¶æœªä½¿ç”¨ä¹¦ä¸­çš„ NSString ä½œä¸ºèŒƒä¾‹ // å¯¹è±¡æœ¬èº«è¢«åˆ†é…åœ¨å †ä¸Šï¼›obj1 &amp;amp; obj2 è¢«åˆ†é…åœ¨æ ˆä¸Š NSObject *obj1 = [[NSObject alloc] init]; NSObject *obj2 = obj1; // (lldb) p obj1 // (NSObject *) $0 = 0x00000001005092b0 // (lldb) p obj2 // (NSObject *) $1 = 0x00000001005092b0 // (lldb) p &amp;amp;obj1 // (NSObject **) $2 = 0x00007ffeefbff508 // (lldb) p &amp;amp;obj2 // (NSObject **) $3 = 0x00007ffeefbff500  åœ¨ç±»çš„å¤´æ–‡ä»¶ä¸­å°½é‡å°‘å¼•å…¥å…¶ä»–å¤´æ–‡ä»¶  å½“éœ€è¦çŸ¥é“æœ‰ä¸€ä¸ªç±»çš„å­˜åœ¨æ—¶ï¼Œè€Œä¸å…³å¿ƒå…¶å†…éƒ¨ç»†èŠ‚æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å‘å‰å£°æ˜ï¼ˆForward Declaringï¼‰å‘ŠçŸ¥ç¼–è¯‘å™¨ï¼Œå³å¯ä»¥åœ¨ ."/>
<meta name="keywords" content="ios,swift,objective-c,obj-c,objc,oc,geek,python,ruby,golang,go,apple,mac"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/posts/2019/effective_obj-c_2.0_notes/" />





<link rel="stylesheet" href="/assets/style.css">


<link rel="stylesheet" href="/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="/img/favicon.png">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ã€Šç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹é˜…è¯»ç¬”è®°"/>
<meta name="twitter:description" content="ğŸš§ Building... ğŸš§ Standing on the shoulders of giants."/>



<meta property="og:title" content="ã€Šç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹é˜…è¯»ç¬”è®°" />
<meta property="og:description" content="ğŸš§ Building... ğŸš§ Standing on the shoulders of giants." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/2019/effective_obj-c_2.0_notes/" />
<meta property="article:published_time" content="2019-05-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-05-01T00:00:00+00:00" /><meta property="og:site_name" content="iBlog" />






  </head>
  <body class="dark-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a href="/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367"/>
</svg>
</span>
    <span class="logo__text">iBlog</span>
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/links">Links</a></li>
        
      
        
          <li><a href="/perspective">Perspective</a></li>
        
      
        
          <li><a href="/words">Words</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/links">Links</a></li>
      
    
      
        <li><a href="/perspective">Perspective</a></li>
      
    
      
        <li><a href="/words">Words</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  <div class="post">
    <h2 class="post-title"><a href="/posts/2019/effective_obj-c_2.0_notes/">ã€Šç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹é˜…è¯»ç¬”è®°</a></h2>
    <div class="post-meta">
      
        <span class="post-date">
            2019-05-01
        </span>
      
      
      
        <span class="post-read-time">â€” 8 min read</span>
      
    </div>

    
      <span class="post-tags">
        
          #<a href="/tags/read/">Read</a>&nbsp;
        
          #<a href="/tags/ios/">iOS</a>&nbsp;
        
          #<a href="/tags/obj-c/">Obj-C</a>&nbsp;
        
      </span>
    

    

    <div class="post-content">
      

<table>
<thead>
<tr>
<th align="center">Book</th>
<th align="center">ISBN</th>
<th align="center">Notes</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•</td>
<td align="center">9787111451297</td>
<td align="center">-</td>
</tr>

<tr>
<td align="center"><strong>Date</strong></td>
<td align="center"><strong>Num.</strong></td>
<td align="center"><strong>Xcode</strong></td>
</tr>

<tr>
<td align="center">2019-05</td>
<td align="center">1-3</td>
<td align="center">10.2.1</td>
</tr>

<tr>
<td align="center">2019-06</td>
<td align="center">4</td>
<td align="center">10.2.1</td>
</tr>

<tr>
<td align="center">2019-07</td>
<td align="center">5-9</td>
<td align="center">10.2.1</td>
</tr>
</tbody>
</table>

<h2 id="ç†Ÿæ‚‰-objective-c">ç†Ÿæ‚‰ Objective-C</h2>

<h3 id="äº†è§£-objective-c-è¯­è¨€çš„èµ·æº">äº†è§£ Objective-C è¯­è¨€çš„èµ·æº</h3>

<ul>
<li>æ¶ˆæ¯ç»“æ„ï¼ˆMessage Structureï¼‰çš„è¯­è¨€ï¼Œè¿è¡Œæ—¶æ‰§è¡Œçš„ä»£ç ç”±è¿è¡Œç¯å¢ƒå†³å®šï¼›å‡½æ•°è°ƒç”¨ï¼ˆFunction Callingï¼‰çš„è¯­è¨€ï¼Œè¿è¡Œæ—¶æ‰€æ‰§è¡Œçš„ä»£ç ç”±ç¼–è¯‘å™¨å†³å®šï¼Œå¯¹äºå¤šæ€ï¼Œåˆ™æŒ‰ç…§è™šå‡½æ•°è¡¨ï¼ˆVirtual Method Tableï¼‰å¯»æ‰¾ã€‚</li>
<li>è¿è¡Œæ—¶ç»„ä»¶ï¼ˆRuntime Componentï¼‰ æœ¬è´¨ä¸Šæ˜¯ä¸€ç§ä¸å¼€å‘è€…æ‰€ç¼–å†™ä»£ç ç›¸é“¾æ¥çš„ã€ŒåŠ¨æ€åº“ï¼ˆDynamic Libraryï¼‰ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯åªéœ€è¦æ›´æ–°è¿è¡Œæ—¶ç»„ä»¶ï¼ˆæ— éœ€é‡æ–°ç¼–è¯‘ï¼‰å³å¯æå‡ç¨‹åºæ€§èƒ½ã€‚</li>
<li>Obj-C æ˜¯ C çš„è¶…é›†ã€‚</li>
<li>Obj-C ä¸­çš„å¯¹è±¡æ‰€å å†…å­˜æ€»æ˜¯åˆ†é…åœ¨å †ç©ºé—´ï¼ˆHeap Stackï¼‰ï¼›è€ŒæŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆæ‰€å å†…å­˜æ€»æ˜¯åˆ†é…åœ¨æ ˆå¸§ï¼ˆStack Frameï¼‰ä¸­ã€‚</li>
<li>å †ä¸­çš„å†…å­˜éœ€è¦ç¨‹åºå‘˜è‡ªå·±ç®¡ç†ï¼Œæ ˆä¸­çš„å†…å­˜ä¼šåœ¨å…¶æ ˆå¸§å¼¹å‡ºï¼ˆPopï¼‰æ—¶è‡ªåŠ¨æ¸…ç†ã€‚</li>
<li>åˆ›å»ºå¯¹è±¡ç›¸æ¯”åˆ›å»ºç»“æ„ä½“ï¼ˆC ç»“æ„ä½“ï¼‰éœ€è¦é¢å¤–å¼€é”€ï¼Œä¾‹å¦‚åˆ†é…å’Œé‡Šæ”¾å †å†…å­˜ç­‰ã€‚</li>
</ul>

<p><img src="/img/2019/effective_obj-c_2.0_notes/1.png" alt="1" /></p>

<pre><code class="language-objectivec">// âš ï¸ ç”±äº Obj-C ä¸­çš„å­—ç¬¦ä¸²ï¼ˆNSStringï¼‰ç•¥æœ‰ç‰¹æ®Šï¼Œæ­¤å¤„å¹¶æœªä½¿ç”¨ä¹¦ä¸­çš„ NSString ä½œä¸ºèŒƒä¾‹
// å¯¹è±¡æœ¬èº«è¢«åˆ†é…åœ¨å †ä¸Šï¼›obj1 &amp; obj2 è¢«åˆ†é…åœ¨æ ˆä¸Š
NSObject *obj1 = [[NSObject alloc] init];
NSObject *obj2 = obj1;

// (lldb) p obj1
// (NSObject *) $0 = 0x00000001005092b0
// (lldb) p obj2
// (NSObject *) $1 = 0x00000001005092b0
// (lldb) p &amp;obj1
// (NSObject **) $2 = 0x00007ffeefbff508
// (lldb) p &amp;obj2
// (NSObject **) $3 = 0x00007ffeefbff500
</code></pre>

<h3 id="åœ¨ç±»çš„å¤´æ–‡ä»¶ä¸­å°½é‡å°‘å¼•å…¥å…¶ä»–å¤´æ–‡ä»¶">åœ¨ç±»çš„å¤´æ–‡ä»¶ä¸­å°½é‡å°‘å¼•å…¥å…¶ä»–å¤´æ–‡ä»¶</h3>

<ul>
<li>å½“éœ€è¦çŸ¥é“æœ‰ä¸€ä¸ªç±»çš„å­˜åœ¨æ—¶ï¼Œè€Œä¸å…³å¿ƒå…¶å†…éƒ¨ç»†èŠ‚æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å‘å‰å£°æ˜ï¼ˆForward Declaringï¼‰å‘ŠçŸ¥ç¼–è¯‘å™¨ï¼Œå³å¯ä»¥åœ¨ .hï¼ˆå¤´æ–‡ä»¶ï¼‰ä¸­ <code>@class SomeClass</code>ï¼›è€Œåœ¨ .mï¼ˆå®ç°æ–‡ä»¶ï¼‰ä¸­å¼•å…¥å®é™…çš„ .hã€‚</li>
<li>å½“åœ¨ä¸¤ä¸ªå¤´æ–‡ä»¶ä¸­äº’ç›¸å¼•å…¥å¯¹æ–¹ï¼Œåˆ™ä¼šå¯¼è‡´ã€Œå¾ªç¯å¼•ç”¨ï¼ˆChicken-Egg Situationï¼‰ã€ï¼Œæ— æ³•é€šè¿‡ç¼–è¯‘ã€‚</li>
<li>å°†å¼•å…¥å¤´æ–‡ä»¶çš„æ—¶æœºå°½é‡å»¶åï¼Œåªæœ‰åœ¨ç¡®å®šæœ‰éœ€è¦æ—¶æ‰å¼•å…¥ï¼Œå¦åˆ™ä¼šå¢åŠ è€¦åˆåº¦ã€æ‹‰é•¿ç¼–è¯‘æ—¶é—´ã€äº§ç”Ÿç›¸äº’ä¾èµ–ç­‰é—®é¢˜ã€‚</li>
<li>ç»§æ‰¿çˆ¶ç±»å’Œéµå¾ªåè®®åˆ™ä¸èƒ½ä½¿ç”¨å‘å‰å£°æ˜ï¼Œå¿…é¡»å¼•å…¥ç›¸åº”çš„å¤´æ–‡ä»¶ï¼Œå› æ­¤åè®®æœ€å¥½å£°æ˜åœ¨å•ç‹¬çš„å¤´æ–‡ä»¶ä¸­ã€‚</li>
<li>ç”±äºä»£ç†åè®®ï¼ˆDelegate Protocolï¼‰å’Œéµå®ˆåè®®ä»£ç†çš„ç±»å£°æ˜åœ¨ä¸€èµ·æ—¶æ‰æœ‰æ„ä¹‰ï¼Œæœ€å¥½åœ¨å®ç°æ–‡ä»¶ä¸­å£°æ˜ç±»éµå®ˆäº†è¯¥ä»£ç†åè®®ï¼Œå¹¶å°†å®ç°ä»£ç æ”¾åœ¨ Class-Continuation åˆ†ç±»ï¼ˆClass-Continuation Categoryï¼‰ä¸­ï¼›å› æ­¤åªéœ€è¦åœ¨å®ç°æ–‡ä»¶ä¸­å¼•å…¥åŒ…å«ä»£ç†åè®®çš„å¤´æ–‡ä»¶å³å¯ï¼Œè€Œä¸éœ€è¦å°†å…¶æ”¾åœ¨å…¬å…±å¤´æ–‡ä»¶ï¼ˆPublic Header Fileï¼‰ä¸­ã€‚</li>
</ul>

<h3 id="å¤šç”¨å­—é¢é‡è¯­æ³•-å°‘ç”¨ä¸ä¹‹ç­‰ä»·çš„æ–¹æ³•">å¤šç”¨å­—é¢é‡è¯­æ³•ï¼Œå°‘ç”¨ä¸ä¹‹ç­‰ä»·çš„æ–¹æ³•</h3>

<ul>
<li><p>å­—é¢é‡ï¼ˆLiteralï¼‰è¯­æ³•ç®€åŒ–äº† Obj-C çš„éƒ¨åˆ† APIï¼š</p>

<pre><code class="language-objectivec">NSString *strValue = @&quot;str&quot;;
NSNumber *intValue = @1;
NSNumber *doubleValue = @3.14;
NSArray *arrValue = @[@&quot;a&quot;, @&quot;b&quot;, @&quot;c&quot;];
NSString *firstValueForArr = arrValue[0];
// âš ï¸ å­—é¢é‡åˆ›å»ºçš„æ•°ç»„ã€å­—å…¸éƒ½æ˜¯ä¸å¯å˜çš„
NSMutableArray *mutableArrValue = [@[@&quot;a&quot;, @&quot;b&quot;, @&quot;c&quot;] mutableCopy];
mutableArrValue[0] = @&quot;kingcos.me&quot;;
NSDictionary *dictValue = @{@&quot;key&quot; : @100};
NSNumber *valueForDictByKey  = dictValue[@&quot;key&quot;];
NSMutableDictionary *mutableDictValue = [@{@&quot;key&quot; : @100} mutableCopy];
mutableDictValue[@&quot;key&quot;] = @200;
</code></pre></li>

<li><p>å­—é¢é‡è¯­æ³•åœ¨ <code>NSArray</code>ã€<code>NSDictionary</code> ç­‰ç±»ä¸­æ’å…¥ <code>nil</code> å¯¹è±¡æ—¶ä¼šç›´æ¥å´©æºƒï¼Œè€Œç›´æ¥ä½¿ç”¨ API åˆ™ä¼šå‘ç”Ÿã€Œæˆªæ–­ã€ï¼Œå¯¹äºè¿™ä¸¤ä¸ªç”¨æ³•å·®å¼‚åŠ¡å¿…è¦æ³¨æ„ï¼š</p>

<pre><code class="language-objectivec">id nilObj = nil;
// *** -[__NSPlaceholderArray initWithObjects:count:]: attempt to insert nil object from objects[3]
NSArray *arrWithNilObject1 = @[@0, nilObj, @2];
// (0)
NSArray *arrWithNilObject2 = [NSArray arrayWithObjects:@0, nil, @2, nil];
// *** -[__NSPlaceholderDictionary initWithObjects:forKeys:count:]: attempt to insert nil object from objects[0]
NSDictionary *dictWithNilObject1 = @{@&quot;a&quot; : @&quot;A&quot;, @&quot;b&quot; : nilObj, @&quot;c&quot; : @&quot;C&quot;};
// { a = A; }
NSDictionary *dictWithNilObject2 = [NSDictionary dictionaryWithObjectsAndKeys:@&quot;A&quot;, @&quot;a&quot;, nilObj, @&quot;b&quot;, @&quot;C&quot;, @&quot;c&quot;, nil];
</code></pre></li>

<li><p>é™¤äº†å­—ç¬¦ä¸²ï¼Œå­—é¢é‡è¯­æ³•ä»…é€‚ç”¨äº Foundation æ¡†æ¶ä¸­ï¼Œå³æˆ‘ä»¬è‡ªå®šä¹‰ç»§æ‰¿è‡ªä¸Šè¿°æ”¯æŒå­—é¢é‡çš„ç±»æ—¶ï¼Œå°†ä¸å†æ”¯æŒä½¿ç”¨å­—é¢é‡ã€‚</p></li>
</ul>

<h3 id="å¤šç”¨ç±»å‹å¸¸é‡-å°‘ç”¨-define-é¢„å¤„ç†æŒ‡ä»¤">å¤šç”¨ç±»å‹å¸¸é‡ï¼Œå°‘ç”¨ #define é¢„å¤„ç†æŒ‡ä»¤</h3>

<ul>
<li><p><code>#define</code> é¢„å¤„ç†æŒ‡ä»¤æ²¡æœ‰ç±»å‹ä¿¡æ¯ï¼Œä¸”ä¼šåœ¨å¼•ç”¨åˆ°åŒ…å«è¯¥æŒ‡ä»¤çš„æ‰€æœ‰æ–‡ä»¶ä¸­è¿›è¡Œæ›¿æ¢ï¼Œå› æ­¤æ›´åŠ æ¨èä½¿ç”¨ç±»å‹å¸¸é‡ã€‚</p>

<pre><code class="language-objectivec">// é¢„å¤„ç†æŒ‡ä»¤ï¼ˆç¼–è¯‘å‰è¿›è¡Œç›´æ¥æ›¿æ¢ï¼‰
#define ANIMATION_DURATION 0.3

// Some.m

// ç±»å‹å¸¸é‡
// const å†³å®šäº†å…¶ä¸ºå¸¸é‡ï¼Œä¸å¯è¢«å†æ¬¡æ”¹å˜
// static å†³å®šäº†å…¶ä½œç”¨åŸŸï¼Œå³å½“å‰æ–‡ä»¶ï¼ˆå› æ­¤å¦‚æœå°†å…¶å®šä¹‰åœ¨ *.h ä¸­ï¼Œå…¶ä»–å¼•å…¥è¯¥å¤´æ–‡ä»¶çš„æ–‡ä»¶ä¹Ÿå¯ä»¥è®¿é—®åˆ°ï¼‰
static const NSTimeInterval kAnimationDuration = 0.3;

// å¦‚æœä¸ä½¿ç”¨ static ä¿®é¥°ï¼Œç¼–è¯‘å™¨ä¼šåˆ›å»ºä¸€ä¸ªå¤–éƒ¨ç¬¦å·ï¼ˆExternal Symbolsï¼‰
const NSTimeInterval SomeAnimationDuration = 0.3;
// æ­¤æ—¶å¦‚æœåœ¨å…¶ä»–æ–‡ä»¶å†…å£°æ˜åŒåå¸¸é‡ï¼Œåˆ™ä¼šæŠ¥é”™ã€Œduplicate symbolã€
// Another.m
const NSTimeInterval SomeAnimationDuration = 0.5;

// ---

// main.m
// å£°æ˜ä¸º `static` å’Œ `const` çš„å˜é‡ï¼Œç¼–è¯‘å™¨ä¸ä¼šä¸ºå…¶å†åˆ›å»ºç¬¦å·
#import &lt;Foundation/Foundation.h&gt;

int foo = 1;

// static const + int
static const int k1 = 1;
// static const + int *
// å¯¹äºæŒ‡é’ˆï¼Œæ—¢è¦ä½¿å…¶æœ¬èº«çš„å†…å®¹ä¸èƒ½æ”¹å˜ï¼Œä¹Ÿä¸èƒ½æ”¹å˜å…¶æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œå¦åˆ™è¿™ä¸ªæŒ‡é’ˆè¿˜æ˜¯æœ‰å¯èƒ½æ”¹å˜çš„
static int const * const k2 = &amp;foo;
// static const + NSString *
static NSString * const k3 = @&quot;&quot;;
static NSString const * const k4 = @&quot;&quot;;

// const
const int k5 = 3;
// static
static int k6 = 4;

int main(int argc, const char * argv[]) {
@autoreleasepool {
    // ä¸ºäº†é˜²æ­¢ç¼–è¯‘å™¨ä¼˜åŒ–æœªç”¨åˆ°çš„ç¬¦å·ï¼Œæˆ‘ä»¬è¿™é‡Œç®€å•è¾“å‡ºä»¥ä¸Šå®šä¹‰çš„å˜é‡
    NSLog(@&quot;%d&quot;, k1);
    NSLog(@&quot;%d&quot;, *k2);
    NSLog(@&quot;%@&quot;, k3);
    NSLog(@&quot;%@&quot;, k4);
    NSLog(@&quot;%d&quot;, k5);
    NSLog(@&quot;%d&quot;, k6);
}
return 0;
}

// è¾“å‡ºæ‰€æœ‰ç¬¦å·
// âœ  Debug nm -C Demo
// é€šè¿‡ä»¥ä¸‹è¾“å‡ºå¯ä»¥å¾—å‡ºç”± static å’Œ const ä¿®é¥°çš„ k1ï¼Œk2 ç¼–è¯‘å™¨éƒ½æ²¡æœ‰ä¸ºå…¶äº§ç”Ÿç¬¦å·
// ä½† NSString * æ˜¯ä¸ªä¾‹å¤–ï¼ˆWhy? çŒœæµ‹æ˜¯ç¼–è¯‘å™¨è®¤ä¸ºè¯¥å¸¸é‡åç»­è¿˜è¦è¢«ä¿®æ”¹çš„å¯èƒ½ï¼Œå› æ­¤éœ€è¦ä¿ç•™å…¶ç¬¦å·ï¼‰
//                  U _NSLog
//                  U ___CFConstantStringClassReference
// 0000000100000000 T __mh_execute_header
// 00000001000010a0 D _foo
// 0000000100001028 s _k3
// 0000000100001030 s _k4
// 0000000100000fb4 S _k5
// 00000001000010a4 d _k6
// 0000000100000eb0 T _main
//                  U _objc_autoreleasePoolPop
//                  U _objc_autoreleasePoolPush
//                  U dyld_stub_binder

// ä»…è¾“å‡ºå¤–éƒ¨ç¬¦å·
// âœ  Debug nm -gC Demo
// æ‰€æœ‰ä½¿ç”¨ static ä¿®é¥°çš„å˜é‡å‡ä¸åœ¨å¤–éƒ¨ç¬¦å·ä¸­ï¼Œè¯´æ˜ static å°†è¿™äº›ç¬¦å·çš„ä½œç”¨åŸŸé™åˆ¶åœ¨å½“å‰æ–‡ä»¶ä¸­
//                  U _NSLog
//                  U ___CFConstantStringClassReference
// 0000000100000000 T __mh_execute_header
// 00000001000010a0 D _foo
// 0000000100000fb4 S _k5
// 0000000100000eb0 T _main
//                  U _objc_autoreleasePoolPop
//                  U _objc_autoreleasePoolPush
//                  U dyld_stub_binder
</code></pre></li>

<li><p>ç±»å‹å¸¸é‡çš„å‘½åè§„åˆ™ï¼š</p>

<ul>
<li>è‹¥å¸¸é‡å±€é™äºæŸä¸ªç¼–è¯‘å•å…ƒï¼ˆTranslation Unitï¼Œå³å®ç°æ–‡ä»¶ <code>*.m</code>ï¼‰ï¼Œåˆ™éœ€è¦ä»¥å°å†™å­—æ¯ <code>k</code> å¼€å¤´ï¼›</li>
<li>è‹¥å¸¸é‡åœ¨ç±»ä¹‹å¤–ä¹Ÿå¯è§ï¼Œåˆ™é€šå¸¸éœ€è¦ä»¥ç±»åå¼€å¤´ã€‚</li>
</ul></li>

<li><p>å…³äº <code>nm</code> å‘½ä»¤çš„åŸºæœ¬ä½¿ç”¨ï¼Œå¯ä»¥å‚è€ƒ <a href="/posts/2019/ivar_access_control_in_obj-c/">Obj-C ä¸­å®ä¾‹å˜é‡å’Œç±»çš„è®¿é—®æ§åˆ¶</a>ä¸€æ–‡ã€‚</p>

<pre><code class="language-objectivec">// Some.h
// extern å‘ŠçŸ¥ç¼–è¯‘å™¨å…¨å±€ç¬¦å·è¡¨ä¸­å­˜åœ¨è¯¥ç¬¦å·ï¼Œå…è®¸å¤–ç•Œä½¿ç”¨
extern NSString * const SomeConstant;

// Some.m
// å¤–ç•Œéœ€è¦è®¿é—®åˆ™ä¸èƒ½å£°æ˜ä¸º staticï¼›å¤–ç•Œä¸å¯å˜æ›´ï¼Œå› æ­¤å£°æ˜ä¸º const
// è¿™é‡Œçš„ const ä¿®é¥°çš„æ˜¯ NSString *ï¼ˆå³ const ä»å³å‘å·¦åŸåˆ™ï¼‰ï¼ŒSomeConstant ä¿å­˜çš„å†…å­˜åœ°å€ä¸èƒ½å†æ”¹å˜ï¼ˆå³ä¸èƒ½æŒ‡å‘å¦å¤–ä¸€ä¸ª NSString å¯¹è±¡ï¼‰
// ç¼–è¯‘å™¨ä¼šåœ¨æ•°æ®æ®µï¼ˆData Sectionï¼‰ä¸ºå­—ç¬¦ä¸²åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œé“¾æ¥å™¨ä¼šå°†ç›®æ ‡æ–‡ä»¶ç›¸äº’é“¾æ¥ï¼Œç”Ÿæˆæœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶
// å…¨å±€ç¬¦å·å‘½åè§„åˆ™ï¼šèŒƒå›´ï¼ˆé€šå¸¸ä½¿ç”¨ç±»åï¼‰+ åç§°
NSString * const SomeConstant = @&quot;SomeConstant&quot;;

// åœ¨ Obj-C ä¸­ï¼Œé™¤äº† C ä¸­åŸæœ‰çš„ extern è¿˜å­˜åœ¨ä»¥ä¸‹ç›¸å…³çš„å®å®šä¹‰
// FOUNDATION_EXTERNã€FOUNDATION_EXPORTã€FOUNDATION_IMPORTã€UIKIT_EXTERN

// NSObjCRuntime.h
#if defined(__cplusplus)
// C++ ä¸‹å…¼å®¹ C++ çš„ extern
#define FOUNDATION_EXTERN extern &quot;C&quot;
#else
#define FOUNDATION_EXTERN extern
#endif


#define FOUNDATION_EXPORT  FOUNDATION_EXTERN
#define FOUNDATION_IMPORT FOUNDATION_EXTERN

// UIKitDefines.h
// UIKIT_EXTERN è¿˜å£°æ˜äº†ç¬¦å·çš„å¯è§èŒƒå›´
#ifdef __cplusplus
#define UIKIT_EXTERN		extern &quot;C&quot; __attribute__((visibility (&quot;default&quot;)))
#else
#define UIKIT_EXTERN	        extern __attribute__((visibility (&quot;default&quot;)))
#endif
</code></pre></li>

<li><p>å¯¹äºé€‰æ‹© <code>extern</code> è¿˜æ˜¯ä»¥ä¸Š <code>SOME_EXTERN</code>ï¼Œc å¾—å‡ºä»¥ä¸‹çš„ç»“è®ºï¼š</p>

<ul>
<li>å¯¹äºè¿™äº›å›ºå®šå‰ç¼€çš„ <code>extern</code> åº”å½“åœ¨å…¶èŒƒå›´ä¸‹ä½¿ç”¨ï¼Œå³ <code>FOUNDATION_*</code> åœ¨ Foundation æ¡†æ¶å†…éƒ¨ä½¿ç”¨ï¼Œ<code>UIKIT_*</code> åœ¨ <code>UIKit</code> å†…éƒ¨ä½¿ç”¨ï¼Œåœ¨æˆ‘ä»¬è‡ªå·±çš„åº“å†…åº”å½“æ¨èè‡ªå®šä¹‰ <code>SOME_*</code> æ¥ä½¿ç”¨ï¼Œè€Œä¸æ˜¯ç›´æ¥å¥—ç”¨å…¶ä»–åº“å†…çš„å®å®šä¹‰ï¼›</li>
<li>é»˜è®¤çš„ <code>extern</code> ç”±äºå¯èƒ½ä¸å…¼å®¹ C++ï¼Œé‚£ä¹ˆåœ¨åº“ä¸­éœ€è¦å…¼å®¹ C++ æ—¶åº”å½“ä½¿ç”¨ <code>extern &quot;C&quot;</code>ã€‚</li>
</ul></li>
</ul>

<h3 id="ç”¨æšä¸¾è¡¨ç¤ºçŠ¶æ€-é€‰é¡¹-çŠ¶æ€ç ">ç”¨æšä¸¾è¡¨ç¤ºçŠ¶æ€ã€é€‰é¡¹ã€çŠ¶æ€ç </h3>

<ul>
<li><p>Obj-C ä¸­çš„æšä¸¾ï¼ˆ<code>enum</code>ï¼‰æ¥è‡ª C è¯­è¨€ï¼Œè€Œ C++11 æ ‡å‡†ä½¿å¾—æšä¸¾å¯ä»¥å®šä¹‰å…¶åº•å±‚æ•°æ®ç±»å‹ï¼ˆUnderlying Typeï¼‰ã€‚</p>

<pre><code class="language-objectivec">// å®ç°æšä¸¾æ‰€ç”¨çš„æ•°æ®ç±»å‹å–å†³äºç¼–è¯‘å™¨
// æšä¸¾çš„åº•å±‚æ•°æ®ç±»å‹ä¸æ˜¯å›ºå®šçš„ï¼Œå…¶äºŒè¿›åˆ¶ä½ï¼ˆbitï¼‰çš„ä¸ªæ•°å¿…é¡»èƒ½å®Œå…¨è¡¨ç¤ºä¸‹æšä¸¾ç¼–å·
// æ¯”å¦‚ ImageSourceType å¯ä»¥ä½¿ç”¨ char ç±»å‹ï¼ˆä½†åœ¨ Xcode é‡Œå…¶åº•å±‚æ•°æ®ç±»å‹æ˜¯ç¬¬ä¸€é¡¹é»˜è®¤ä¸º 0 çš„ int ç±»å‹ï¼‰
enum ImageSourceType {
ImageSourceTypeCamera,
ImageSourceTypeGallery
};

enum ImageSourceType type1 = ImageSourceTypeCamera;

// typedef å¯ä»¥ç®€åŒ–æšä¸¾ç±»å‹å£°æ˜
typedef enum ImageSourceType ImageSourceType;
ImageSourceType type2 = ImageSourceTypeGallery;

// C++ 11 æ ‡å‡†ï¼Œæ˜¾å¼å£°æ˜æšä¸¾åº•å±‚æ•°æ®ç±»å‹
enum NetworkType: NSInteger {
NetworkTypeUnknown = -1, // æ˜¾å¼ä¸ºä» -1 å¼€å§‹
NetworkTypeWiFi   // 0 é€’å¢
NetworkCellular   // 1
};

// æšä¸¾çš„å‘å‰å£°æ˜ï¼ˆåœ¨ .m ä¸­å¼•å…¥æˆ–å®ç°å³å¯ï¼‰
// Some.h
enum NetworkType: NSInteger;
</code></pre></li>

<li><p>æšä¸¾ä¸­ä½¿ç”¨æŒ‰ä½æˆ–æ“ä½œç¬¦ï¼ˆBitwise OR Operatorï¼‰å¯ä»¥ä½¿å¾—æšä¸¾çš„æ¯ä¸ªé€‰é¡¹å‡å¯å¯ç”¨æˆ–ç¦ç”¨ï¼š</p>

<pre><code class="language-objectivec">// UIViewAutoresizingNone æ˜¯æ— æ³•ä¸å…¶ä»–é¡¹ç›®åŒæ—¶å­˜åœ¨ï¼Œå› æ­¤ä¸º 0

// UIView.h
typedef NS_OPTIONS(NSUInteger, UIViewAutoresizing) {
UIViewAutoresizingNone                 = 0,
UIViewAutoresizingFlexibleLeftMargin   = 1 &lt;&lt; 0,
UIViewAutoresizingFlexibleWidth        = 1 &lt;&lt; 1,
UIViewAutoresizingFlexibleRightMargin  = 1 &lt;&lt; 2,
UIViewAutoresizingFlexibleTopMargin    = 1 &lt;&lt; 3,
UIViewAutoresizingFlexibleHeight       = 1 &lt;&lt; 4,
UIViewAutoresizingFlexibleBottomMargin = 1 &lt;&lt; 5
};

// ä½¿ç”¨æ—¶å¯ä»¥ä½¿ç”¨æŒ‰ä½æˆ–æ¥ç»„åˆå¤šä¸ªé€‰é¡¹ï¼š
UIViewAutoresizing resize = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;

// åˆ¤æ–­æ—¶ä½¿ç”¨æŒ‰ä½ä¸ï¼ˆBitwise AND Operatorï¼‰å³å¯
if (resize &amp; UIViewAutoresizingFlexibleWidth) {
NSLog(@&quot;UIViewAutoresizingFlexibleWidth&quot;);
}
if (resize &amp; UIViewAutoresizingFlexibleHeight) {
NSLog(@&quot;UIViewAutoresizingFlexibleHeight&quot;);
}

// OUTPUT:
// UIViewAutoresizingFlexibleWidth
// UIViewAutoresizingFlexibleHeight
</code></pre>

<pre><code class="language-objectivec">/* NS_ENUM supports the use of one or two arguments. The first argument is always the integer type used for the values of the enum. The second argument is an optional type name for the macro. When specifying a type name, you must precede the macro with 'typedef' like so:

typedef NS_ENUM(NSInteger, NSComparisonResult) {
...
};

If you do not specify a type name, do not use 'typedef'. For example:

NS_ENUM(NSInteger) {
...
};
*/
#define NS_ENUM(...) CF_ENUM(__VA_ARGS__)
#define NS_OPTIONS(_type, _name) CF_OPTIONS(_type, _name)

// CFAvailability.h
#define CF_ENUM(...) __CF_ENUM_GET_MACRO(__VA_ARGS__, __CF_NAMED_ENUM, __CF_ANON_ENUM, )(__VA_ARGS__)
// æ ¹æ®æ˜¯å¦æŒ‰ç…§ C++ æ¨¡å¼ç¼–è¯‘è€Œä¸åŒ
#define __CF_ENUM_GET_MACRO(_1, _2, NAME, ...) NAME
#if (__cplusplus &amp;&amp; __cplusplus &gt;= 201103L &amp;&amp; (__has_extension(cxx_strong_enums) || __has_feature(objc_fixed_enum))) || (!__cplusplus &amp;&amp; __has_feature(objc_fixed_enum))
#define __CF_NAMED_ENUM(_type, _name)     enum __CF_ENUM_ATTRIBUTES _name : _type _name; enum _name : _type
#define __CF_ANON_ENUM(_type)             enum __CF_ENUM_ATTRIBUTES : _type
#define CF_CLOSED_ENUM(_type, _name)      enum __CF_CLOSED_ENUM_ATTRIBUTES _name : _type _name; enum _name : _type
#if (__cplusplus)
    #define CF_OPTIONS(_type, _name) _type _name; enum __CF_OPTIONS_ATTRIBUTES : _type
#else
    #define CF_OPTIONS(_type, _name) enum __CF_OPTIONS_ATTRIBUTES _name : _type _name; enum _name : _type
#endif
#else
#define __CF_NAMED_ENUM(_type, _name) _type _name; enum
#define __CF_ANON_ENUM(_type) enum
#define CF_CLOSED_ENUM(_type, _name) _type _name; enum
#define CF_OPTIONS(_type, _name) _type _name; enum
#endif

// Some.mm
typedef enum Direction: int FooDirection;
enum Direction: int {
Up      = 1 &lt;&lt; 0,
Down    = 1 &lt;&lt; 1,
Left    = 1 &lt;&lt; 2,
Right   = 1 &lt;&lt; 3
};

// åœ¨ä½¿ç”¨æˆ–è¿ç®—æ“ä½œä¸¤ä¸ªæšä¸¾å€¼æ—¶ï¼ŒC++ è®¤ä¸ºè¿ç®—ç»“æœçš„æ•°æ®ç±»å‹åº”å½“æ˜¯æšä¸¾çš„åº•å±‚æ•°æ®ç±»å‹ï¼Œå³ `NSUInteger`ï¼Œä¸” C++ ä¸æ”¯æŒå°†åº•å±‚æ•°æ®ç±»å‹éšå¼è½¬æ¢ä¸ºæšä¸¾ç±»å‹æœ¬èº«
// ERROR: Cannot initialize a variable of type 'FooDirection' (aka 'Direction') with an rvalue of type 'int'
// FooDirection direct = Up | Left;
</code></pre></li>

<li><p>Foundation æ¡†æ¶ä¸­æšä¸¾çš„è¾…åŠ©å®å…·å¤‡å‘åå…¼å®¹ï¼ˆBackward Compatibilityï¼‰èƒ½åŠ›ï¼Œå³æ ¹æ®ç›®æ ‡å¹³å°å†³å®šç›¸åº”çš„è¯­æ³•ï¼›</p></li>

<li><p>å‡¡æ˜¯éœ€è¦æŒ‰ä½æˆ–æ“ä½œæ¥ç»„åˆçš„æšä¸¾éƒ½åº”å½“ä½¿ç”¨ <code>NS_OPTIONS</code> æ¥å®šä¹‰ï¼›å¦åˆ™ä½¿ç”¨ <code>NS_ENUM</code>ã€‚</p></li>
</ul>

<h2 id="å¯¹è±¡-æ¶ˆæ¯-è¿è¡ŒæœŸ">å¯¹è±¡ã€æ¶ˆæ¯ã€è¿è¡ŒæœŸ</h2>

<h3 id="ç†è§£-å±æ€§-è¿™ä¸€æ¦‚å¿µ">ç†è§£ã€Œå±æ€§ã€è¿™ä¸€æ¦‚å¿µ</h3>

<ul>
<li>åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ¥å£ï¼ˆApplication Binary Interfaceï¼Œå³ ABIï¼‰å®šä¹‰äº†å¾ˆå¤šå†…å®¹ï¼Œå…¶ä¸­æœ‰ç”Ÿæˆä»£ç æ—¶æ‰€åº”éµå¾ªçš„è§„èŒƒã€‚</li>
<li>Obj-C ä¸­å®ä¾‹å˜é‡ï¼ˆivarï¼‰çš„å†…å­˜å¸ƒå±€åœ¨ç¼–è¯‘æ—¶åˆ»å›ºå®šï¼Œå› æ­¤è®¿é—®å®ä¾‹å˜é‡æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå°†å…¶æ›¿æ¢ä¸ºåç§»é‡ï¼ˆOffsetï¼‰ï¼Œè€Œåç§»é‡æ˜¯ç¡¬ç¼–ç ï¼Œè¡¨ç¤ºå…¶è·ç¦»å†…å­˜èµ·å§‹åœ°å€çš„é•¿åº¦ï¼›</li>
<li>å¦‚æœä»£ç ä½¿ç”¨äº†ç¼–è¯‘æ—¶åˆ»è®¡ç®—çš„åç§»é‡ï¼Œé‚£ä¹ˆåœ¨ä¿®æ”¹ç±»å®šä¹‰ä¹‹åå¿…é¡»é‡æ–°ç¼–è¯‘ï¼Œå³é‡æ–°è®¡ç®—åç§»é‡ï¼›</li>

<li><p>å¯¹äºæ—§çš„ç±»å®šä¹‰é“¾æ¥äº†æ–°çš„ç±»å®šä¹‰ä¼šå‡ºç°ä¸å…¼å®¹æƒ…å†µï¼ŒObj-C çš„åšæ³•å¦‚ä¸‹ï¼š</p>

<ul>
<li>å°†å®ä¾‹å˜é‡å½“ä½œä¸€ç§å­˜å‚¨åç§»é‡æ‰€ç”¨çš„ç‰¹æ®Šå˜é‡ï¼Œäº¤ç”±ç±»å¯¹è±¡ä¿ç®¡ï¼Œåç§»é‡å°†åœ¨è¿è¡Œæ—¶æŸ¥æ‰¾ï¼Œè¿™æ ·å³ä½¿ç±»å®šä¹‰å˜åŒ–äº†ï¼Œä¹Ÿèƒ½æ‰¾åˆ°æ­£ç¡®çš„åç§»é‡ï¼Œç”šè‡³å¯ä»¥åœ¨è¿è¡Œæ—¶æ–°å¢å®ä¾‹å˜é‡ï¼›</li>
<li>å°½é‡ä¸è¦ç›´æ¥è®¿é—®å®ä¾‹å˜é‡ï¼Œè€Œæ˜¯é€šè¿‡ getter &amp; setterï¼ŒObj-C ä¸­å¯ä»¥ä½¿ç”¨ <code>@property</code> è¯­æ³•ï¼›</li>
</ul></li>

<li><p>è‡ªåŠ¨åˆæˆï¼ˆAutosynthesisï¼‰ï¼šç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸º Obj-C ä¸­çš„å±æ€§ä¾¿æºå…¶æ‰€éœ€çš„æ–¹æ³•ï¼Œè¯¥è¿‡ç¨‹ç”±ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶åˆ»æ‰§è¡Œï¼›</p></li>

<li><p>ç¼–è¯‘å™¨è¿˜ä¼šè‡ªåŠ¨ä¸º Obj-C ä¸­çš„å±æ€§æ·»åŠ é€‚å½“ç±»å‹çš„å®ä¾‹å˜é‡ï¼Œå¹¶åœ¨å±æ€§åå‰åŠ  <code>_</code> å‰ç¼€ä½œä¸ºå®ä¾‹å˜é‡åã€‚</p>

<pre><code class="language-objectivec">// Some.h
@property NSString *foo;
@property NSString *bar;

// Some.m
// @dynamic å°†ä¸ä¼šè‡ªåŠ¨åˆæˆï¼Œä¹Ÿä¸ä¼šåˆ›å»ºå®ä¾‹å˜é‡
// ä½†ä½¿ç”¨ getter &amp; setter å¯ä»¥ç¼–è¯‘ï¼Œå› ä¸ºå…¶ç›¸ä¿¡ä¼šåœ¨è¿è¡Œæ—¶æ‰¾åˆ°è¿™äº›æ–¹æ³•
@dynamic bar;

// @synthesize æŒ‡å®šäº†å±æ€§çš„å®ä¾‹å˜é‡å
@synthesize foo = _foooo;

self-&gt;_foooo = @&quot;Foo&quot;;
NSLog(@&quot;%@&quot;, [self foo]);
</code></pre></li>

<li><p>åŸå­æ€§</p>

<ul>
<li>åœ¨åŒ–å­¦ä¸­ï¼ŒåŸå­æ˜¯ä¸å¯åˆ†å‰²çš„æœ€å°ç²’å­ï¼Œå› æ­¤å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªåŸå­æ“ä½œæ˜¯ä¸ä¼šè¢«ä¸­æ–­çš„ï¼Œå³çº¿ç¨‹å®‰å…¨çš„ï¼ˆä½†è¿™å¹¶ä¸ä»£è¡¨ <code>atomic</code> çš„å±æ€§æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼‰ï¼›</li>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼ˆå³ä¸æ˜ç¡®æŒ‡å®šåŸå­æ€§æ—¶ï¼‰ï¼Œç”±ç¼–è¯‘å™¨æ‰€åˆæˆçš„æ–¹æ³•ï¼ˆå³ getter &amp; setterï¼‰ä¼šé€šè¿‡é”å®šæœºåˆ¶ç¡®ä¿å…¶åŸå­æ€§ï¼ˆAtomicityï¼‰ï¼›</li>
<li>è‡ªå·±å®ç°çš„ getter &amp; setter éœ€è¦è‡ªå·±æ¥ä¿è¯ç›¸åº”çš„åŸå­æ€§ï¼ˆå³è‡ªå·±å®ç°æ—¶ä¸å£°æ˜çš„åŸå­æ€§æ²¡æœ‰å…³ç³»ï¼‰ï¼›</li>
<li>è‹¥å±æ€§ä¸º <code>nonatomic</code> åˆ™ä¸ä½¿ç”¨åŒæ­¥é”ï¼ŒiOS ä¸­ä½¿ç”¨åŒæ­¥é”å¼€é”€è¾ƒå¤§ï¼Œå¯èƒ½å¸¦æ¥æ€§èƒ½é—®é¢˜ï¼Œå› æ­¤ <code>nonatomic</code> æ€§èƒ½ä¼šå¥½ç‚¹ä¸” <code>atomic</code> å¹¶ä¸èƒ½ä¿è¯æ“ä½œæ˜¯åŸå­çš„ï¼Œå› æ­¤é€šå¸¸éƒ½ä½¿ç”¨ <code>nonatomic</code>ã€‚</li>
</ul></li>

<li><p>è¯»å†™æƒé™</p>

<ul>
<li><code>readwrite</code> å³æ‹¥æœ‰ getter &amp; setterï¼Œ<code>readonly</code> å³ä»…æ‹¥æœ‰ <code>getter</code>ï¼›</li>
<li><code>readwrite</code> å¯ä»¥ç”¨åœ¨ <code>.h</code> å£°æ˜ä¸º <code>readonly</code> ä½†å†…éƒ¨ç±»æ‰©å±•ä¸­å£°æ˜ä¸º <code>readwrite</code> æ¥å…è®¸å†…éƒ¨è®¾ç½®çš„æƒ…å†µã€‚</li>
</ul></li>

<li><p>å†…å­˜ç®¡ç†è¯­ä¹‰</p>

<ul>
<li><code>assign</code>ï¼šsetter åªä¼šé’ˆå¯¹çº¯é‡ç±»å‹ï¼ˆScalar Typeï¼‰ä¾‹å¦‚ <code>CGFloat</code>ã€<code>NSInteger</code> ç­‰çš„ç®€å•èµ‹å€¼æ“ä½œï¼›</li>
<li><code>strong</code>ï¼šå®šä¹‰ä¸€ç§æ‹¥æœ‰å…³ç³»ï¼Œä¸ºè¿™ç§å±æ€§è®¾ç½®æ–°å€¼æ—¶ï¼Œsetter ä¼šå…ˆä¿ç•™æ–°å€¼ï¼Œå¹¶é‡Šæ”¾æ—§å€¼ï¼Œç„¶åå†å°†æ–°å€¼è®¾ç½®ä¸Šå»ï¼›</li>
<li><code>weak</code>ï¼šå®šä¹‰ä¸€ç§éæ‹¥æœ‰å…³ç³»ï¼Œä¸ºè¿™ç§å±æ€§è®¾ç½®æ–°å€¼æ—¶ï¼Œsetter æ—¢ä¸ä¿ç•™æ–°å€¼ï¼Œä¹Ÿä¸é‡Šæ”¾æ—§å€¼ï¼Œç±»ä¼¼ <code>assign</code>ï¼Œä½†å½“å±æ€§æ‰€æŒ‡å‘çš„å¯¹è±¡é”€æ¯æ—¶ï¼Œå±æ€§å€¼ä¹Ÿä¼šç½®ä¸º <code>nil</code>ï¼›</li>
<li><code>unsafe_unretained</code>ï¼šå†…å­˜è¯­ä¹‰ä¸ <code>assign</code> ç›¸åŒï¼Œä½†é€‚ç”¨äºå¯¹è±¡ç±»å‹ï¼Œå®šä¹‰ä¸€ç§éæ‹¥æœ‰ï¼ˆä¸ä¿ç•™ï¼‰å…³ç³»ï¼Œä½†å½“å±æ€§æ‰€æŒ‡å‘çš„å¯¹è±¡é”€æ¯æ—¶ï¼Œå±æ€§å€¼<strong>ä¸ä¼š</strong>ç½®ä¸º <code>nil</code>ï¼ˆä¸ <code>weak</code> çš„å·®å¼‚ï¼›</li>
<li><code>copy</code>ï¼šç±»ä¼¼ <code>strong</code>ï¼Œä½† setter ä¸ä¿ç•™æ–°å€¼ï¼Œè€Œæ˜¯å°†å…¶æ‹·è´ï¼›å½“å±æ€§ç±»å‹ä¸º <code>NSString *</code> æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>copy</code> ä¿æŠ¤å…¶å°è£…æ€§ï¼Œå› ä¸º setter æ¥æ”¶çš„æ–°å€¼æœ‰å¯èƒ½æ˜¯æŒ‡å‘ <code>NSMutableString</code> çš„å®ä¾‹ï¼Œè‹¥ä¸æ‹·è´åˆ™å¯èƒ½ä¼šè¢«å¤–ç•Œéšæ—¶æ›´æ”¹ï¼Œå› æ­¤éœ€è¦æ‹·è´ä¸ºä¸å¯å˜çš„æƒ…å†µï¼›</li>
</ul></li>

<li><p>æ–¹æ³•å</p>

<ul>
<li><code>getter=&lt;name&gt;</code> å¯ä»¥æŒ‡å®š getter åç§°ï¼›</li>
<li><code>setter=&lt;name&gt;</code> å¯ä»¥æŒ‡å®š setter åç§°ï¼›</li>
</ul></li>

<li><p>å±æ€§ç‰¹æ€§ï¼ˆAttributeï¼‰åªåœ¨è‡ªåŠ¨ç”Ÿæˆæ—¶æœ‰æ•ˆï¼Œè‡ªå·±å®ç°çš„ getter &amp; setter è¦ä¿è¯å…¶å…·å¤‡ç›¸åº”çš„å±æ€§ç‰¹æ€§ã€‚</p>

<pre><code class="language-objectivec">@interface Foo : NSObject
// å³ä½¿ readonly ä¹Ÿè¦æ³¨æ˜ copyï¼Œå› ä¸ºåœ¨ init ä¸­è¿›è¡Œäº† copy
@property (copy, readonly) NSString *bar;
@end

@implementation Foo

- (instancetype)initWithBar:(NSString *)bar
{
self = [super init];
if (self) {
    // è¦ä¿è¯å±æ€§çš„å†…å­˜è¯­ä¹‰
    _bar = [bar copy];
}
return self;
}

@end
</code></pre></li>
</ul>

<h3 id="åœ¨å¯¹è±¡å†…éƒ¨å°½é‡ç›´æ¥è®¿é—®å®ä¾‹å˜é‡">åœ¨å¯¹è±¡å†…éƒ¨å°½é‡ç›´æ¥è®¿é—®å®ä¾‹å˜é‡</h3>

<ul>
<li>ç›´æ¥è®¿é—®å®ä¾‹å˜é‡ï¼ˆivarï¼‰ä¸é€šè¿‡å±æ€§ï¼ˆgetter &amp; setterï¼‰è®¿é—®çš„åŒºåˆ«ï¼š

<ul>
<li>ç›´æ¥è®¿é—®ä¸ç»è¿‡æ–¹æ³•æ´¾å‘ï¼Œé€Ÿåº¦æ›´å¿«ï¼›</li>
<li>ç›´æ¥è®¿é—®ä¸ç»è¿‡æ‰€å®šä¹‰çš„å†…å­˜ç®¡ç†è¯­ä¹‰ï¼ˆä¾‹å¦‚ <code>copy</code>ï¼‰ï¼›</li>
<li>ç›´æ¥è®¿é—®ä¸ç»è¿‡ KVOï¼›</li>
<li>é€šè¿‡å±æ€§è®¿é—®ä¾¿äº Debugï¼ˆå¯ä»¥æ‰“æ–­ç‚¹ï¼‰ã€‚</li>
</ul></li>

<li><p>å› æ­¤å»ºè®®è¯»å–æ—¶ç›´æ¥è®¿é—®ï¼Œå†™å…¥æ—¶é€šè¿‡å±æ€§ï¼Œå½“ç„¶å…·ä½“é—®é¢˜è§ä»è§æ™ºã€‚</p>

<pre><code class="language-objectivec">// æ‡’åŠ è½½çš„å±æ€§å¿…é¡»è¦é€šè¿‡ getter è®¿é—®
- (NSObject *)foo {
if (!_foo) {
    _foo = [NSObject new];
    return _foo;
}
}
</code></pre></li>
</ul>

<h3 id="ç†è§£-å¯¹è±¡ç­‰åŒæ€§-è¿™ä¸€æ¦‚å¿µ">ç†è§£ã€Œå¯¹è±¡ç­‰åŒæ€§ã€è¿™ä¸€æ¦‚å¿µ</h3>

<ul>
<li>å¯¹äº Obj-C ä¸­çš„å¯¹è±¡ç±»å‹ï¼Œ<code>==</code> æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªæŒ‡é’ˆæœ¬èº«çš„å€¼ï¼ˆå³å­˜å‚¨çš„åœ°å€ï¼‰æ˜¯å¦ä¸€è‡´ã€‚</li>

<li><p>NSString ç±»ä¸­çš„ <code>isEqualToString:</code> æ¯” <code>isEqual:</code> æ–¹æ³•é€Ÿåº¦æ›´å¿«ï¼ˆä½†å…¶å®å·®åˆ«ä¸å¤§ï¼‰ã€‚</p>

<pre><code class="language-objectivec">- (BOOL)isEqual:(id)object {
// åœ°å€ä¸€è‡´ï¼Œåˆ™å¿…ç„¶ä¸€æ ·
if (self == object) return YES;
// å¦‚æœéåŒç±»ï¼Œåˆ™ä¸ç›¸ç­‰ï¼ˆå­çˆ¶ç±»ä¹‹é—´æ¯”è¾ƒè§†æƒ…å†µè€Œå®šï¼‰
if ([self class] != [object class]) return NO;

Foo *foo = (Foo *)object;
if (![_bar isEqualToString:foo.bar])
    return NO;

if (_baz != foo.baz)
    return NO;

return YES;
}
</code></pre></li>

<li><p>è‹¥ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œ<code>hash</code> ä¹Ÿç›¸ç­‰ï¼›<code>hash</code> ç›¸ç­‰ï¼Œä½†ä¸¤ä¸ªå¯¹è±¡å¹¶ä¸ä¸€å®šç›¸ç­‰ã€‚</p></li>

<li><p>å®ç° <code>hash</code> æ–¹æ³•è¦åœ¨å‡å°‘ç¢°æ’ä¸é™ä½è¿ç®—å¤æ‚ç¨‹åº¦ï¼ˆæ€§èƒ½å½±å“ï¼‰ä¹‹é—´æƒè¡¡ï¼š</p>

<pre><code class="language-objectivec">// è¿”å›å›ºå®šå€¼
// å¯è¡Œï¼Œä½†åœ¨ collection ä¸­ä½¿ç”¨è¯¥ç±»å‹å¯¹è±¡å°†äº§ç”Ÿæ€§èƒ½é—®é¢˜ï¼Œå› ä¸º collection æ£€ç´¢å“ˆå¸Œè¡¨ï¼ˆHash Tableï¼‰æ—¶ï¼Œä¼šç”¨å¯¹è±¡çš„å“ˆå¸Œç ï¼ˆHash Codeï¼‰åšç´¢å¼•ã€‚
// å‡å¦‚æŸä¸ª collection æ˜¯ç”¨ set å®ç°çš„ï¼Œå…¶å¯èƒ½ä¼šæ ¹æ®å“ˆå¸Œç æŠŠå¯¹è±¡åˆ†è£…åˆ°ä¸åŒçš„æ•°ç»„ä¸­ã€‚
// è‹¥æ¯ä¸ªå¯¹è±¡éƒ½è¿”å›ç›¸åŒçš„å“ˆå¸Œç ï¼Œåˆ™éœ€è¦å°†æ‰€æœ‰å¯¹è±¡å…¨éƒ¨æ‰«æã€‚
- (NSUInteger)hash {
return 1024;
}

// å±æ€§æ‹¼æ¥å­—ç¬¦ä¸²å¹¶ hash
// ä½†éœ€æ‰¿æ‹…åˆ›å»ºå­—ç¬¦ä¸²çš„å¼€é”€ï¼›æ·»åŠ åˆ° collection ä¸­ç”±äºå¿…é¡»è®¡ç®—å“ˆå¸Œç ä¹Ÿä¼šäº§ç”Ÿæ€§èƒ½é—®é¢˜
- (NSUInteger)hash {
NSString *str = [NSString stringWithFormat:@&quot;%@:%i&quot;, _bar, _baz];
return [str hash];
}

// æ•ˆç‡é«˜ï¼ŒèŒƒå›´ç¡®å®š
// è™½ç„¶ä¼šç¢°æ’ï¼Œä½†å…è®¸
- (NSUInteger)hash {
NSUInteger bar = [_bar hash];
NSUInteger baz = _baz;
return bar ^ baz;
}
</code></pre></li>

<li><p>ç¼–å†™ç‰¹å®šç±»çš„ç­‰åŒæ€§åˆ¤å®šæ–¹æ³•ï¼ˆæ¯”å¦‚ <code>isEqualToString:</code>ï¼‰æ—¶ï¼Œåº”ä¸€å¹¶é‡å†™ <code>isEqual:</code> æ–¹æ³•ï¼š</p>

<pre><code class="language-objectivec">- (BOOL)isEqualToFoo:(Foo *)foo {
if (self == object) return YES;

if (![_bar isEqualToString:foo.bar])
    return NO;

if (_baz != foo.baz)
    return NO;

return YES;
}

- (BOOL)isEqual:(id)object {
// ç›¸åŒç±»åˆ™è‡ªå·±åˆ¤æ–­
if ([self class] == [object class]) {
    return [self isEqualToFoo:(Foo *)object];
}

// ä¸åŒç±»åˆ™äº¤ç»™çˆ¶ç±»
return [super isEqual:object];
}
</code></pre></li>

<li><p>ç­‰åŒæ€§åˆ¤å®šçš„æ‰§è¡Œæ·±åº¦å–å†³äºå—æµ‹å¯¹è±¡ï¼Œå³è‹¥æœ‰æŸä¸ª ID å­—æ®µåˆ™å¯ä»¥ç›´æ¥æ ¹æ®è¯¥ ID æ¥åˆ¤å®šã€‚</p>

<pre><code class="language-objectivec">// å°†å¯¹è±¡æ”¾å…¥ collection ä¸­ï¼Œä¸åº”å†æ”¹å˜å…¶å“ˆå¸Œç ï¼Œå³éœ€è¦ç¡®ä¿å“ˆå¸Œç å¹¶éæ ¹æ®å¯¹è±¡çš„å¯å˜éƒ¨åˆ†è®¡ç®—å¾—å‡º
NSMutableSet *set = [NSMutableSet new];
NSMutableArray *arr1 = [@[@1] mutableCopy];
NSMutableArray *arr2 = [@[@1, @2] mutableCopy];

[set addObject:arr1];
[set addObject:arr2];

// {((1), (1,2))}
NSLog(@&quot;%@&quot;, set);

// Set ä¸­å­˜åœ¨äº†ä¸¤ä¸ªå®Œå…¨ç›¸åŒçš„ç»“æ„
// {((1,2), (1,2))}
[arr1 addObject:@2];
NSLog(@&quot;%@&quot;, set);
</code></pre></li>
</ul>

<h3 id="ä»¥-ç±»æ—æ¨¡å¼-éšè—å®ç°ç»†èŠ‚">ä»¥ã€Œç±»æ—æ¨¡å¼ã€éšè—å®ç°ç»†èŠ‚</h3>

<ul>
<li><p>ç±»æ—ï¼ˆClass Clusterï¼Œåˆç§°ç±»ç°‡ï¼‰æ˜¯ä¸€ç§éšè—æŠ½è±¡åŸºç±»èƒŒåçš„å®ç°ç»†èŠ‚çš„æ¨¡å¼ï¼ˆä¾‹å¦‚ <code>UIButton</code> çš„ <code>buttonWithType:</code> ç±»æ–¹æ³•ï¼‰ã€‚</p>

<pre><code class="language-swift">// æ¨¡å¼æ˜¯ä¸é™å®šäºè¯­è¨€çš„ï¼Œå› æ­¤è¿™é‡Œä½¿ç”¨äº† Swift æ¥ç®€å•å®ç°

enum FooType {
case first
case second
}

class Foo {
static func build(_ type: FooType) -&gt; Foo {
    switch type {
    case .first: return FooFirst()
    case .second: return FooSecond()
    }
}

func bar() {
    fatalError(&quot;bar should be implemented in subclasses.&quot;)
}
}

class FooFirst: Foo {
override func bar() {
    print(#function)
}
}

class FooSecond: Foo {
override func bar() {
    print(#function)
}
}

// ç±»æ—æ¨¡å¼ç›®çš„æ˜¯éšè—å†…éƒ¨å®ç°çš„ç»†èŠ‚ï¼Œå› æ­¤å¤–ç•Œåˆ›å»ºçš„å˜é‡è™½ç„¶æ˜¯å·¥å‚ç±»çš„ç±»å‹ï¼Œä½†å®é™…ä¸Šå…¶å®æ˜¯å†…éƒ¨å­ç±»çš„ç±»å‹ã€‚
// å› æ­¤åœ¨ Obj-C ä¸­ä½¿ç”¨ isMemberOfClass åˆ¤æ–­ç±»æ˜¯å¦ä¸ºå·¥å‚ç±»æœ¬èº«ï¼Œåˆ™ä¼šè¿”å› NOã€‚
// foo åœ¨ Swift ä¸­è¢«æ¨æ–­ä¸º Foo
let foo = Foo.build(.first)

print(foo is Foo)
print(foo is FooFirst)
print(foo is FooSecond)

// OUTPUT:
// true
// true
// false
</code></pre></li>

<li><p>ç³»ç»Ÿæ¡†æ¶ä¸­æœ‰è®¸å¤šç±»æ—ï¼Œæ¯”å¦‚å¤§éƒ¨åˆ†çš„ collection ç±»ï¼ˆæ¯”å¦‚ <code>NSArray</code>ï¼‰ï¼›</p></li>

<li><p>ç”±äº <code>NSArray</code> æ˜¯ç±»æ—ï¼Œå› æ­¤ <code>[fooArr class] == [NSArray class]</code> å°†ä¸€ç›´è¿”å› <code>false</code>ï¼Œä½†å¯ä½¿ç”¨ <code>[fooArr isKindOfClass:[NSArray class]]</code>ã€‚</p></li>

<li><p>å‘ç±»æ—ä¸­æ–°å¢å®ä½“å­ç±»éœ€è¦éµå®ˆä»¥ä¸‹è§„åˆ™ï¼š</p>

<ul>
<li>å­ç±»åº”è¯¥ç»§æ‰¿è‡ªç±»æ—ä¸­çš„æŠ½è±¡åŸºç±»ï¼›</li>
<li>å­ç±»åº”è¯¥å®šä¹‰è‡ªå·±çš„æ•°æ®å­˜å‚¨æ–¹å¼ï¼šç±»æ—åªæ˜¯å®šä¹‰äº†é€šç”¨çš„æ¥å£ï¼Œå®é™…å­˜å‚¨çš„æ–¹å¼åˆ™ç”±èƒŒåå…·ä½“çš„å®ä½“å­ç±»æ‰¿æ‹…ï¼›</li>
<li>å­ç±»åº”å½“è¦†å†™è¶…ç±»æ–‡æ¡£ä¸­æŒ‡æ˜éœ€è¦è¦†å†™çš„æ–¹æ³•ï¼šç±»æ—ä¸­çš„é€šç”¨æ¥å£éœ€è¦å­ç±»å®ç°ã€‚</li>
</ul></li>
</ul>

<h3 id="åœ¨æ—¢æœ‰ç±»ä¸­ä½¿ç”¨å…³è”å¯¹è±¡å­˜æ”¾è‡ªå®šä¹‰æ•°æ®">åœ¨æ—¢æœ‰ç±»ä¸­ä½¿ç”¨å…³è”å¯¹è±¡å­˜æ”¾è‡ªå®šä¹‰æ•°æ®</h3>

<ul>
<li>ç•¥ï¼›å…³äºå…³è”å¯¹è±¡ï¼Œå¯è¯¦è§ <a href="/posts/2019/associated_objects_in_ios">iOS ä¸­çš„å…³è”å¯¹è±¡</a>ä¸€æ–‡ã€‚</li>
</ul>

<h3 id="ç†è§£-objc-msgsend-çš„ä½œç”¨">ç†è§£ objc_msgSend çš„ä½œç”¨</h3>

<ul>
<li>ç•¥ï¼›å…³äº objc_msgSendï¼Œå¯è¯¦è§ <a href="/posts/2019/objc_msgsend">objc_msgSend</a> ä¸€æ–‡ã€‚</li>
</ul>

<h3 id="ç†è§£æ¶ˆæ¯è½¬å‘æœºåˆ¶">ç†è§£æ¶ˆæ¯è½¬å‘æœºåˆ¶</h3>

<h2 id="reference">Reference</h2>

<ul>
<li><a href="/posts/2019/ivar_access_control_in_obj-c/">Obj-C ä¸­å®ä¾‹å˜é‡å’Œç±»çš„è®¿é—®æ§åˆ¶</a></li>
<li><a href="https://stackoverflow.com/questions/17668018/when-to-use-uikit-extern-vs-just-extern">When to use UIKIT_EXTERN vs just extern - StackOverflow</a></li>
</ul>

    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>
        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/posts/2019/url_loading_system/">
                <span class="button__icon">â†</span>
                <span class="button__text">[è¯‘] URL åŠ è½½ç³»ç»Ÿ</span>
              </a>
            </span>
          
          
            <span class="button next">
              <a href="/posts/2019/&#43;initialize_in_ios/">
                <span class="button__text">iOS ä¸­çš„ &#43;initialize æ–¹æ³•</span>
                <span class="button__icon">â†’</span>
              </a>
            </span>
          
        </div>
      </div>
    

    

    
    
    <div>
      <div id="github-comment">
      </div>

      <script type="text/javascript">
        function getUtterances(isDark) {
          var utterances = document.createElement('script');
          utterances.type = 'text/javascript';
          utterances.async = true;
          utterances.setAttribute('issue-term', "pathname")
          utterances.setAttribute('repo', "kingcos\/kingcos.github.io")
          utterances.setAttribute('label', "comments")
          isDark ? utterances.setAttribute('theme', "github-dark") : utterances.setAttribute('theme', "github-light")
          utterances.crossorigin = 'anonymous';
          utterances.src = 'https://utteranc.es/client.js';

          return utterances
        }

        var themeToggle = document.querySelector(".theme-toggle")
        themeToggle.addEventListener("click", function () {
          var getTheme = window.localStorage && window.localStorage.getItem("theme")
          var divNode = document.getElementById('github-comment')
          while(divNode.hasChildNodes()) {
            divNode.removeChild(divNode.firstChild);
          }
          
          
          

          
          
          
          
          
          
          document.getElementById('github-comment').appendChild(getUtterances(getTheme !== "dark"))
        })

        var getTheme = window.localStorage && window.localStorage.getItem("theme")
        document.getElementById('github-comment').appendChild(getUtterances(getTheme === "dark"))
      </script>
    </div>
    

    </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">Powered by github.com/kingcos</div>
    
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>


      
    </div>

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-138311951-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
  </body>
</html>
