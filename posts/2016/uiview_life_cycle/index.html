<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="kingcos" />
	
	
	
	<title>åˆæ¢ iOS ä¸­è‡ªå®šä¹‰ UIView çš„åˆå§‹åŒ–è¿‡ç¨‹ ï½œ kingcos</title>
	
    
    
    <meta name="description" content="å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä¸€ç›´æ˜¯å¼€å‘è€…æ‰€éœ€è¦å…³å¿ƒçš„ï¼Œæ•™æˆ CS193p çš„è€å¸ˆ Paul ä¹Ÿè¯¦ç»†çš„è®²è¿°äº† UIViewController çš„ç”Ÿå‘½å‘¨æœŸã€‚ä¸ºäº†è®°è¿°è¿™ä¸€è¿‡ç¨‹ï¼Œæ•…ä½œæ­¤æ–‡ã€‚ç”±äº Xcode æä¾›äº†çº¯ä»£ç å’Œ Storyboardï¼ˆXib åŒç†ï¼‰ä¸¤ç§å¸ƒå±€ UI çš„æ–¹å¼ï¼Œå› æ­¤åˆå§‹åŒ–éƒ¨åˆ†ç•¥æœ‰ä¸åŒã€‚" />
    

    
    
    <meta name="keywords" content="Hugo, theme, zozo" />
    

	
    
    <link rel="shortcut icon" href="https://kingcos.me/images/favicon.png" />

    <link rel="stylesheet" type="text/css" media="screen" href="https://kingcos.me/css/normalize.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://kingcos.me/css/zozo.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://kingcos.me/css/highlight.css" />

    
    
</head>

<script data-ad-client="ca-pub-9925978992661955" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


<body>
    <div class="main animate__animated animate__fadeInDown">
        <div class="nav_container animated fadeInDown">
    <div class="site_nav" id="site_nav">
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/posts/">Archive</a>
            </li>
            
            <li>
                <a href="/tags/">Tags</a>
            </li>
            
            <li>
                <a href="/about/">About</a>
            </li>
            
        </ul>
    </div>
    <div class="menu_icon">
        <a id="menu_icon"><i class="ri-menu-line"></i></a>
    </div>
</div>


<link rel="stylesheet" href="https://kingcos.me/scss/main.min.75b49085bfb07b1bf150a1d59b4773d857e0452a747e37243805218b528a4045.css" integrity="sha256-dbSQhb&#43;wexvxUKHVm0dz2FfgRSp0fjckOAUhi1KKQEU=" media="screen">

<style>
.nav_container {
  height: 1rem;
}
 
table {
    width: 100%;
    table-layout: fixed;
}

 
.markdown code {
    white-space: normal;
    word-wrap: break-word;
    word-break: break-word;
    line-height: 1.5em;
    font-size: 0.85em;
    font-weight: bold;
    display: inline-block;
     
}

 
.menu_icon a {
    font-size: 16px;
}

 
body {
    font-family: 'Hiragino Sans GB', 'SFMono', 'Lato', '-apple-system';
    -webkit-font-smoothing: 'antialiased';
}

 
.markdown strong, .markdown b, .markdown em {
    font-weight: bold;
}

.post .post_content p {
     

    line-height: 1.75em;
}

 
.markdown img {
    max-width: 100%;
    margin: 0 auto;
    display: block;
    border-radius: 0.25rem;
}

 
.ri-stack-line {
    vertical-align: middle;
}

 
.ri-map-pin-time-line {
    vertical-align: middle;
}

 
.chroma .lntd:nth-child(2) {
    width: 100%;
}

 

 
.markdown .book-hint::before {
    content: none;
}

.markdown .book-hint {
    margin: 1rem 0;
    padding: 0.5rem 1rem 0.5rem 0.75rem;

    border-inline-start: 0.25rem solid #e9ecef;
    border-radius: 0.25rem;

    font-style: normal;
     
}

.book-hint strong {
    background-color: transparent;
}

.markdown .book-hint.info {
    border-left-color:#6bf;
    background-color:rgba(102,187,255,.1);
}

.markdown .book-hint.warning {
    border-left-color:#fd6;
    background-color:rgba(255,221,102,.1);
}

.markdown .book-hint.danger {
    border-left-color:#f66;
    background-color:rgba(255,102,102,.1);
}

</style>

        <div class="header animated fadeInDown">
    <div class="site_title_container">
        <div class="site_title">
            
                <a href="https://kingcos.me/">
                    
                    <img class="kingcos" style="margin-top: -20px; margin-left: -10px;" src="/title.svg" width="150px">
                </a>
            
        </div>
        <div class="description">
            <p class="sub_title">ä¸“æ³¨ã€åšæŒ</p>
            <div class="my_socials">
                
                
                <a href="https://github.com/kingcos" title="github" target="_blank"><i class="ri-github-fill"></i></a>
                
                
                
                <a href="https://www.instagram.com/kingcos_v/" title="instagram" target="_blank"><i class="ri-instagram-fill"></i></a>
                
                
                
                <a href="https://twitter.com/kingcos_v" title="twitter" target="_blank"><i class="ri-twitter-fill"></i></a>
                
                
                
                <a href="https://weibo.com/u/1798410923" title="weibo" target="_blank"><i class="ri-weibo-fill"></i></a>
                
                
                
            </div>
        </div>
    </div>
</div>
        <div class="content">
            <div class="post_page">
                <div class="post animate__animated animate__fadeInDown">
                    <div class="post_title post_detail_title">
                        <h2><a href='/posts/2016/uiview_life_cycle/'>åˆæ¢ iOS ä¸­è‡ªå®šä¹‰ UIView çš„åˆå§‹åŒ–è¿‡ç¨‹</a></h2>
                        <span class="date">2016.11.04</span>
                        <span>by kingcos</span>
                        
                        
                        
                        
                    </div>
                    <div class="post_content markdown">
<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>Release Notes</span>
      <span>â†•</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <table>
<thead>
<tr>
<th style="text-align:center">Date</th>
<th style="text-align:center">Notes</th>
<th style="text-align:center">Swift</th>
<th style="text-align:center">Xcode</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">2017-03-07</td>
<td style="text-align:center">é¦–æ¬¡æäº¤</td>
<td style="text-align:center">3.0</td>
<td style="text-align:center">8.2 Beta 1</td>
</tr>
</tbody>
</table>

    </div>
  </label>
</div>

<blockquote>
<p>awakeFromNib()
init(frame:)
init(coder:)</p>
</blockquote>
<h2 id="update">Update</h2>
<blockquote>
<p>2017.03.07 - UIView ç”Ÿå‘½å‘¨æœŸ Demo</p>
</blockquote>
<p>ç”±äºæœ¬æ–‡ä¹‹å‰è™½æœ‰ä»£ç ï¼Œä½†æ²¡æœ‰ç›¸åº”çš„ Demoï¼Œå€Ÿ<a href="https://kingcos.me/posts/2017/uiviewcontroller_life_cycle/">æ¢ç©¶ UIViewController ç”Ÿå‘½å‘¨æœŸ</a>ä¹‹é™…ï¼ŒåŠ å…¥äº† UIView ç”Ÿå‘½å‘¨æœŸçš„ Demoã€‚æ‚¨å¯ä»¥åœ¨ <a href="https://github.com/kingcos/UIViewController-UIView-LifecycleDemo">https://github.com/kingcos/UIViewController-UIView-LifecycleDemo</a> æŸ¥çœ‹ã€ä¸‹è½½ã€‚</p>
<blockquote>
<p>2017.02.27 - CS193p Lecture 04</p>
</blockquote>
<ul>
<li>é€šå¸¸ï¼ŒUIView åº”å°½å¯èƒ½é¿å…é‡å†™æ„é€ å™¨ã€‚</li>
<li><code>init(frame:)</code>ï¼šçº¯ä»£ç ï¼ˆæŒ‡å®šæ„é€ å™¨ï¼‰ï¼›<code>init(coder:)</code>ï¼šStoryboardï¼ˆå¿…éœ€å¯å¤±è´¥æ„é€ å™¨ï¼‰ã€‚è‹¥éœ€è¦æ„é€ å™¨ï¼Œéœ€è¦åŒæ—¶é‡å†™è¿™ä¸¤ä¸ªæ„é€ å™¨ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="kd">func</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// å¦‚æœæœ¬ç±»æœ‰è‡ªå®šä¹‰å˜é‡ï¼Œåˆ™æ­¤å¤„ä¸å¯åˆå§‹åŒ–ä»–ä»¬ï¼Œ</span>
    <span class="c1">// å› ä¸ºåªæœ‰å½“åˆå§‹åŒ–åæ‰èƒ½è°ƒç”¨è‡ªå·±çš„æ–¹æ³•ã€‚</span>
<span class="p">}</span>

<span class="kr">override</span> <span class="kd">init</span><span class="p">(</span><span class="n">frame</span><span class="p">:</span> <span class="n">CGRect</span><span class="p">)</span> <span class="p">{</span>
    <span class="kc">super</span><span class="p">.</span><span class="kd">init</span><span class="p">(</span><span class="n">frame</span><span class="p">:</span> <span class="n">frame</span><span class="p">)</span>

    <span class="c1">// åˆå§‹åŒ–å˜é‡</span>

    <span class="n">setup</span><span class="p">()</span>
<span class="p">}</span>

<span class="kr">required</span> <span class="kd">init</span><span class="p">?(</span><span class="n">coder</span> <span class="n">aDecoder</span><span class="p">:</span> <span class="n">NSCoder</span><span class="p">)</span> <span class="p">{</span>
    <span class="kc">super</span><span class="p">.</span><span class="kd">init</span><span class="p">(</span><span class="n">coder</span><span class="p">:</span> <span class="n">aDecoder</span><span class="p">)</span>

    <span class="c1">// åˆå§‹åŒ–å˜é‡</span>

    <span class="n">setup</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div><ul>
<li><code>awakeFromNib()</code> åªåœ¨ä½¿ç”¨ Storyboard çš„ UIView ä¸­è¢«è°ƒç”¨ã€‚</li>
<li><code>awakeFromNib()</code> å¹¶ä¸æ˜¯æ„é€ å™¨ï¼Œä½†å®ƒåœ¨åˆå§‹åŒ–å®Œæˆåç«‹å³è¢«è°ƒç”¨ã€‚</li>
<li>æ‰€æœ‰ Storyboard ä¸­ç»§æ‰¿è‡ª NSObject çš„å¯¹è±¡å‘é€è¯¥æ¶ˆæ¯ã€‚ä½†é¡ºåºæ˜¯ä¸ç¡®å®šçš„ï¼Œå› æ­¤ä¸èƒ½åœ¨è¿™é‡Œè°ƒç”¨å…¶ä»–ä»»ä½• Storyboard ä¸­çš„å¯¹è±¡ã€‚</li>
</ul>
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>åœ¨ StoryBoard å’Œ Xib å‡ºç°ä¹‹åï¼ŒiOS UI å¼€å‘å‡ºç°äº†ä¸‰è¶³é¼ç«‹ä¹‹åŠ¿ã€‚æœ¬æ–‡ä¸æ¶‰åŠ StoryBoardã€Xibã€çº¯ä»£ç çš„ä¼˜åŠ£ä¹‹åˆ†ã€‚ä»…ä»…æ¶‰åŠå‡ ä¸ªåˆå§‹åŒ–æ–¹æ³•ï¼š<code>awakeFromNib()</code> &amp; <code>init(frame:)</code> &amp; <code>init(coder:)</code>ï¼Œæ¢è®¨ä»–ä»¬ä½•æ—¶è°ƒç”¨ï¼Œä¸ºä½•è°ƒç”¨ã€‚</p>
<h2 id="xib--nib">Xib &amp; Nib</h2>
<p>ib æ˜¯ Interface Builder çš„ç¼©å†™ï¼Œå³ç•Œé¢æ„é€ å™¨ã€‚è¿™é‡Œç®€è¦è¯´ä¸‹ï¼ŒXib å’Œ Nib å„æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ã€‚</p>
<p>Xib å®é™…æ˜¯ä¸€ä¸ª XML æ–‡ä»¶ï¼Œè€Œ Nib æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ã€‚å½“åº”ç”¨ç¼–è¯‘æ—¶ï¼ŒXib æ–‡ä»¶è¢«ç¿»è¯‘ä¸º Nibã€‚æ‰€ä»¥åœ¨ Xcode ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±æ–°å»º Xib æ–‡ä»¶æ¥æ„é€  UIï¼Œè€Œå½“ç¼–è¯‘æ—¶ï¼ŒXcode ä¼šè‡ªåŠ¨ç”Ÿæˆç›¸åº”çš„ Nib æ–‡ä»¶ï¼Œè€Œä¸éœ€æˆ‘ä»¬é¢å¤–å…³æ³¨ã€‚å…³äºå…¶è¯¦ç»†ä»‹ç»ï¼Œæ‚¨å¯ä»¥å‚è€ƒæ–‡æœ«çš„èµ„æ–™ã€‚</p>
<blockquote>
<p>OK! Talk is cheap, show me the code!</p>
</blockquote>
<h2 id="demo">Demo</h2>
<p>åœ¨ä¸‹é¢çš„ Demo ä¸­ï¼Œç»Ÿä¸€å°†è‡ªå®šä¹‰ UIView å‘½åä¸º MyViewã€‚</p>
<p>MyView.swift</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="kd">import</span> <span class="nc">UIKit</span>

<span class="kd">class</span> <span class="nc">MyView</span><span class="p">:</span> <span class="n">UIView</span> <span class="p">{</span>
	<span class="c1">// methods</span>
<span class="p">}</span>
</code></pre></div><h3 id="interface-builder">Interface Builder</h3>
<p>å¦‚æœä½¿ç”¨ Interface Builder æ‹–æ§ä»¶ï¼Œé‚£ä¹ˆå…¶é»˜è®¤å±äº UIView ç±»å‹ã€‚ä¸ºå°†å…¶æ”¹ä¸ºè‡ªå®šä¹‰æ§ä»¶ï¼Œéœ€è¦å°† Utilities ä¸­ Identity inspector çš„ Custom Class æ”¹ä¸º MyViewã€‚</p>
<p><img src="/img/2016/uiview_life_cycle/1.png" alt="Custom Class æ”¹ä¸º MyView"></p>
<p>ä¸ºäº†æ–¹ä¾¿çœ‹å‡ºè°ƒç”¨é¡ºåºï¼Œå°† MyView.swift æ”¹ä¸ºå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="kd">import</span> <span class="nc">UIKit</span>

<span class="kd">class</span> <span class="nc">MyView</span><span class="p">:</span> <span class="n">UIView</span> <span class="p">{</span>
    
    <span class="kr">override</span> <span class="kd">init</span><span class="p">(</span><span class="n">frame</span><span class="p">:</span> <span class="n">CGRect</span><span class="p">)</span> <span class="p">{</span>
        <span class="kc">super</span><span class="p">.</span><span class="kd">init</span><span class="p">(</span><span class="n">frame</span><span class="p">:</span> <span class="n">frame</span><span class="p">)</span>
        
        <span class="bp">print</span><span class="p">(</span><span class="s">&#34;init(frame:)&#34;</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kr">required</span> <span class="kd">init</span><span class="p">?(</span><span class="n">coder</span> <span class="n">aDecoder</span><span class="p">:</span> <span class="n">NSCoder</span><span class="p">)</span> <span class="p">{</span>
        <span class="kc">super</span><span class="p">.</span><span class="kd">init</span><span class="p">(</span><span class="n">coder</span><span class="p">:</span> <span class="n">aDecoder</span><span class="p">)</span>
        
        <span class="bp">print</span><span class="p">(</span><span class="s">&#34;init(coder:)&#34;</span><span class="p">)</span>
        <span class="c1">// fatalError(&#34;init(coder:) has not been implemented&#34;)</span>
    <span class="p">}</span>
    
    <span class="kr">override</span> <span class="kd">func</span> <span class="nf">awakeFromNib</span><span class="p">()</span> <span class="p">{</span>
        <span class="kc">super</span><span class="p">.</span><span class="n">awakeFromNib</span><span class="p">()</span>
        
        <span class="bp">print</span><span class="p">(</span><span class="s">&#34;awakeFromNib()&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>ä¹‹åè¿è¡Œå³å¯åœ¨å±å¹•ä¸Šçœ‹åˆ°è¯¥è‡ªå®šä¹‰ UIViewï¼Œæ§åˆ¶å°è¾“å‡ºï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="kd">init</span><span class="p">(</span><span class="n">coder</span><span class="p">:)</span>
<span class="n">awakeFromNib</span><span class="p">()</span>
</code></pre></div><h4 id="å°ç»“">å°ç»“</h4>
<p>é€šè¿‡æ‰“å°çš„è¾“å‡ºï¼Œå¯ä»¥çœ‹å‡ºä½¿ç”¨ Interface Builder è½½å…¥ View ä¸ä¼šè°ƒç”¨ <code>init(frame:)</code> æ–¹æ³•ï¼Œè€Œæ˜¯è°ƒç”¨äº† <code>init(coder:)</code>ã€‚<code>init(coder:)</code> æ˜¯ NSCoding åè®®ä¸­çš„æ–¹æ³•ï¼ŒNSCoding æ˜¯è´Ÿè´£ç¼–ç è§£ç ï¼Œå½’æ¡£å¤„ç†çš„åè®®ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="kr">required</span> <span class="kd">init</span><span class="p">?(</span><span class="n">coder</span> <span class="n">aDecoder</span><span class="p">:</span> <span class="n">NSCoder</span><span class="p">)</span>
</code></pre></div><p>ä»£ç ä¸­çš„ <code>init(coder:)</code> ä¸å¹³æ—¶è§åˆ°çš„å…¶ä»–åˆå§‹åŒ–æ–¹æ³•æœ‰ç‚¹ä¸åŒï¼š<code>required</code> æ˜¯æŒ‡å…¶ä¸ºå¿…è¦æ„é€ å™¨ï¼Œå³å­ç±»ã€Œå¿…é¡»ã€é‡å†™è¯¥æ„é€ å™¨ï¼Œä½†å½“çˆ¶ç±»çš„æ„é€ å™¨å¯ä»¥å®Œå…¨æ»¡è¶³åˆå§‹åŒ–æ—¶ï¼Œä¹Ÿå¯ä¸é‡å†™ã€‚<code>init?</code> æ˜¯æŒ‡å…¶ä¸ºå¯å¤±è´¥æ„é€ å™¨ï¼Œå³å…¶å¯ä»¥ <code>return nil</code> å‘ŠçŸ¥å¤–ç•Œæ„é€ å¤±è´¥ã€‚è‹¥æƒ³è¯¦ç»†äº†è§£ Swift ä¸­çš„æ„é€ å™¨ï¼Œå¯ä»¥å‚è€ƒè‹¹æœå®˜æ–¹æ–‡æ¡£ã€‚</p>
<p><code>init(coder:)</code> çš„è°ƒç”¨å¤„äº Nib <strong>è½½å…¥æ—¶</strong>ï¼Œè€Œ <code>awakeFromNib()</code> çš„è°ƒç”¨å¤„äº Nib <strong>è½½å…¥å</strong>ã€‚Nib çš„è½½å…¥è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>Nib æ–‡ä»¶å†…å®¹å’Œå¼•ç”¨çš„èµ„æºæ–‡ä»¶åŠ è½½åˆ°å†…å­˜ï¼›</li>
<li>åå½’æ¡£å­˜å‚¨äº Nib æ–‡ä»¶çš„å›¾åƒæ•°æ®å¯¹è±¡å¹¶åˆå§‹åŒ–ï¼›</li>
<li>éµä» NSCoding çš„å¯¹è±¡ï¼ˆUIView &amp; UIViewControllerï¼‰è°ƒç”¨ <code>init(coder:)</code></li>
<li>å…¶ä»–å¯¹è±¡è°ƒç”¨å…¶ä»–æ„é€ å™¨æ–¹æ³•</li>
<li>å»ºç«‹å¯¹è±¡é—´è¿æ¥ï¼šOutlet &amp; Action</li>
<li>å®ç° <code>awakeFromNib()</code> çš„å¯¹è±¡è°ƒç”¨è¯¥æ–¹æ³•</li>
</ol>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>awakeFromNib()</code> ä¸­éœ€è¦è°ƒç”¨çˆ¶ç±»çš„è¯¥æ–¹æ³•ä»¥ä¿è¯çˆ¶ç±»çš„è¿›è¡Œé¢å¤–åˆå§‹åŒ–ã€‚è€Œåœ¨æœ¬ä¾‹ä¸­é‡å†™çš„ <code>init(coder:)</code> ç›®çš„ä¸»è¦æ˜¯æŸ¥çœ‹è°ƒç”¨é¡ºåºï¼Œå¹¶æ²¡æœ‰åŠ å…¥ç‰¹åˆ«çš„æ“ä½œã€‚å› æ­¤åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œå¦‚æœä½¿ç”¨ Interface Builderï¼Œå¯ä»¥ä¸é‡å†™è¯¥æ–¹æ³•ã€‚</p>
<h3 id="code">Code</h3>
<p>MyView.swift</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="kd">import</span> <span class="nc">UIKit</span>

<span class="kd">class</span> <span class="nc">MyView</span><span class="p">:</span> <span class="n">UIView</span> <span class="p">{</span>
    
    <span class="kr">override</span> <span class="kd">init</span><span class="p">(</span><span class="n">frame</span><span class="p">:</span> <span class="n">CGRect</span><span class="p">)</span> <span class="p">{</span>
        <span class="kc">super</span><span class="p">.</span><span class="kd">init</span><span class="p">(</span><span class="n">frame</span><span class="p">:</span> <span class="n">frame</span><span class="p">)</span>
        
        <span class="bp">print</span><span class="p">(</span><span class="s">&#34;init(frame:)&#34;</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kr">required</span> <span class="kd">init</span><span class="p">?(</span><span class="n">coder</span> <span class="n">aDecoder</span><span class="p">:</span> <span class="n">NSCoder</span><span class="p">)</span> <span class="p">{</span>
        <span class="bp">fatalError</span><span class="p">(</span><span class="s">&#34;init(coder:) has not been implemented&#34;</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kr">override</span> <span class="kd">func</span> <span class="nf">awakeFromNib</span><span class="p">()</span> <span class="p">{</span>
        <span class="kc">super</span><span class="p">.</span><span class="n">awakeFromNib</span><span class="p">()</span>
        
        <span class="bp">print</span><span class="p">(</span><span class="s">&#34;awakeFromNib&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>ViewController.swift</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="kd">import</span> <span class="nc">UIKit</span>

<span class="kd">class</span> <span class="nc">ViewController</span><span class="p">:</span> <span class="n">UIViewController</span> <span class="p">{</span>

    <span class="kr">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="kc">super</span><span class="p">.</span><span class="n">viewDidLoad</span><span class="p">()</span>
        
        <span class="kd">let</span> <span class="nv">myView</span> <span class="p">=</span> <span class="n">MyView</span><span class="p">(</span><span class="n">frame</span><span class="p">:</span> <span class="n">CGRect</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="mi">50</span><span class="p">))</span>
        <span class="n">myView</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="p">=</span>  <span class="p">.</span><span class="n">black</span>
        <span class="n">view</span><span class="p">.</span><span class="n">addSubview</span><span class="p">(</span><span class="n">myView</span><span class="p">)</span>
    <span class="p">}</span>
    
<span class="p">}</span>
</code></pre></div><p>ä¹‹åè¿è¡Œå³å¯åœ¨å±å¹•ä¸Šçœ‹åˆ°è¯¥è‡ªå®šä¹‰ UIViewï¼Œæ§åˆ¶å°è¾“å‡ºï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="kd">init</span><span class="p">(</span><span class="n">frame</span><span class="p">:)</span>
</code></pre></div><h4 id="å°ç»“-1">å°ç»“</h4>
<p>é€šè¿‡çº¯ä»£ç åˆ›å»ºè‡ªå®šä¹‰ UIViewï¼Œä¾¿åªè°ƒç”¨ <code>init(frame:)</code> æ–¹æ³•ï¼Œä¸æ¶‰åŠ Nib çš„æ–¹æ³•ï¼Œå› æ­¤ä¸ä¼šè°ƒç”¨ <code>awakeFromNib()</code> å’Œ <code>init(coder:)</code> æ–¹æ³•ã€‚è€Œç”±äº <code>init(coder:)</code> ä¸ºå¿…è¦æ„é€ å™¨ï¼Œå› æ­¤é‡å†™ <code>init(frame:)</code> æ—¶ï¼Œå¿…é¡»å®ç°è¯¥æ–¹æ³•ã€‚</p>
<p>æœ‰æ—¶ï¼Œä¸ºäº†ä¾¿äºä» Interface Builder å’Œçº¯ä»£ç éƒ½èƒ½åˆ›å»ºè‡ªå®šä¹‰ UIView å¯¹è±¡ï¼Œå¯ä»¥å°† <code>init(coder:)</code> æ–¹æ³•æ”¹ä¸ºï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="kr">required</span> <span class="kd">init</span><span class="p">?(</span><span class="n">coder</span> <span class="n">aDecoder</span><span class="p">:</span> <span class="n">NSCoder</span><span class="p">)</span> <span class="p">{</span>
    <span class="kc">super</span><span class="p">.</span><span class="kd">init</span><span class="p">(</span><span class="n">coder</span><span class="p">:</span> <span class="n">aDecoder</span><span class="p">)</span>
    <span class="c1">// fatalError(&#34;init(coder:) has not been implemented&#34;)</span>
<span class="p">}</span>
</code></pre></div><p>è‹¥ä¿ç•™ <code>fatalError()</code>ï¼Œåˆ™ä» Nib åˆå§‹åŒ–æ—¶ä¼šæ— æ¡ä»¶è¾“å‡ºè¯­å¥å¹¶åœæ­¢è¿è¡Œã€‚</p>
<h2 id="åè®°">åè®°</h2>
<p>å¯èƒ½æ˜¯å¼ºè¿«ç—‡ä½œç¥Ÿï¼Œå­¦ä¹ ä¸­æ¯é‡åˆ°ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œéƒ½æƒ³è¦æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£æˆ–è€… Google å‡ºä¸ºä»€ä¹ˆï¼Œç„¶åè‡ªå·±æ•²ä»£ç éªŒè¯ï¼Œå†æ€»ç»“å‡ºä¸€ç¯‡æ–‡ç« ï¼ŒæŠ•ç¨¿ç»™ç®€ä¹¦ã€æ˜é‡‘ã€‚ä¸€ç¯‡æ–‡ç« æœ‰æ—¶è¦è€—è´¹ä¸€ä¸¤å¤©ï¼Œå› ä¸ºæŸ¥é˜…çš„èµ„æ–™éƒ½æ˜¯ç•¥æœ‰è¿‡æ—¶ä¸”å‡ ä¹å…¨ä¸ºè‹±æ–‡ï¼Œä½†è‡ªå·±æŒºäº«å—è¿™æ ·çš„å­¦ä¹ çŠ¶æ€ï¼Œä¹Ÿå¾ˆäº«å—åˆ†äº«ç»™å¤§å®¶ä¹‹åè·å¾—çš„æ”¶è—æ‰€å¸¦æ¥çš„é¼“åŠ±ã€‚æœ€è¿‘ä¹Ÿçœ‹äº†å¾ˆå¤šå®ä¹ ç”Ÿçš„æ‹›è˜ï¼Œç°åœ¨æ·±æ„ŸåŸºç¡€çš„é‡è¦ï¼Œæœªæ¥å¯èƒ½ä¼šå€¾å‘ä¸€äº›åŸºç¡€ï¼Œä¾‹å¦‚æ•°æ®ç»“æ„ã€ç®—æ³•ã€ç½‘ç»œç­‰çŸ¥è¯†ã€‚ä¹Ÿå¸Œæœ›è‡ªå·±åœ¨å¯’å‡æˆ–ä¸‹å­¦æœŸèƒ½æ‰¾ä¸€ä»½ iOS å®ä¹ ï¼Œè™½ç„¶è‡ªå·±ä¹Ÿæœ‰æ‰€æ¶‰çŒ Android ç­‰å…¶ä»–çš„ä¸€äº›æŠ€æœ¯æ ˆï¼Œä½†è¿˜æ˜¯å¯¹ iOS æœ€æ„Ÿå…´è¶£ã€‚Come on!</p>
<h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/LoadingResources/CocoaNibs/CocoaNibs.html">Nib Files</a></li>
<li><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Initialization.html#//apple_ref/doc/uid/TP40014097-CH18-ID203">Initialization</a></li>
</ul>
</div>
                    <div class="post_footer">
                        
                        <div class="meta">
                            <div class="info">
                                <span class="field tags">
                                    <i class="ri-stack-line"></i>
                                    
                                    <a href="https://kingcos.me/tags/focus/">Focus</a>
                                    
                                    <a href="https://kingcos.me/tags/ios/">iOS</a>
                                    
                                    <a href="https://kingcos.me/tags/swift/">Swift</a>
                                    
                                </span>
                            </div>
                        </div>
                        
                    </div>
                </div>
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<table style="border: 0;">
  <tr>
  <td style="border: 0; width: 30%;">
    <img width='100%' src='/img/about/1.jpg'>
  </td>
  <td style="border: 0; width: 50%;">
    <center>â† å†™å¾—å¦‚ä½•ï¼Ÿè€ƒè™‘<strong>èµèµ</strong>ä¸€ä¸‹ï¼ŸğŸŒš</center>
    
  </td>
  </tr>
</table>

<hr>

<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
                
                
                







    
    
    
    <div>
        <div id="github-comment">
        </div>

        <script type="text/javascript">
        function getUtterances(isDark) {
            var utterances = document.createElement('script');
            utterances.type = 'text/javascript';
            utterances.async = true;
            utterances.setAttribute('issue-term', "pathname")
            utterances.setAttribute('repo', "kingcos\/kingcos.github.io")
            utterances.setAttribute('label', "comments")
            isDark ? utterances.setAttribute('theme', "github-dark") : utterances.setAttribute('theme', "github-light")
            utterances.crossorigin = 'anonymous';
            utterances.src = 'https://utteranc.es/client.js';

            return utterances
        }
        document.getElementById('github-comment').appendChild(getUtterances(false))
        </script>
    </div>
    




                
            </div>
        </div>
    </div>
    <a id="back_to_top" href="#" class="back_to_top"><i class="ri-arrow-up-s-line"></i></a>
    <footer class="footer">
    <div class="powered_by">
        <a href="https://kingcos.me">Powered by kingcos with love.</a>
    </div>

    <div class="footer_slogan">
        <span>â¤ï¸</span>
    </div>
</footer>
    <script src="https://kingcos.me/js/jquery-3.5.1.min.js"></script>
<link href="https://kingcos.me/css/fancybox.min.css" rel="stylesheet">
<script src="https://kingcos.me/js/fancybox.min.js"></script>
<script src="https://kingcos.me/js/zozo.js"></script>


<script type="text/javascript" async
    src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\[\[', '\]\]']],
                processEscapes: true,
                processEnvironments: true,
                skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
                TeX: {
                    equationNumbers: { autoNumber: "AMS" },
                    extensions: ["AMSmath.js", "AMSsymbols.js"]
                }
            }
        });

        MathJax.Hub.Queue(function () {
            
            
            
            var all = MathJax.Hub.getAllJax(), i;
            for (i = 0; i < all.length; i += 1) {
                all[i].SourceElement().parentNode.className += ' has-jax';
            }
        });
    </script>

<style>
    code.has-jax {
        font: inherit;
        font-size: 100%;
        background: inherit;
        border: inherit;
        color: #515151;
    }
</style>



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-138311951-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>

</html>