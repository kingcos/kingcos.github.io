<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="kingcos, iblog" />





  <link rel="alternate" href="/atom.xml" title="V2M" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta name="description" content="源自《数据结构》– 陈越、何钦铭如有错误，希望指出。">
<meta property="og:type" content="website">
<meta property="og:title" content="再学数据结构(3) - Note & Code">
<meta property="og:url" content="https://maimieng.com/note/ds/3.html">
<meta property="og:site_name" content="V2M">
<meta property="og:description" content="源自《数据结构》– 陈越、何钦铭如有错误，希望指出。">
<meta property="og:image" content="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_6.png">
<meta property="og:image" content="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_7.png">
<meta property="og:image" content="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_8.png">
<meta property="og:image" content="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_9.png">
<meta property="og:image" content="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_10.png">
<meta property="og:image" content="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_11.png">
<meta property="og:image" content="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_12.png">
<meta property="og:image" content="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_13.png">
<meta property="og:image" content="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_14.png">
<meta property="og:updated_time" content="2016-05-28T12:50:04.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="再学数据结构(3) - Note & Code">
<meta name="twitter:description" content="源自《数据结构》– 陈越、何钦铭如有错误，希望指出。">
<meta name="twitter:image" content="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_6.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '12611462',
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="https://maimieng.com/note/ds/3.html"/>


  <title>
  

  
    再学数据结构(3) - Note & Code | V2M
  
</title>
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left  ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">V2M</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Way to MM.</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-ipro">
          <a href="/ipro" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            Pro.
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    
    
      <p><blockquote class="blockquote-center"><br>源自《<a href="http://www.icourse163.org/course/zju-93001#/info" target="_blank" rel="external">数据结构</a>》– <a href="http://mooc.study.163.com/u/4941656951#/c" target="_blank" rel="external">陈越</a>、<a href="http://mooc.study.163.com/u/6005073721#/c" target="_blank" rel="external">何钦铭</a><br>如有错误，希望指出。<br></blockquote><br><a id="more"></a></p>
<h2 id="第二讲-线性结构"><a href="#第二讲-线性结构" class="headerlink" title="第二讲 线性结构"></a>第二讲 线性结构</h2><h3 id="线性表及其实现"><a href="#线性表及其实现" class="headerlink" title="线性表及其实现"></a>线性表及其实现</h3><h4 id="视频-1"><a href="#视频-1" class="headerlink" title="视频 1"></a>视频 1</h4><p><strong>书摘：</strong></p>
<p>如何表示多项式？</p>
<ol>
<li>采用顺序存储结构直接表示一元多项式<br>空间浪费很厉害，时间效率也很低</li>
<li>采用顺序存储结构表示多项式的非零项<br>用数组表示的一个问题是灵活性不够</li>
<li>采用链表结构存储多项式的非零项</li>
</ol>
<p>数据结构的操作与数据结构的存储方式是密切相关的<br>数据结构的设计往往需要在算法可理解性与时间，空间效率之间作出折中，针对具体问题选择合适的数据结构并设计相应的算法<br>两种典型且应用广泛的线性表：堆栈和队列<br>线性表的基本操作是插入和删除，堆栈是插入和删除操作只发生在同一端只做插入，另一端只做删除</p>
<hr>
<h4 id="视频-2"><a href="#视频-2" class="headerlink" title="视频 2"></a>视频 2</h4><p><strong>笔记：</strong></p>
<p>多项式问题的启示：</p>
<ol>
<li>同一个问题可以有不同的表示（存储）方法</li>
<li>有一类共性问题：有序线型序列的组织和管理</li>
</ol>
<p>“线性表(Linear List)”：由同类型<strong>数据元素</strong>构成<strong>有序序列</strong>的线性结构</p>
<ul>
<li>表中元素个数称为线性表的<strong>长度</strong></li>
<li>线性表没有元素时，称为<strong>空表</strong></li>
<li>表起始位置称<strong>表头</strong>，表结束位置称<strong>表尾</strong></li>
</ul>
<p>￼线性表的抽象数据类型描述</p>
<ul>
<li>类型名称：线性表(List)</li>
<li>数据对象集：线性表是 $n(\ge0)$ 个元素构成的有序序列 $(a_1,a_2,\cdots,a_n )$</li>
<li>操作集：线性表 L $\in$ List，整数 $i$ 表示位置，元素 X $\in$ ElementType，线性表基本操作主要有：</li>
</ul>
<ol>
<li><code>List MakeEmpty()</code>: 初始化一个空线性表 L；</li>
<li><code>ElementType FindKth(int K, List L)</code>: 根据位序 K，返回相应元素；</li>
<li><code>int Find(ElementType X, List L)</code>: 在线性表 L 中查找 X 的第一次出现位置； </li>
<li><code>void Insert(ElementType X, int i, List L)</code>: 在位序 i 前插入一个新元素 X；</li>
<li><code>void Delete(int i, List L)</code>: 删除指定位序 i 的元素;</li>
<li><code>int Length(List L)</code>: 返回线性表 L 的长度 n。</li>
</ol>
<p>￼一.线性表的顺序存储实现</p>
<p>利用<strong>数组</strong>的<strong>连续存储空间顺序</strong>存放线性表的各元素</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> LNode * List;</div><div class="line"><span class="keyword">struct</span> LNode &#123;</div><div class="line">	<span class="comment">// 定义数组</span></div><div class="line">	ElementType Data[MAXSIZE];</div><div class="line">	<span class="comment">// Last: 最后一个元素的下标</span></div><div class="line">	<span class="keyword">int</span> Last;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">struct</span> LNode L;</div><div class="line">List PtrL;</div></pre></td></tr></table></figure>
<p>访问下标为 i 的元素：<code>L.Data[i]</code> 或 <code>PtrL -&gt; Data[i]</code><br>线性表的长度：<code>L.Last + 1</code> 或 <code>PtrL -&gt; Last + 1</code></p>
<p>主要操作的实现：</p>
<p>1.初始化（建立空的顺序表）</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function">List <span class="title">MakeEmpty</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	List PtrL;</div><div class="line">	PtrL = (List)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> LNode));</div><div class="line">	<span class="comment">// 没有元素，Last 设为 -1</span></div><div class="line">	PtrL -&gt; Last = <span class="number">-1</span>;</div><div class="line">	<span class="keyword">return</span> PtrL;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>2.查找</p>
<p>平均比较次数：$(n+1)/2$ （最好：第一次找到，最坏：第 n 次找到）<br>平均时间复杂度：$O(n)$</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Find</span><span class="params">(ElementType X, List PtrL)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> i = <span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span>(i &lt;= PtrL -&gt; Last &amp;&amp; PtrL -&gt; Data[i] != X)</div><div class="line">		i++;</div><div class="line">	<span class="keyword">if</span> (i &gt; PtrL -&gt; Last)</div><div class="line">		<span class="comment">// 如果没找到，返回 -1</span></div><div class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">	<span class="keyword">else</span></div><div class="line">		<span class="comment">// 找到后返回的是存储位置</span></div><div class="line">		<span class="keyword">return</span> i;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h4 id="视频-3"><a href="#视频-3" class="headerlink" title="视频 3"></a>视频 3</h4><p><strong>笔记：</strong></p>
<p>￼￼￼3.插入操作实现（第 $i(1{\le}i{\le}n+1)$ 个位置上插入一个值为 X 的新元素）</p>
<p>即把 X 插在 Data[i - 1] 位置</p>
<p>平均移动次数：$n/2$<br>平均时间性能为 $O(n)$</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(ElementType X, <span class="keyword">int</span> i, List PtrL)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> j;</div><div class="line">	</div><div class="line">	<span class="comment">// 表空间已满,不能插入</span></div><div class="line">	<span class="keyword">if</span> (PtrL -&gt; Last == MAXSIZE - <span class="number">1</span>)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"表（数组）满"</span>);</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="comment">// 检查插入位置的合法性</span></div><div class="line">	<span class="keyword">if</span> ( i &lt; <span class="number">1</span> || i &gt; PtrL -&gt; Last + <span class="number">2</span>)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"位置不合法"</span>); </div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="keyword">for</span> (j = PtrL -&gt; Last; j &gt;= i - <span class="number">1</span>; j--)</div><div class="line">		<span class="comment">// 将 ai ~ an 倒序向后移动</span></div><div class="line">		PtrL -&gt; Data[j + <span class="number">1</span>] = PtrL -&gt; Data[j]; </div><div class="line">	<span class="comment">// 新元素插入</span></div><div class="line">	PtrL -&gt; Data[i - <span class="number">1</span>] = X; </div><div class="line">	</div><div class="line">	<span class="comment">// Last 仍指向最后元素</span></div><div class="line">	PtrL -&gt; Last++; </div><div class="line">	<span class="keyword">return</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>4.￼￼删除（删除表的第 $i(1{\le}i{\le}n)$ 个位置上的元素）</p>
<p>即把 i - 1 之后的元素全部前移</p>
<p>平均移动次数：$(n+1)/2$<br>平均时间复杂度：$O(n)$</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delete</span><span class="params">(<span class="keyword">int</span> i, List PtrL)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> j;</div><div class="line">	</div><div class="line">	<span class="comment">// 检查空表及删除位置的合法性</span></div><div class="line">	<span class="keyword">if</span>(i &lt; <span class="number">1</span> || i &gt; PtrL -&gt; Last + <span class="number">1</span>)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"不存在第 %d 个元素"</span>, i);</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="comment">// 将 ai ~ an 向后移动（顺序是从 an 到 ai）</span></div><div class="line">	<span class="keyword">for</span> (j = i; j &lt;= PtrL -&gt; Last; j++ )</div><div class="line">		PtrL -&gt; Data[j - <span class="number">1</span>] = PtrL -&gt; Data[j];</div><div class="line">		</div><div class="line">	<span class="comment">// Last 仍指向最后元素</span></div><div class="line">	PtrL -&gt; Last--;</div><div class="line">	<span class="keyword">return</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h4 id="视频-4"><a href="#视频-4" class="headerlink" title="视频 4"></a>视频 4</h4><p><strong>笔记：</strong></p>
<p>二.￼线性表的链式存储实现</p>
<p><strong>￼不要求逻辑上相邻的两个元素物理上也相邻</strong>；通过”链”建立起数据元素之间的逻辑关系。插入、删除<strong>不需要</strong>移动数据元素，只需要修改”链”</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> LNode * List; </div><div class="line"><span class="keyword">struct</span> LNode &#123;</div><div class="line">	<span class="comment">// 数据域</span></div><div class="line">	ElementType Data;</div><div class="line">	<span class="comment">// 指针域</span></div><div class="line">	List Next;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">struct</span> Lnode L;</div><div class="line">List PtrL;</div></pre></td></tr></table></figure>
<p>主要操作的实现：</p>
<p>1.求表长</p>
<p>￼时间性能为 $O(n)$</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Length</span> <span class="params">(List PtrL)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="comment">// p 指向表的第一个结点</span></div><div class="line">	List p = PtrL;</div><div class="line">	<span class="keyword">int</span> j = <span class="number">0</span>;</div><div class="line">	</div><div class="line">	<span class="comment">// p == null 时跳出循环</span></div><div class="line">	<span class="keyword">while</span> (p) &#123;</div><div class="line">		<span class="comment">// 当前 p 指向的是第 j 个结点</span></div><div class="line">		p = p -&gt; Next;</div><div class="line">		j++;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> j;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>￼￼2.查找</p>
<p>平均时间复杂度 $O(n)$</p>
<p>(1)按序号查找: <code>FindKth</code>;</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function">List <span class="title">FindKth</span><span class="params">(<span class="keyword">int</span> K, List PtrL)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="comment">// 临时指针：p</span></div><div class="line">	List p = PtrL;</div><div class="line">	<span class="keyword">int</span> i = <span class="number">1</span>;</div><div class="line">	<span class="keyword">while</span> (p != <span class="literal">NULL</span> &amp;&amp; i &lt; K) &#123;</div><div class="line">		p = p -&gt; Next;</div><div class="line">		i++;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="comment">// 找到第 K 个，返回指针</span></div><div class="line">	<span class="keyword">if</span> (i == K) <span class="keyword">return</span> p;</div><div class="line">	<span class="comment">// 否则返回空</span></div><div class="line">	<span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">NULL</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>(2)按值查找: <code>Find</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function">List <span class="title">Find</span><span class="params">(ElementType X, List PtrL)</span></span></div><div class="line">&#123;</div><div class="line">	List p = PtrL;</div><div class="line">	<span class="keyword">while</span>(p != <span class="literal">NULL</span> &amp;&amp; p -&gt; Data != X)</div><div class="line">		p = p -&gt; next;</div><div class="line">	<span class="keyword">return</span> p;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h4 id="视频-5"><a href="#视频-5" class="headerlink" title="视频 5"></a>视频 5</h4><p><strong>笔记：</strong></p>
<p>￼3.插入（在第 $i-1(1{\le}i{\le}n+1)$ 个结点后插入一个值为 X 的新结点）</p>
<p>(1)先构造一个新结点，用 <code>s</code> 指向；<br>(2)再找到链表的第 <code>i - 1</code> 个结点，用 <code>p</code> 指向；<br>(3)然后修改指针，插入结点（<code>p</code> 之后插入新结点是 <code>s</code>）</p>
<p><img src="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_6.png" alt="插入结点"></p>
<p>两条语句步骤不可交换</p>
<p>平均时间性能为 $O(n)$</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="function">List <span class="title">Insert</span><span class="params">(ElementType X, <span class="keyword">int</span> i, List PtrL)</span></span></div><div class="line">&#123;</div><div class="line">	List p, s;</div><div class="line">	<span class="comment">// 新结点插入在表头</span></div><div class="line">	<span class="keyword">if</span> (i == <span class="number">1</span>) &#123;</div><div class="line">	<span class="comment">// 申请、填装结点</span></div><div class="line">	s = (List)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> LNode)); </div><div class="line">	s -&gt; Data = X;</div><div class="line">	s -&gt; Next = PtrL;</div><div class="line">	<span class="keyword">return</span> s;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 查找第 i - 1 个结点</span></div><div class="line">p = FindKth(i - <span class="number">1</span>, PtrL);</div><div class="line"></div><div class="line"><span class="keyword">if</span> (p == <span class="literal">NULL</span>) &#123;</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"参数 i 错"</span>);</div><div class="line">	<span class="keyword">return</span> <span class="literal">NULL</span>;</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">	<span class="comment">// 申请、填装结点</span></div><div class="line">	s = (List)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> LNode));</div><div class="line">	s -&gt; Data = X;</div><div class="line">	</div><div class="line">	<span class="comment">// 新结点插入在第 i - 1 个结点的后面</span></div><div class="line">	s -&gt; Next = p -&gt; Next;</div><div class="line">	p -&gt; Next = s;</div><div class="line">	<span class="keyword">return</span> PtrL;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>4.删除（删除链表的第 $i(1{\le}i{\le}n)$ 个位置上的结点）</p>
<p><img src="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_7.png" alt="删除结点"></p>
<p>(1)先找到链表的第 <code>i - 1</code> 个结点，用 <code>p</code> 指向<br>(2)再用指针 <code>s</code> 指向要被删除的结点（<code>p</code> 的下一个结点）<br>(3)然后修改指针，删除 <code>s</code> 所指结点<br>(4)最后释放 <code>s</code> 所指结点的空间</p>
<p>平均时间性能为 $O(n)$</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="function">List <span class="title">Delete</span><span class="params">(<span class="keyword">int</span> i, List PtrL)</span></span></div><div class="line">&#123;</div><div class="line">	List p, s;</div><div class="line">	</div><div class="line">	<span class="comment">// 若要删除的是表的第一个结点</span></div><div class="line">	<span class="keyword">if</span> (i == <span class="number">1</span>) &#123; </div><div class="line">		<span class="comment">// s 指向第 1 个结点</span></div><div class="line">		s = PtrL; </div><div class="line">	</div><div class="line">		<span class="comment">// 从链表中删除</span></div><div class="line">		<span class="keyword">if</span> (PtrL != <span class="literal">NULL</span>) PtrL = PtrL -&gt; Next;</div><div class="line">		<span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">NULL</span>;</div><div class="line">		<span class="built_in">free</span>(s);</div><div class="line">		<span class="keyword">return</span> PtrL;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// 查找第 i - 1 个结点</span></div><div class="line">	p = FindKth(i - <span class="number">1</span>, PtrL);</div><div class="line">	</div><div class="line">	<span class="keyword">if</span> ( p == <span class="literal">NULL</span> ) &#123;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"第 %d 个结点不存在"</span>, i - <span class="number">1</span>);</div><div class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (p -&gt; Next == <span class="literal">NULL</span>) &#123;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"第 %d 个结点不存在"</span>, i);</div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		<span class="comment">// s 指向第 i 个结点</span></div><div class="line">		s = p -&gt; Next;</div><div class="line">		p -&gt; Next = s -&gt; Next; </div><div class="line">		<span class="comment">// 释放被删除结点</span></div><div class="line">		<span class="built_in">free</span>(s);</div><div class="line">		<span class="keyword">return</span> PtrL;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>书摘：</strong></p>
<p>有时候为了程序风格的一致性，避免将表头插入作为一种特殊情况处理，可以为链表增加一个空的”头结点”，真正的元素在这个空结点之后。这样做的好处是：无论在哪里插入或者删除，<code>Ptrl</code> 的值一直指向固定的空结点，不会改变。</p>
<p><strong>eg:</strong></p>
<p>含有空结点为头结点链表的插入＋删除：</p>
<hr>
<h4 id="线性表举例"><a href="#线性表举例" class="headerlink" title="线性表举例"></a>线性表举例</h4><p>顺序表：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> ERROR -1</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> ElementType int</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 50</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> LNode * List;</div><div class="line"></div><div class="line"><span class="keyword">struct</span> LNode &#123;</div><div class="line">    ElementType Data[MAXSIZE];</div><div class="line">    <span class="keyword">int</span> Last;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// 初始化 </span></div><div class="line"><span class="function">List <span class="title">MakeEmpty</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    List L;</div><div class="line">    </div><div class="line">    L = (List)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> LNode));</div><div class="line">    L -&gt; Last = <span class="number">-1</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> L;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 查找 </span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Find</span><span class="params">(List L, ElementType X)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">while</span>(i &lt;= L -&gt; Last &amp;&amp; L -&gt; Data[i] != X )</div><div class="line">        i++;</div><div class="line">    <span class="comment">// 如果没找到，返回错误信息 </span></div><div class="line">    <span class="keyword">if</span> ( i &gt; L -&gt; Last )  <span class="keyword">return</span> ERROR;</div><div class="line">    <span class="comment">// 找到后返回的是存储位置 </span></div><div class="line">    <span class="keyword">else</span>  <span class="keyword">return</span> i;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 插入 </span></div><div class="line"><span class="comment">//注意：在插入位置参数 P 上与课程视频有所不同，课程视频中 i 是序列位序（从 1 开始），这里 P 是存储下标位置（从 0 开始），两者差 1 </span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Insert</span><span class="params">(List L, ElementType X, <span class="keyword">int</span> P)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">// 在L的指定位置P前插入一个新元素X </span></div><div class="line">    <span class="keyword">int</span> i;</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> (L -&gt; Last == MAXSIZE - <span class="number">1</span>) &#123;</div><div class="line">        <span class="comment">// 表空间已满，不能插入 </span></div><div class="line">        <span class="built_in">printf</span>(<span class="string">"表满"</span>);</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (P &lt; <span class="number">0</span> || P &gt; L -&gt; Last + <span class="number">1</span>) &#123;</div><div class="line">        <span class="comment">// 检查插入位置的合法性 </span></div><div class="line">        <span class="built_in">printf</span>(<span class="string">"位置不合法"</span>);</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span>(i = L -&gt; Last; i &gt;= P; i--)</div><div class="line">        L -&gt; Data[i + <span class="number">1</span>] = L -&gt; Data[i];</div><div class="line">    <span class="comment">// 将位置P及以后的元素顺序向后移动 </span></div><div class="line">    L -&gt; Data[P] = X;</div><div class="line">    <span class="comment">// 新元素插入 </span></div><div class="line">    L -&gt; Last++;</div><div class="line">    <span class="comment">// Last仍指向最后元素 </span></div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 删除 </span></div><div class="line"><span class="comment">//注意：在删除位置参数 P 上与课程视频有所不同，课程视频中 i 是序列位序（从 1 开始），这里 P 是存储下标位置（从 0 开始），两者差 1 </span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Delete</span><span class="params">(List L, <span class="keyword">int</span> P)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">// 从L中删除指定位置P的元素 </span></div><div class="line">    <span class="keyword">int</span> i;</div><div class="line">    </div><div class="line">    <span class="keyword">if</span>( P &lt; <span class="number">0</span> || P &gt; L -&gt; Last ) &#123;</div><div class="line">        <span class="comment">// 检查空表及删除位置的合法性 </span></div><div class="line">        <span class="built_in">printf</span>(<span class="string">"位置%d不存在元素"</span>, P);</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span>(i = P + <span class="number">1</span>; i &lt;= L -&gt; Last; i++)</div><div class="line">        L -&gt; Data[i - <span class="number">1</span>] = L -&gt; Data[i];</div><div class="line">    <span class="comment">// 将位置 P + 1 及以后的元素顺序向前移动 </span></div><div class="line">    L -&gt; Last--;</div><div class="line">    <span class="comment">// Last仍指向最后元素 </span></div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    List test = MakeEmpty();</div><div class="line">    test -&gt; Last = <span class="number">5</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">6</span>; i++) &#123;</div><div class="line">        test -&gt; Data[i] = i;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, Find(test, <span class="number">3</span>));</div><div class="line">    Delete(test, <span class="number">2</span>);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>, test -&gt; Data[i]);</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">    Insert(test, <span class="number">2</span>, <span class="number">2</span>);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>, test -&gt; Data[i]);</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>链式表</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> LNode * PtrToLNode;</div><div class="line"></div><div class="line"><span class="keyword">struct</span> LNode &#123;</div><div class="line">    <span class="keyword">int</span> Data;</div><div class="line">    <span class="keyword">struct</span> LNode * Next;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// 查找 </span></div><div class="line"><span class="function">PtrToLNode <span class="title">Find</span><span class="params">(PtrToLNode L, <span class="keyword">int</span> X)</span></span></div><div class="line">&#123;</div><div class="line">    PtrToLNode p = L;</div><div class="line">    <span class="comment">// p 指向 L 的第 1 个结点 </span></div><div class="line">    </div><div class="line">    <span class="keyword">while</span> (p &amp;&amp; p -&gt; Data != X)</div><div class="line">        p = p -&gt; Next;</div><div class="line">    </div><div class="line">    <span class="comment">// 下列语句可以用 return p; 替换 </span></div><div class="line">    <span class="keyword">if</span> (p)</div><div class="line">        <span class="keyword">return</span> p;</div><div class="line">    <span class="keyword">else</span></div><div class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 带头结点的插入 </span></div><div class="line"><span class="comment">// 注意：在插入位置参数 P 上与课程视频有所不同，课程视频中 i 是序列位序（从 1 开始），这里 P 是链表结点指针，在 P 之前插入新结点 </span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Insert</span><span class="params">(PtrToLNode L, <span class="keyword">int</span> X, PtrToLNode P)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">// 这里默认 L 有头结点 </span></div><div class="line">    PtrToLNode tmp, pre;</div><div class="line">    </div><div class="line">    <span class="comment">// 查找 P 的前一个结点 </span></div><div class="line">    <span class="keyword">for</span> (pre = L; pre &amp;&amp; pre -&gt; Next != P; pre = pre -&gt; Next);</div><div class="line">    <span class="keyword">if</span> (pre == <span class="literal">NULL</span>) &#123;</div><div class="line">        <span class="comment">// P 所指的结点不在 L 中 </span></div><div class="line">        <span class="built_in">printf</span>(<span class="string">"插入位置参数错误\n"</span>);</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> &#123;</div><div class="line">        <span class="comment">// 找到了 P 的前一个结点 pre </span></div><div class="line">        <span class="comment">// 在 P 前插入新结点 </span></div><div class="line">        tmp = (PtrToLNode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> LNode));</div><div class="line">        <span class="comment">// 申请、填装结点 </span></div><div class="line">        tmp -&gt; Data = X;</div><div class="line">        tmp -&gt; Next = P;</div><div class="line">        pre -&gt; Next = tmp;</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 带头结点的删除 </span></div><div class="line"><span class="comment">//注意：在删除位置参数 P 上与课程视频有所不同，课程视频中 i 是序列位序（从 1 开始），这里 P 是拟删除结点指针 </span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Delete</span><span class="params">(PtrToLNode L, PtrToLNode P)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">// 这里默认 L 有头结点 </span></div><div class="line">    PtrToLNode pre;</div><div class="line">    </div><div class="line">    <span class="comment">// 查找 P 的前一个结点 </span></div><div class="line">    <span class="keyword">for</span> (pre = L; pre &amp;&amp; pre -&gt; Next != P; pre = pre -&gt; Next);</div><div class="line">    <span class="keyword">if</span> (pre == <span class="literal">NULL</span> || P == <span class="literal">NULL</span>) &#123;</div><div class="line">        <span class="comment">// P 所指的结点不在 L 中 </span></div><div class="line">        <span class="built_in">printf</span>(<span class="string">"删除位置参数错误\n"</span>);</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> &#123;</div><div class="line">        <span class="comment">// 找到了 P 的前一个结点 pre </span></div><div class="line">        <span class="comment">// 将 P 位置的结点删除 </span></div><div class="line">        pre -&gt; Next = P -&gt; Next;</div><div class="line">        <span class="built_in">free</span>(P);</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    PtrToLNode head, s, s1, s2;</div><div class="line">    head = s = (PtrToLNode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> LNode));</div><div class="line">    s -&gt; Next = <span class="literal">NULL</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</div><div class="line">        s -&gt; Data = i;</div><div class="line">        s1 = (PtrToLNode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> LNode));</div><div class="line">        s -&gt; Next = s1;</div><div class="line">        s = s1;</div><div class="line">    &#125;</div><div class="line">    s -&gt; Data = <span class="number">5</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">int</span> i = Find(head, <span class="number">3</span>) -&gt; Data;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, i);</div><div class="line">    </div><div class="line">    s = head;</div><div class="line">    <span class="keyword">while</span> (s) &#123;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>, s -&gt; Data);</div><div class="line">        s = s -&gt; Next;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">    </div><div class="line">    s2 = head;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">5</span>; i++) &#123;</div><div class="line">        s2 = s2 -&gt; Next;</div><div class="line">    &#125;</div><div class="line">    Insert(head, <span class="number">9</span>, s2);</div><div class="line">    s = head;</div><div class="line">    <span class="keyword">while</span> (s) &#123;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>, s -&gt; Data);</div><div class="line">        s = s -&gt; Next;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">    </div><div class="line">    s2 = head;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">4</span>; i++) &#123;</div><div class="line">        s2 = s2 -&gt; Next;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    Delete(head, s2);</div><div class="line">    s = head;</div><div class="line">    <span class="keyword">while</span> (s) &#123;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>, s -&gt; Data);</div><div class="line">        s = s -&gt; Next;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h4 id="视频-6"><a href="#视频-6" class="headerlink" title="视频 6"></a>视频 6</h4><p><strong>笔记：</strong></p>
<p>广义表</p>
<ul>
<li>广义表是线性表的推广</li>
<li>对于线性表而言，n 个元素都是基本的单元素</li>
<li>广义表中，这些元素不仅可以是单元素也可以是另一个广义表</li>
</ul>
<p><img src="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_8.png" alt="广义表结点"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> GNode * GList;</div><div class="line"><span class="keyword">struct</span> GNode &#123;</div><div class="line">	<span class="comment">// 标志域：0 表示结点是单元素，1 表示结点是广义表</span></div><div class="line">	<span class="keyword">int</span> Tag;</div><div class="line">	<span class="keyword">union</span> &#123;</div><div class="line">	<span class="comment">// 子表指针域 Sublist 与单元素数据域 Data 复用，即共用存储空间</span></div><div class="line">	ElementType Data;</div><div class="line">	GList SubList;</div><div class="line">	&#125; URegion;</div><div class="line">	</div><div class="line">	<span class="comment">// 指向后继结点</span></div><div class="line">	GList Next;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>多重链表<br>链表中的节点可能同时隶属于多个链</p>
<ul>
<li>多重链表中结点的指针域会有多个，如前面例子包含了 Next 和 SubList 两个指针域</li>
<li>但包含两个指针域的链表并不一定是多重链表，比如在双向链表（其每个结点都包含了向前和向后的两个指针域，但是每个结点都属于同一个链表）不是多重链表</li>
</ul>
<p>多重链表有广泛的用途：<br>基本上如树、图这样相对复杂的数据结构都可以采用多重链表方式实现存储</p>
<p>矩阵可以用二维数组表示，但二维数组表示有两个缺陷</p>
<ul>
<li>一是数组的大小需要事先确定</li>
<li>对于”稀疏矩阵”将造成大量的存储空间浪费</li>
</ul>
<p><strong>eg:</strong></p>
<p><img src="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_9.png" alt="稀疏矩阵"></p>
<p>采用一种典型的多重链表——十字链表来存储稀疏矩阵</p>
<ul>
<li>只存储矩阵非 0 元素项</li>
</ul>
<p>结点的数据域：行坐标 Row、列坐标 Col、数值 Value</p>
<ul>
<li>每个结点通过两个指针域，把同行、同列串起来<ul>
<li>行指针（或称为向右指针） <code>Right</code></li>
<li>列指针（或称为向下指针） <code>Down</code></li>
</ul>
</li>
</ul>
<p><img src="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_10.png" alt="矩阵 A 的多重链表图"></p>
<p>用一个标识域 Tag 来区分头结点和非 0 元素结点<br>头节点的标识值为 “Head”，矩阵非 0 元素结点的标识值为 “Term”</p>
<p><img src="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_11.png" alt="节点结构图"></p>
<p><strong>书摘：</strong></p>
<p>稀疏矩阵的数据结构可定义为：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 矩阵最大非零元素个数</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 50</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123;Head, Term&#125; NodeTage;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> MatrixNode * PtrMatrix;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> TermNode &#123;</div><div class="line">    <span class="keyword">int</span> row;</div><div class="line">    <span class="keyword">int</span> col;</div><div class="line">    ElementType value;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> MartrixNode &#123;</div><div class="line">    PtrMatrix down;</div><div class="line">    PtrMatrix right;</div><div class="line">    NodeTag tag;</div><div class="line">    <span class="keyword">union</span> &#123;</div><div class="line">        PtrMatrix next;</div><div class="line">        TermNode term;</div><div class="line">    &#125; URegion;</div><div class="line">&#125;;</div><div class="line">PtrMatrix HeadNode[MAXSIZE];</div></pre></td></tr></table></figure>
<p>当它是头结点，结点标识域 Tag 赋值为 Head，相应的共用体 URegion 为结点指针 Next<br>否则是一个非零元素结点，结点标识域 Tag 赋值为 Term，相应的共用体 URegion 取元素项 Term</p>
<hr>
<h3 id="堆栈"><a href="#堆栈" class="headerlink" title="堆栈"></a>堆栈</h3><h4 id="视频-1-1"><a href="#视频-1-1" class="headerlink" title="视频 1"></a>视频 1</h4><p><strong>笔记：</strong></p>
<p>算术表达式由两类对象构成的:</p>
<ol>
<li>运算数 如 2、3、4</li>
<li>运算符号 如 +、-、*、/</li>
</ol>
<p>不同运算符号优先级不一样<br>￼后缀表达式：运算符号位于两个运算数之后，如 <code>abc*+de/-</code><br>中缀表达式：运算符号位于两个运算数之间。如 <code>a+b*c-d/e</code><br>后缀表达式求值策略：从左向右”扫描”，逐个处理运算数和运算符号<br>￼<br>堆栈(Stack)：具有一定操作约束的线性表<br>只在一端（栈顶，Top）做插入、删除</p>
<p>插入数据：入栈(Push)<br>删除数据：出栈(Pop)<br>后入先出：Last In First Out(LIFO)</p>
<p>￼堆栈的抽象数据类型描述<br>类型名称：堆栈(Stack)<br>数据对象集：一个有 0 个或多个元素的有穷线性表<br>操作集：长度为 MaxSize 的堆栈 S $\in$ Stack，堆栈元素 item $\in$ ElementType</p>
<ol>
<li><code>Stack CreateStack(int MaxSize)</code>: 生成空堆栈，其最大长度为 MaxSize</li>
<li><code>int IsFull(Stack S, int MaxSize)</code>: 判断堆栈 S 是否已满</li>
<li><code>void Push(Stack S, ElementType item)</code>: 将元素 item 压入堆栈</li>
<li><code>int IsEmpty (Stack S)</code>: 判断堆栈 S 是否为空</li>
<li><code>ElementType Pop(Stack S)</code>: 删除并返回栈顶元素</li>
</ol>
<p>￼Push 和 Pop 可以穿插<strong>交替</strong>进行</p>
<p><strong>书摘：</strong></p>
<p>后缀表达式运算数出现的顺序与相应表达式一样，但运算符号出现的位置是不同的</p>
<hr>
<h4 id="视频-2-1"><a href="#视频-2-1" class="headerlink" title="视频 2"></a>视频 2</h4><p><strong><em>￼栈的顺序存储实现</em></strong></p>
<p><strong>笔记：</strong></p>
<p>栈的顺序存储结构通常由一个<strong>一维数组</strong>和一个记录<strong>栈顶</strong>元素位置的变量组成</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MaxSize <span class="meta-string">&lt;储存数据元素的最大个数&gt;</span></span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> SNode * Stack;</div><div class="line"><span class="keyword">struct</span> SNode &#123;</div><div class="line">	￼ElementType Data[MaxSize];</div><div class="line">	<span class="keyword">int</span> Top;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// (1)入栈 Push</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Push</span><span class="params">(Stack PtrS, ElementType item)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (PtrS -&gt; Top == MaxSize - <span class="number">1</span>) &#123;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"堆栈满"</span>);</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span> &#123;</div><div class="line">		PtrS -&gt; Data[++(PtrS -&gt; Top)] = item;</div><div class="line">		<span class="comment">// 等效：</span></div><div class="line">		<span class="comment">// PtrS -&gt; Top++;</span></div><div class="line">		<span class="comment">// PtrS -&gt; Data[PtrS -&gt; Top] = item;</span></div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// (2)出栈 Pop</span></div><div class="line"></div><div class="line"><span class="function">ElementType <span class="title">Pop</span><span class="params">(Stack PtrS)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (PtrS -&gt; Top == <span class="number">-1</span>) &#123;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"堆栈满"</span>);</div><div class="line">		<span class="comment">// ERROR 是 ElementType 的特殊值，标志错误</span></div><div class="line">		<span class="keyword">return</span> ERROR;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span></div><div class="line">		<span class="keyword">return</span> (PtrS -&gt; Data[(PtrS -&gt; Top)--]);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>eg:</strong></p>
<blockquote>
<p>请用一个数组实现两个堆栈,要求最大地利用数组空间，使数组只要有空间入栈操作就可以成功</p>
</blockquote>
<p>一种比较聪明的方法是使这两个栈分别从数组的两头开始<strong>向中间生长</strong>，当两个栈的栈顶指针相遇时，表示两个栈都满了。此时最大化地利用了数组空间</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 定义与初始化：</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MaxSize <span class="meta-string">&lt;存储数据元素的最大个数&gt;</span></span></div><div class="line"><span class="keyword">struct</span> DStack &#123;</div><div class="line">	ElementType Data[MaxSize];</div><div class="line">	<span class="keyword">int</span> Top1;</div><div class="line">	<span class="comment">// 堆栈 1 的栈顶指针  </span></div><div class="line">	<span class="keyword">int</span> Top2;</div><div class="line">	<span class="comment">// 堆栈 2 的栈顶指针 </span></div><div class="line">&#125; S;</div><div class="line"><span class="comment">// 初始化：</span></div><div class="line">S.Top1 = <span class="number">-1</span>;</div><div class="line">S.Top2 = MaxSize;</div><div class="line"></div><div class="line"><span class="comment">// Push &amp; Pop 操作：</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Push</span><span class="params">(<span class="keyword">struct</span> DStack * PtrS, ElementType item, <span class="keyword">int</span> Tag)</span> </span>&#123;</div><div class="line"><span class="comment">// Tag 作为区分两个堆栈的标志，取值为 1 和 2 </span></div><div class="line"></div><div class="line"><span class="keyword">if</span> (PtrS -&gt; Top2 – PtrS -&gt; Top1 == <span class="number">1</span>) &#123;</div><div class="line">	<span class="comment">// 堆栈满，下标差 1 ：不可用下标之和判断 </span></div><div class="line">	<span class="built_in">printf</span>(<span class="string">"堆栈满"</span>);</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span> (Tag == <span class="number">1</span>)</div><div class="line">	<span class="comment">// 对第一个堆栈操作 </span></div><div class="line">	PtrS -&gt; Data[++<span class="comment">//(PtrS -&gt; Top1)] = item;</span></div><div class="line"><span class="keyword">else</span></div><div class="line">	<span class="comment">// 对第二个堆栈操作 </span></div><div class="line">	PtrS -&gt; Data[--(PtrS -&gt; Top2)] = item;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">ElementType <span class="title">Pop</span><span class="params">(<span class="keyword">struct</span> DStack * PtrS, <span class="keyword">int</span> Tag)</span> </span>&#123;</div><div class="line"><span class="comment">// Tag 作为区分两个堆栈的标志，取值为 1 和 2 </span></div><div class="line"></div><div class="line">	<span class="keyword">if</span>(Tag == <span class="number">1</span>)&#123;</div><div class="line">	<span class="comment">// 对第一个堆栈操作 </span></div><div class="line">	<span class="keyword">if</span> (PtrS -&gt; Top1 == <span class="number">-1</span>) &#123;</div><div class="line">		<span class="comment">// 堆栈 1 空 </span></div><div class="line">		<span class="built_in">printf</span>(<span class="string">"堆栈 1 空"</span>);</div><div class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span></div><div class="line">		<span class="keyword">return</span> PtrS -&gt; Data[(PtrS -&gt; Top1)--];</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span> &#123;</div><div class="line">	<span class="comment">// 对第二个堆栈操作 </span></div><div class="line">	<span class="keyword">if</span> (PtrS -&gt; Top2 == MaxSize) &#123;</div><div class="line">		<span class="comment">// 堆栈 2 空 </span></div><div class="line">		<span class="built_in">printf</span>(<span class="string">"堆栈 2 空"</span>); </div><div class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span></div><div class="line">		<span class="keyword">return</span> PtrS -&gt; Data[(PtrS -&gt; Top2)++];</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>书摘：</strong></p>
<p>顺序存储的栈称为顺序栈，链式存储的栈称为链栈</p>
<p><strong><em>￼堆栈的链式存储实现</em></strong></p>
<p><strong>笔记：</strong></p>
<p>插入和删除操作只能在链栈的栈顶进行<br>链表不需要判断是否为满</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> SNode * Stack;</div><div class="line"><span class="keyword">struct</span> SNode &#123;</div><div class="line">	ElementType Data;</div><div class="line">	<span class="keyword">struct</span> SNode * Next;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>(1)堆栈初始化(建立空栈)<br>(2)判断堆栈 S 是否为空</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="function">Stack <span class="title">CreateStack</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	<span class="comment">// 构建一个堆栈的头结点，返回指针 </span></div><div class="line">	Stack S;</div><div class="line">	S = (Stack)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> SNode));</div><div class="line">	S -&gt; Next = <span class="literal">NULL</span>;</div><div class="line">	<span class="keyword">return</span> S;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">IsEmpty</span><span class="params">(Stack S)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="comment">// 判断堆栈 S 是否为空，若为空函数返回整数 1，否则返回 0 </span></div><div class="line">	<span class="keyword">return</span> (S -&gt; Next == <span class="literal">NULL</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// (1)Push</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Push</span><span class="params">(ElementType item, Stack S)</span> </span>&#123;</div><div class="line">	<span class="comment">// 将元素 item 压入堆栈 S </span></div><div class="line">	<span class="keyword">struct</span> SNode * TmpCell;</div><div class="line">	TmpCell = (<span class="keyword">struct</span> SNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> SNode)); 	TmpCell -&gt; Element = item;</div><div class="line">	TmpCell	-&gt; Next = S -&gt; Next;</div><div class="line">	S -&gt; Next = TmpCell;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// (2)Pop</span></div><div class="line"></div><div class="line"><span class="function">ElementType <span class="title">Pop</span><span class="params">(Stack S)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="comment">// 删除并返回堆栈S的栈顶元素 </span></div><div class="line">	<span class="keyword">struct</span> SNode * FirstCell;</div><div class="line">	ElementType TopElem;</div><div class="line"> 	<span class="keyword">if</span>(IsEmpty(S) ) &#123;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"堆栈空"</span>);</div><div class="line">		<span class="keyword">return</span> <span class="literal">NULL</span>;</div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		<span class="comment">// 先保存，再释放</span></div><div class="line">		FirstCell = S -&gt; Next;</div><div class="line">		S -&gt; Next = FirstCell -&gt; Next;</div><div class="line">		TopElem = FirstCell -&gt; Element;</div><div class="line">		<span class="built_in">free</span>(FirstCell);</div><div class="line">		<span class="keyword">return</span> TopElem;</div><div class="line">	&#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h4 id="视频-3-1"><a href="#视频-3-1" class="headerlink" title="视频 3"></a>视频 3</h4><p><strong>笔记：</strong></p>
<p>￼中缀表达式求值基本策略：将中缀表达式转换为后缀表达式，然后求值</p>
<p><img src="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_12.png" alt="￼中缀表达式"></p>
<p>￼中缀表达式如何转换为后缀表达式<br>从头到尾读取中缀表达式的每个对象，对不同对象按不同的情况处理<br>1 运算数：直接输出<br>2 左括号：压入堆栈<br>3 右括号：将<strong>栈顶的运算符弹出</strong>并输出，直到<strong>遇到左括号</strong>（出栈，不输出）<br>4 运算符<br>若优先级<strong>大</strong>于栈顶运算符时，则把它<strong>压</strong>栈<br>若优先级<strong>小</strong>于等于栈顶运算符时，将栈顶运算符<strong>弹出并输出</strong>；再比较新的栈顶运算符，直到该运算符大于栈顶运算符优先级为止，然后将该运算符压栈<br>5 若各对象处理完毕，则把堆栈中存留的运算符<strong>一并</strong>输出</p>
<p>￼堆栈的其他应用：</p>
<ul>
<li>函数调用及递归实现</li>
<li>深度优先搜索</li>
<li>回溯算法</li>
</ul>
<hr>
<h4 id="堆栈举例"><a href="#堆栈举例" class="headerlink" title="堆栈举例"></a>堆栈举例</h4><p>表达式求值（数组）：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctype.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXOP 100</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> Maxsize 100</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> Node &#123;</div><div class="line">    <span class="keyword">double</span> Data[Maxsize];</div><div class="line">    <span class="keyword">int</span> Top;</div><div class="line">&#125; Stack;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Push</span><span class="params">(Stack * PtrS, <span class="keyword">double</span> item)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> (PtrS -&gt; Top == Maxsize - <span class="number">1</span>)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"TOP"</span>);</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span></div><div class="line">    &#123;</div><div class="line">			PtrS -&gt; Data[++(PtrS -&gt; Top)] = item;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">Pop</span><span class="params">(Stack * PtrS)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> (PtrS -&gt; Top == <span class="number">-1</span>)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0.0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> (PtrS -&gt; Data[(PtrS -&gt; Top)--]);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">GetOp</span><span class="params">(<span class="keyword">char</span> s[])</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> i, c;</div><div class="line">    <span class="keyword">while</span> ((s[<span class="number">0</span>] = c = getchar()) == <span class="string">' '</span> || c == <span class="string">'\t'</span>);</div><div class="line">    s[<span class="number">1</span>] = <span class="string">'\0'</span>;</div><div class="line">    <span class="keyword">if</span> (!<span class="built_in">isdigit</span>(c) &amp;&amp; c != <span class="string">'.'</span>)</div><div class="line">        <span class="keyword">return</span> c;</div><div class="line">    i = <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">isdigit</span>(c))</div><div class="line">        <span class="keyword">while</span> (<span class="built_in">isdigit</span>(s[++i] = c = getchar()));</div><div class="line">    <span class="keyword">if</span> (c == <span class="string">'.'</span>)</div><div class="line">        <span class="keyword">while</span> (<span class="built_in">isdigit</span>(s[++i] = getchar()));</div><div class="line">    s[i] = <span class="string">'\0'</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> Type;</div><div class="line">    <span class="keyword">double</span> Op2;</div><div class="line">    <span class="keyword">char</span> s[MAXOP];</div><div class="line">    Stack * PtrS;</div><div class="line">    PtrS = (Stack *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Stack));</div><div class="line">    PtrS -&gt; Top = <span class="number">-1</span>;</div><div class="line"></div><div class="line">    <span class="keyword">while</span> ((Type = GetOp(s)) != EOF)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">switch</span> (Type)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">case</span> <span class="number">0</span>: Push(PtrS, atof(s)); <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">'+'</span>: Push(PtrS, Pop(PtrS) + Pop(PtrS)); <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">'*'</span>: Push(PtrS, Pop(PtrS) * Pop(PtrS));; <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">'-'</span>:</div><div class="line">                Op2 = Pop(PtrS);</div><div class="line">                Push(PtrS, Pop(PtrS) - Op2);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">'/'</span>: ;</div><div class="line">                Op2 = Pop(PtrS);</div><div class="line">                <span class="keyword">if</span> (Op2 != <span class="number">0.0</span>)</div><div class="line">                    Push(PtrS, Pop(PtrS) / Op2);</div><div class="line">                <span class="keyword">else</span></div><div class="line">                    <span class="built_in">printf</span>(<span class="string">"error"</span>);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> <span class="string">'\n'</span>: <span class="built_in">printf</span>(<span class="string">"%.8g\n"</span>, Pop(PtrS)); <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">default</span>:</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"error"</span>);</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">free</span>(PtrS);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h3><h4 id="视频-1-2"><a href="#视频-1-2" class="headerlink" title="视频 1"></a>视频 1</h4><p><strong>笔记：</strong></p>
<p>队列(Queue)：具有一定操作约束的线性表<br>插入和删除操作：只能在一端插入，而在另一端删除</p>
<p>数据插入：入队列(AddQ)<br>数据删除：出队列(DeleteQ)<br>先来先服务，先进先出：FIFO</p>
<p>￼队列的抽象数据类型描述<br>类型名称：队列(Queue)<br>数据对象集：一个有 0 个或多个元素的有穷线性表<br>操作集：长度为 MaxSize 的队列 Q $\in$ Queue，队列元素item $\in$ ElementType</p>
<ol>
<li><code>Queue CreatQueue(int MaxSize)</code>: 生成长度为 MaxSize 的空队列</li>
<li><code>int IsFullQ(Queue Q, int MaxSize)</code>: 判断队列 Q 是否已满</li>
<li><code>void AddQ(Queue Q, ElementType item)</code>: 将数据元素 item 插入队列 Q 中</li>
<li><code>int IsEmptyQ(Queue Q)</code>: 判断队列 Q 是否为空</li>
<li><code>ElementType DeleteQ(Queue Q)</code>: 将队头数据元素从队列中删除并返回</li>
</ol>
<p>￼￼￼￼队列的顺序存储实现</p>
<p>队列的顺序存储结构通常由一个一维数组和一个记录队列头元素位置的变量 front 以及一个记录队列尾元素位置的变量 rear 组成</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MaxSize <span class="meta-string">&lt;储存数据元素的最大个数&gt;</span></span></div><div class="line"><span class="keyword">struct</span> QNode &#123;</div><div class="line">	ElementType Data[MaxSize];</div><div class="line">	<span class="comment">// rear &amp; front 指下标</span></div><div class="line">	<span class="keyword">int</span> rear;</div><div class="line">	<span class="keyword">int</span> front;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> QNode * Queue;</div></pre></td></tr></table></figure>
<p><code>Front</code> 和 <code>rear</code> 指针的移动采用”加 1 取余”法，体现了顺序存储的”循环使用”</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">AddQ</span><span class="params">(Queue PtrQ, ElementType item)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> ((PtrQ -&gt; rear + <span class="number">1</span>) % MaxSize == PtrQ -&gt; front) &#123;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"队列满"</span>);</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line">	PtrQ -&gt; rear = (PtrQ -&gt; rear+<span class="number">1</span>) % MaxSize;</div><div class="line">	PtrQ -&gt; Data[PtrQ -&gt; rear] = item;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">ElementType <span class="title">DeleteQ</span> <span class="params">(Queue PtrQ)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (PtrQ-&gt;front == PtrQ-&gt;rear) &#123;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"队列空"</span>);</div><div class="line">	<span class="keyword">return</span> ERROR;</div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		PtrQ -&gt; front = (PtrQ -&gt; front + <span class="number">1</span>) % MaxSize;</div><div class="line">		<span class="keyword">return</span> PtrQ -&gt; Data[PtrQ -&gt; front];</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h4 id="视频-2-2"><a href="#视频-2-2" class="headerlink" title="视频 2"></a>视频 2</h4><p><strong>笔记：</strong></p>
<p>￼队列的链式存储实现<br>队列的链式存储结构也可以用一个单链表实现<br>插入和删除操作分别在链表的两头进行</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">struct</span> Node&#123;</div><div class="line">	ElementType Data;</div><div class="line">	<span class="keyword">struct</span> Node * Next;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">struct</span> QNode&#123;</div><div class="line">	<span class="comment">// 链队列结构 </span></div><div class="line">	</div><div class="line">	<span class="keyword">struct</span> Node * rear;</div><div class="line">	<span class="comment">// 指向队尾结点 </span></div><div class="line">	<span class="keyword">struct</span> Node * front;</div><div class="line">	<span class="comment">// 指向队头结点 </span></div><div class="line">&#125;;</div><div class="line"></div><div class="line">￼<span class="keyword">typedef</span> <span class="keyword">struct</span> QNode * Queue;</div><div class="line">Queue PtrQ;</div></pre></td></tr></table></figure>
<p><img src="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_13.png" alt="队列的链式存储结构"></p>
<p><strong>eg:</strong></p>
<p>不带头结点的链式队列出队操作的一个示例：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function">ElementType <span class="title">DeleteQ</span> <span class="params">(Queue PtrQ)</span> </span>&#123;</div><div class="line">	<span class="keyword">struct</span> Node * FrontCell;</div><div class="line">	ElementType FrontElem;</div><div class="line">	<span class="keyword">if</span> (PtrQ -&gt; front == <span class="literal">NULL</span>)&#123;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"队列空"</span>);</div><div class="line">		<span class="keyword">return</span> ERROR;</div><div class="line">	&#125;</div><div class="line">	FrontCell = PtrQ -&gt; front;</div><div class="line">	<span class="keyword">if</span> (PtrQ -&gt; front == PtrQ -&gt; rear)</div><div class="line">	<span class="comment">// 若队列只有一个元素 </span></div><div class="line">	PtrQ -&gt; front = PtrQ -&gt; rear = <span class="literal">NULL</span>;</div><div class="line">	<span class="comment">// 删除后队列置为空 </span></div><div class="line">	<span class="keyword">else</span></div><div class="line">		PtrQ -&gt; front = PtrQ -&gt; front -&gt; Next;</div><div class="line">	FrontElem = FrontCell -&gt; Data;</div><div class="line">	<span class="built_in">free</span>(FrontCell);</div><div class="line">	<span class="comment">// 释放被删除结点空间 </span></div><div class="line">	<span class="keyword">return</span> FrontElem;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="应用举例：多项式加法运算"><a href="#应用举例：多项式加法运算" class="headerlink" title="应用举例：多项式加法运算"></a>应用举例：多项式加法运算</h3><p>采用不带头结点的单向链表，按照指数递减的顺序排列各项<br>￼<br><img src="http://7xkam0.com1.z0.glb.clouddn.com/blog/zju_ds_14.png" alt="多项式加法运算链表"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">struct</span> PolyNode &#123;</div><div class="line">	<span class="keyword">int</span> coef; <span class="comment">// 系数</span></div><div class="line">	<span class="keyword">int</span> expon; <span class="comment">// 指数</span></div><div class="line">	<span class="keyword">struct</span> PolyNode * link;</div><div class="line">	<span class="comment">// 指向下一个节点的指针</span></div><div class="line">￼￼￼￼￼￼&#125;;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> PolyNode * Polynomial; Polynomial P1, P2;</div></pre></td></tr></table></figure>
<p>算法思路：<br>两个指针 P1 和 P2 分别指向这两个多项式第一个结点，不断循环：<br><code>P1-&gt;expon==P2-&gt;expon</code>: 系数相加，若结果不为 0，则作为结果多项式对应项的系数。同时，P1 和 P2 都分别指向下一项<br><code>P1-&gt;expon&gt;P2-&gt;expon</code>: 将 P1 的当前项存入结果多项式，并使 P1 指向下一项<br><code>P1-&gt;expon&lt;P2-&gt;expon</code>: 将 P2 的当前项存入结果多项式，并使 P2 指向下一项<br>当某一多项式处理完时，将另一个多项式的所有结点依次复制到结果多项式中去</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line">￼<span class="function">Polynomial <span class="title">PolyAdd</span> <span class="params">(Polynomial P1, Polynomial P2)</span> </span>&#123;</div><div class="line">	Polynomial front, rear, temp;</div><div class="line">	<span class="keyword">int</span> sum;</div><div class="line">	<span class="comment">// 为方便表头插入，先产生一个临时空结点作为结果多项式链表头</span></div><div class="line">	rear = (Polynomial)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> PolyNode));</div><div class="line">	front = rear;</div><div class="line">	<span class="comment">// 由 front 记录结果多项式链表头结点 </span></div><div class="line">	<span class="keyword">while</span> (P1 &amp;&amp; P2)</div><div class="line">	<span class="comment">// 当两个多项式都有非零项待处理时 </span></div><div class="line">		<span class="keyword">switch</span> (Compare(P1 -&gt; expon, P2 -&gt; expon)) &#123;</div><div class="line">		<span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">		<span class="comment">// P1 中的数据项指数较大</span></div><div class="line">			Attach(P1 -&gt; coef, P1 -&gt; expon, &amp;rear);</div><div class="line">			P1 = P1 -&gt; link;</div><div class="line">			<span class="keyword">break</span>;</div><div class="line">		<span class="keyword">case</span> <span class="number">-1</span>:</div><div class="line">		<span class="comment">// P2 中的数据项指数较大</span></div><div class="line">			Attach(P2 -&gt; coef, P2 -&gt; expon, &amp;rear);</div><div class="line">			P2 = P2 -&gt; link;</div><div class="line">		<span class="keyword">break</span>;</div><div class="line">		<span class="keyword">case</span> <span class="number">0</span>:</div><div class="line">		<span class="comment">// 两数据项指数相等，注意判断系数和是否为 0</span></div><div class="line">			sum = P1 -&gt; coef + P2 -&gt; coef;</div><div class="line">			<span class="keyword">if</span> (sum)</div><div class="line">				Attach(sum, P1 -&gt; expon, &amp;rear);</div><div class="line">			P1 = P1 -&gt; link;</div><div class="line">			P2 = P2 -&gt; link;</div><div class="line">			<span class="keyword">break</span>;</div><div class="line">	&#125;</div><div class="line">￼￼￼￼	<span class="comment">// 将未处理完的另一个多项式的所有节点依次复制到结果多项式中去 </span></div><div class="line"><span class="keyword">for</span> (; P1; P1 = P1 -&gt; link)</div><div class="line">			Attach(P1 -&gt; coef, P1 -&gt; expon, &amp;rear);</div><div class="line">		<span class="keyword">for</span> (; P2; P2 = P2 -&gt; link)</div><div class="line">			Attach(P2 -&gt; coef, P2 -&gt; expon, &amp;rear);</div><div class="line">			rear -&gt; link = <span class="literal">NULL</span>;</div><div class="line">		temp = front;</div><div class="line">		front = front-&gt;link;</div><div class="line">		<span class="comment">// 令 front 指向结果多项式第一个非零项 </span></div><div class="line">		<span class="built_in">free</span>(temp);</div><div class="line">		<span class="comment">// 释放临时空表头结点 </span></div><div class="line">		<span class="keyword">return</span> front;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Attach</span><span class="params">(<span class="keyword">int</span> c, <span class="keyword">int</span> e, Polynomial * pRear)</span> </span>&#123;</div><div class="line">	<span class="comment">// 由于在本函数中需要改变当前结果表达式尾项指针的值</span></div><div class="line">	<span class="comment">// 所以函数传递进来的是结点指针的地址，* pRear指向尾项</span></div><div class="line">	Polynomial P;</div><div class="line">	P =(Polynomial)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> PolyNode));</div><div class="line">	<span class="comment">// 申请新结点</span></div><div class="line">	P -&gt; coef = c;</div><div class="line">	<span class="comment">// 对新结点赋值</span></div><div class="line">	P -&gt; expon = e;</div><div class="line">	P -&gt; link=<span class="literal">NULL</span>;</div><div class="line">	<span class="comment">// 将 P 指向的新结点插入到当前结果表达式尾项的后面</span></div><div class="line">	(* pRear) -&gt; link = P;</div><div class="line">	* pRear = P;</div><div class="line">	<span class="comment">// 修改 pRear 值 </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="小白专场"><a href="#小白专场" class="headerlink" title="小白专场"></a>小白专场</h3><h4 id="一元多项式的加法与乘法运算"><a href="#一元多项式的加法与乘法运算" class="headerlink" title="一元多项式的加法与乘法运算"></a>一元多项式的加法与乘法运算</h4><p><strong>笔记：</strong></p>
<p>求解思路：</p>
<ul>
<li>多项式表示</li>
<li>程序框架</li>
<li>读多项式</li>
<li>加法实现</li>
<li>乘法实现</li>
<li>多项式输出</li>
</ul>

    
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="note/ds/3.html"
           data-title="再学数据结构(3) - Note & Code" data-url="https://maimieng.com/note/ds/3.html">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://o7y30w6c6.qnssl.com/blog/avatar.jpg"
               alt="kingcos" />
          <p class="site-author-name" itemprop="name">kingcos</p>
          <p class="site-description motion-element" itemprop="description">Way to MM.</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">54</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">38</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/kingcos" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.v2ex.com/member/kingcos" target="_blank" title="V2EX">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  V2EX
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/users/b88081164fe8/latest_articles" target="_blank" title="JianShu">
                  
                    <i class="fa fa-fw fa-book"></i>
                  
                  JianShu
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/375975847" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://instagram.com/MMDADAO" target="_blank" title="Instagram">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Instagram
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/mmdadao" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.xcatliu.com" title="Xcat Liu's Blog" target="_blank">Xcat Liu's Blog</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">kingcos</span>
</div>

<div class="powered-by">
  豫ICP备<a class="theme-link" href="http://www.miibeian.gov.cn/">15002689</a>号
</div>

<div class="theme-info">
  T. -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.2"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"kingcos"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = false;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = decodeURIComponent(data.url);
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title >= 0 || index_content >= 0 ){
                                isMatch = true;
								if (i == 0) {
                                    first_occur = index_content;
                                }
                            } 
							
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });

                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  

  


</body>
</html>
