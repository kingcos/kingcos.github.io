<!DOCTYPE html>
<html>
    <head>
        <title>æ¤°æ ‘é£ ğŸ¥¥</title>
        <meta http-equiv="content-type" content="txt/html; charset=utf-8" />
        <meta content="width=device-width,user-scalable=no" name="viewport" />
    </head>

    <style>

body {
            font-family: 'Hiragino Sans GB', 'SFMono', 'Lato', '-apple-system';
            background-color: black;
        }
        .container {
            /* border: 2px solid #73AD21;
            border-radius: 25px; */
            /* margin: 20px; */
            padding: 10px;
            /* height: 200px; */
            color: aliceblue;

            /* display: flex; */
            /* flex-direction: column; */
            font-weight: 600;
            word-break: break-all;
            
            font-size: 64px;
            /* max-width: 10ch; */
        }

        .block1 {
            border: 3px solid #73AD21;
            border-radius: 10px;
            padding: 5px;
            margin-right: 5px;
            /* line-height: 50px; */
            
            /* border-collapse: collapse; */
           
        }
        
        .block2 {
            border: 3px solid yellow;
            border-radius: 10px;
            padding: 5px;
            background-color: red;
            margin-right: 5px;
        }
        
        .block3 {
            border: 3px solid yellow;
            border-radius: 10px;
            padding: 5px;
            background-color: blue;
            margin-right: 5px;
           
        }
        .block4 {
            /* border: 2px solid #73AD21; */
            border-radius: 10px;
            padding: 5px;
            margin-right: 5px;
           
        }
        .block5 {
            border: 3px solid red;
            border-radius: 10px;
            padding: 5px;
            margin-right: 5px;
           
        }
        .block6 {
            border: 3px solid #73AD21;
            border-radius: 10px;
            padding: 5px;
            background-color: yellow;
            color: black;
            margin-right: 5px;
        }
    </style>

    <body>
        <div class="container" id="container">
            <!-- <span class="block1">00000 00000 00000 00000 00000 00000 00000 00000 00000 00000 00000 00000</span> -->
            <span class="block1">è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•ğŸŒ¹</span>
            <span class="block2">#æ¤°æ ‘ç‰Œ</span>
            <span class="block3">å“ˆå“ˆå“ˆ</span>
            <span class="block4">Hello World</span>
            <span class="block5">ç»ç»å­ X æ¤°æ ‘é£</span>
            <span class="block6">æˆ‘çœŸçš„æ “ Q ğŸ™</span>
        </div>
        <canvas id="canvas"></canvas>
    </body>
    <script>
        function generateSentences() {
	return [
  	"è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•ğŸŒ¹",
    "æ¤°æ ‘ç‰Œ",
    "å“ˆå“ˆå“ˆ",
    "Hello World",
    "ç»ç»å­ X æ¤°æ ‘é£",
    "æˆ‘çœŸçš„æ “ Q ğŸ™"
  ]
}

	
getFontSize = function(text, targetWidth, font) { 	
	// https://stackoverflow.com/questions/51032611/find-font-size-to-fit-text-into-a-specific-width-using-pure-js
  const canvas = document.getElementById('canvas');
  const ctx = canvas.getContext('2d');
  var size = 1; 	
  ctx.font = size + 'px ' + font; 	 
  while(ctx.measureText(text).width < targetWidth) { 		
    size++; 		
    ctx.font = size + 'px ' + font; 	
  } 	 	
  return size; 
}

function calculateFontSize() {
	// ä¸€è¡Œæœ€å¤šå±•ç¤º 10-12 ä¸ªå­—
 	const MaxCharactersInOneLine = 10
  
  // å±å¹•å®½åº¦
  const screenWidth = window.innerWidth
  
  // è®¡ç®—å‡ºçš„å­—ä½“å¤§å°
  let targetWidth = screenWidth - 20*2 - 20*2
  return getFontSize("ä½ å¥½æˆ‘æ˜¯ç»ç»å­æ¤°æ ‘å‘€", targetWidth, 'SFMono')
  
}

function setupFontSize(size) {
	document.getElementById('container').style.fontSize = size + 'px'
    // let lineHeight = (size > 50 ? size * 1.5 : size * 1.8) + 'px'
    // let lineHeight = (size * 0.8 < 30 ? size + 30 : size * 1.8) + 'px'
    // let lineHeight = size * 1.8 + 'px'

    let lineHeight = size * 1.5
    if (size < 50) {
        // å¤ªå°
        lineHeight = size * 2
    } else if (size > 100) {
        // å¤ªå¤§
        lineHeight = size * 1.5
    }

	document.getElementById('container').style.lineHeight = lineHeight + 'px'
    Array.from(document.getElementsByTagName('span')).map(item => {
        item.style.borderRadius = size/3 + 'px'
        item.style.borderWidth = size/10 + 'px'
    })
    // line-height:
  console.log(size)
}


setupFontSize(calculateFontSize())

window.onresize = function(res){
	setupFontSize(calculateFontSize())
}
    </script>
</html>