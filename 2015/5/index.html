<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Translation,C/C++,Mooc," />





  <link rel="alternate" href="/atom.xml" title="V2M" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="本文翻译自C++ Programming Style Guidelines原文地址；参考资料：Google 机翻；本文仅供参考，如有错误，希望指出；如有侵权，会立即删除，本文决不用于任何商业用途。">
<meta property="og:type" content="article">
<meta property="og:title" content="C++ 编程代码风格指南">
<meta property="og:url" content="https://maimieng.com/2015/5/index.html">
<meta property="og:site_name" content="V2M">
<meta property="og:description" content="本文翻译自C++ Programming Style Guidelines原文地址；参考资料：Google 机翻；本文仅供参考，如有错误，希望指出；如有侵权，会立即删除，本文决不用于任何商业用途。">
<meta property="og:image" content="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png">
<meta property="og:updated_time" content="2016-05-17T06:28:48.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="C++ 编程代码风格指南">
<meta name="twitter:description" content="本文翻译自C++ Programming Style Guidelines原文地址；参考资料：Google 机翻；本文仅供参考，如有错误，希望指出；如有侵权，会立即删除，本文决不用于任何商业用途。">
<meta name="twitter:image" content="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png">



<script type="text/javascript" id="hexo.configuration">
  var host = "maimieng.com";
  if ((host == window.location.host) && (window.location.protocol != "https:"))
  window.location.protocol = "https";

  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 12611462,
      author: '博主'
    }
  };
</script>

  <title> C++ 编程代码风格指南 | V2M </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?4592a35805445fa3c6533a233eac21aa";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">V2M</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Way to MM.</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-ipro">
          <a href="/ipro" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            Pro.
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                C++ 编程代码风格指南
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-04-17T00:00:00+08:00" content="2015-04-17">
              2015-04-17
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/5/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/5/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><blockquote class="blockquote-center"><br>本文翻译自<a href="http://geosoft.no/development/cppstyle.html" target="_blank" rel="external">C++ Programming Style Guidelines原文地址</a>；<br>参考资料：Google 机翻；<br>本文仅供参考，如有错误，希望指出；<br>如有侵权，会立即删除，本文决不用于任何商业用途。<br></blockquote><br><a id="more"></a></p>
<blockquote>
<p>本文为 ID: <a href="http://maimieng.com/">萌面大道 http://maimieng.com/</a> 翻译，授权网易云课堂 C++ 程序设计入门(上)的崔毅东老师作为课件使用，大家可以免费下载，禁止用于商业用途，如需转载，需联系本人并保留此版权声明。(CC 版权声明在文末)<br>祝大家学有所成！</p>
<div align="right">——Powered by 萌面大道</div>

</blockquote>
<p>1 介绍</p>
<p>这份文档列出了 C++ 开发社区中 C++ 代码编写的基本指南。</p>
<p>这些建议是基于多个来源，个人经验，实际需求及一些给定的建议［1］－［4］收集来的而确定的标准。</p>
<p>引入一份新的指南而不只是引用以上的资料原因有很多。最主要是因为那些资料范围太过宽泛，并且更多的具体规则（尤其是命名规范）需要建立。同时，这份指南拥有注释，可以让它比大多数现存指南更简单地使用于检查项目中的代码。此外，编程指导通常以莫名其妙的方式和编程语言的技术问题混在一起。不过虽然这份文档不包含任何 C++ 技术建议，但聚焦于主要的编程风格。其他可以参考 C++ 编程实践指南。</p>
<p>集成开发环境（IDE）能够通过可视化接口，高亮代码，自动补全等提高代码可读性。程序员应该拒绝依赖这些特性。源代码应该被我们更多地注意而不是 IDE 对于代码的照顾，并且应当使代码独立于任何 IDE 但获得最大化的可读性。</p>
<p>1.1 指南布局</p>
<p>这些指南以不同主题分组，并且每个建议都被标明序号，在审查代码时可以更方便地参考。<br>（译者注：最后一条是 94，不过在这其中有几条并不存在，源网站也没有。）</p>
<p>以下是指南的布局：</p>
<table>
<thead>
<tr>
<th>n. 指南简述</th>
</tr>
</thead>
<tbody>
<tr>
<td>恰当的例子（以下此处不译）</td>
</tr>
<tr>
<td>原因, 来源 和 附加信息。</td>
</tr>
</tbody>
</table>
<p>第三行很重要。代码标准和指南有可能引发争论，因此为它们标注来源是很重要的。</p>
<p>1.2 指南的重要性</p>
<p>在指南部分里，“必须”，“推荐”，“建议”均有特殊含义。“必须”是一定要遵守的，“推荐”是强烈建议，“建议”是一般指引。（译者注：为了标明此，有些语言进行了重组。）</p>
<p>2 通用指南</p>
<table>
<thead>
<tr>
<th>1. 任何违反此指南但提高代码可读性都是允许的。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td>该指南的主要目的是提高代码可读性，从而使得一般数量级的代码更好的理解和维护。此指南不可能涵盖所有的特殊情况，这需要程序员的随机应变、灵活运用。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>2. 如果您和它持强烈不同的意见，您完全不必遵守此指南。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td>制作这份指南，并不是用一个特定的代码风格去强加于每个人。有经验的程序员虽然通常采用类似这种规范，但有一份这样的指南，且让每个人都去熟悉它，通常可以使人们开始思考代码风格并评判在这个领域他们自己的习惯。</td>
</tr>
<tr>
<td>另一方面，没有经验的程序员或者编程新手想要进入这一行当，通常遵循一个代码风格指南会让这段路途走得更加惬意。</td>
</tr>
</tbody>
</table>
<p>3 命名规范</p>
<p>3.1 一般命名规定</p>
<table>
<thead>
<tr>
<th>3. 变量和常量类型的命名每个单词的首字母必须大写。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Line, SavingsAccount</code></td>
</tr>
<tr>
<td>C++ 开发社区惯例。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>4. 变量的命名首字母必须小写（其他单词首字母大写）。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>line, savingsAccount</code></td>
</tr>
<tr>
<td>C++ 开发社区惯例。使得变量便于区别于类型，并且有效地解决了命名冲突，类似：<code>Line line;</code>。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>5. 常量的命名（包括枚举值）必须用下划线分隔单词并全部大写。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>MAX_ITERATIONS, COLOR_RED, PI</code></td>
</tr>
<tr>
<td>C++ 开发社区惯例。通常，常量应尽量避免使用。大多数情况下，作为函数执行所得值是更好的选择：</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">int getMaxIterations() // NOT: MAX_ITERATIONS = 25</div><div class="line">&#123;</div><div class="line">  return 25;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>这种形式既能增加代码可读性，又能确保了对于类的值具有统一的接口。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>6. 函数或方法的命名必须是动词词组且首字母小写（其他单词首字母大写）。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>getName(), computeTotalWidth()</code></td>
</tr>
<tr>
<td>C++ 开发社区惯例。此命名规范类似于变量的命名，但 C++ 函数通过不同形式区别于变量名。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>7. 命名空间推荐以全部小写命名。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>model::analyzer, io::iomanager, common::math::geometry</code></td>
</tr>
<tr>
<td>C++ 开发社区惯例。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>8. 命名模版类型推荐使用单一的大写字母。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">| template&lt;class T&gt; ...</div><div class="line">| template&lt;class C, class D&gt; ...</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>C++ 开发社区惯例。这使得模版名称突出于所有其他名称。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>9. 作为名称使用时，缩略词不得使用全部大写［4］。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">exportHtmlSource(); // NOT: exportHTMLSource();</div><div class="line">openDvdPlayer();    // NOT: openDVDPlayer();</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>使用全部大写命名基本名称将会和上述的命名规范冲突。像 <code>dVD, hTML</code> 等如此命名的变量可读性显然不高。另外还有一个问题在上述例子中已经说明；当名称和另外一个有联系，代码可读性会严重下降；缩略词并不那么像它本身那样独特。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>10. 全局变量推荐使用<code>::</code>操作符。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>::mainWindow.open(), ::applicationContext.getName()</code></td>
</tr>
<tr>
<td>通常，应避免使用全局变量。可以考虑使用单件模式对象来代替。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>11. 类的私有变量命名推荐以下划线为结尾。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">class SomeClass &#123;</div><div class="line">  private:</div><div class="line">    int length_ ;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>除了变量的名称和类型，作用域是其最重要的特性。使用下划线指示类的作用域可以很简单的区分局部变量和类的成员变量。这点很重要，因为类的成员变量比函数变量具有更大的作用域，因此更值得被程序员注意。此方法的另一个作用就是它很好的解决了为了给函数或构造器设值寻找合理的变量名：</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">void setDepth (int depth)</div><div class="line">&#123;</div><div class="line">  depth_ = depth;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>有一个问题就是使用前缀还是后缀下划线。两者都被广泛的使用，但是更加建议使用后缀，因为这样可以维持更好的可读性。</th>
</tr>
</thead>
<tbody>
<tr>
<td>需要注意的是，变量作用域的争议问题已经持续很久了，虽然好像现在这个指南已经获得了赞同，并且这将作为一条惯例在专业的开发者社区变得越来越普遍。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>12. 通用的变量推荐和其类型一致。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">void setTopic(Topic* topic)</div><div class="line">// NOT: void setTopic(Topic* value)</div><div class="line">// NOT: void setTopic(Topic* aTopic)</div><div class="line">// NOT: void setTopic(Topic* t)</div><div class="line"></div><div class="line">void connect(Database* database)</div><div class="line">// NOT: void connect(Database* db)</div><div class="line">// NOT: void connect (Database* oracleDB)</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>通过减少术语和名称来减少代码复杂程度。此外，使得仅给出名字推断出类型变得容易。如果有一些原因似乎不能强烈地指出其类型名，就说明这是一种错误的选择。非通用的变量有一个特殊的角色。这些变量可以经常结合类型命名：</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Point  startingPoint, centerPoint;</div><div class="line">Name   loginName;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>13. 所有名称推荐使用英文。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fileName;   // NOT: filNavn</code></td>
</tr>
<tr>
<td>在国际化开发中，英文是首选语言。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>14. 变量作用域越长，推荐使用更长的名称，作用域越短，建议使用较短的名称［1］。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td>暂时存储或索引的临时变量名字最好较短。程序员阅读这些变量应该能推断出它的值不会在几行代码之外使用。常见的整型临时变量有：<code>i, j, k, m, n</code>，字符型：<code>c, d</code>。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>15. 对象的名字是暗示的且要避免出现在函数名称中。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>line.getLength();   // NOT: line.getLineLength();</code></td>
</tr>
<tr>
<td>后者在类的声明中看起来很自然，但被在例子中被证明在使用中这是多余的。</td>
</tr>
</tbody>
</table>
<p>3.2 特定命名规定</p>
<table>
<thead>
<tr>
<th>17. 术语 <code>get/set</code> 必须使用在直接存取属性的地方。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">employee.getName();</div><div class="line">employee.setName(name);</div><div class="line">matrix.getElement(2, 4);</div><div class="line">matrix.setElement(2, 4, value);</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>C++ 开发社区惯例。在 Java 语言中，这个规定几乎已成为一种标准。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>18. 术语 <code>compute</code> 建议使用在需要计算的方法（函数）中。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>valueSet-&gt;computeAverage();</code></td>
</tr>
<tr>
<td><code>matrix-&gt;computeInverse();</code></td>
</tr>
<tr>
<td>给阅读代码者直接线索，这可能会是一个潜在的超时操作，若重复使用时，可能要考虑缓存的结果。一致的使用此规范可以增加代码可读性。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>19. 术语 <code>find</code> 建议使用在需要查找的方法（函数）中。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>vertex.findNearestVertex();</code></td>
</tr>
<tr>
<td><code>matrix.findMinElement();</code></td>
</tr>
<tr>
<td>给阅读代码者直接线索，这会是一个查找的方法（函数），只涉及简单的操作。一致的使用此规范可以增加代码可读性。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>20. 术语 <code>initialize</code> 建议使用在建立对象或概念。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>printer.initializeFontSet();</code></td>
</tr>
<tr>
<td>美式 <code>initialize</code> 优于英式 <code>initialise</code>。最好避免使用缩略词<code>init</code>。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>21. 代表 <code>GUI</code>（图形化）组件的变量推荐使用组件类型作为后缀。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mainWindow, propertiesDialog, widthScale, loginText,leftScrollbar, mainForm, fileMenu, minLabel, exitButton, yesToggle etc.</code></td>
</tr>
<tr>
<td>从名称给出变量类型和对象资源的线索，可以提高代码可读性。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>22. 复数形式在表示对象集合时推荐使用。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>vector&lt;Point&gt;  points;</code></td>
</tr>
<tr>
<td><code>int            values[];</code></td>
</tr>
<tr>
<td>从名称给出变量类型和其中元素要进行的操作的线索，可以提高代码可读性。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>23. 若存在多个对象推荐加上前缀 <code>n</code>。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nPoints, nLines</code></td>
</tr>
<tr>
<td>这种标号方式来自于数学，是一种已建立为标明多个对象的惯例。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>24. 独立的（实体）序号推荐加上后缀 <code>No</code>。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tableNo, employeeNo</code></td>
</tr>
<tr>
<td>这种标号方式来自于数学，一种已建立为标明独立的（实体）序号的惯例。</td>
</tr>
<tr>
<td>一种更为优雅的方式是使用前缀<code>i</code>：<code>iTable, iEmployee</code>。 这可以有效的命名迭代程序。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>25. 迭代程序（器）推荐命名为 <code>i，j，k</code> 等。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">for (int i = 0; i &lt; nTables); i++) &#123;</div><div class="line">  :</div><div class="line">&#125;</div><div class="line">for (vector&lt;MyClass&gt;::iterator i = list.begin(); i != list.end(); i++) &#123;</div><div class="line">  Element element = *i;</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>这种标号方式来自于数学，一种已建立为标明迭代程序（器）的惯例。</th>
</tr>
</thead>
<tbody>
<tr>
<td>变量名 <code>j，k</code> 等，推荐只在嵌套的循环中使用。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>26. 布尔变量和方法（函数）推荐加上前缀 <code>is</code>。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>isSet, isVisible, isFinished, isFound, isOpen</code></td>
</tr>
<tr>
<td>C++ 开发社区和 Java 部分强制惯例。</td>
</tr>
<tr>
<td>使用后缀解决了一个常见的问题，即选择不好的布尔变量名称，类似：<code>status, flag</code>。而 <code>isStatus</code> 或 <code>isFlag</code> 又不太合适，因此程序员将被迫选择更多有含义的名字。</td>
</tr>
<tr>
<td>这里有一些在某些条件下更好的前缀方案供选择，他们是 <code>has, can</code> 和 <code>should</code> 前缀：</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">bool hasLicense();</div><div class="line">bool canEvaluate();</div><div class="line">bool shouldSort();</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>27. 互补的名称必须用在互补的操作［1］。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">get/set, add/remove, create/destroy, start/stop, insert/delete,</div><div class="line">increment/decrement, old/new, begin/end, first/last, up/down, min/max,</div><div class="line">next/previous, old/new, open/close, show/hide, suspend/resume, etc.</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>通过对称性减少代码复杂程度。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>28. 名称中最好避免出现缩略词。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>computeAverage();   // NOT: compAvg();</code></td>
</tr>
<tr>
<td>有两种类型的单词需要注意。第一种是词典中列出的普通词，这些不得简写，千万不要这样写：</td>
</tr>
<tr>
<td><code>cmd</code>   代替   <code>command</code></td>
</tr>
<tr>
<td><code>cp</code>    代替   <code>copy</code></td>
</tr>
<tr>
<td><code>pt</code>    代替   <code>point</code></td>
</tr>
<tr>
<td><code>comp</code>  代替   <code>compute</code></td>
</tr>
<tr>
<td><code>init</code>  代替   <code>initialize</code></td>
</tr>
<tr>
<td>等</td>
</tr>
<tr>
<td>另一种是具有特殊含义的词组，通过他们的缩略词可以更自然的为人们所知，这些词组要保持缩略形式，千万不要这样写：</td>
</tr>
<tr>
<td><code>HypertextMarkupLanguage</code>  代替   <code>html</code></td>
</tr>
<tr>
<td><code>CentralProcessingUnit</code>    代替   <code>cpu</code></td>
</tr>
<tr>
<td><code>PriceEarningRatio</code>        代替   <code>pe</code></td>
</tr>
<tr>
<td>等</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>29. 最好避免特殊地命名指针。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Line* line;</div><div class="line">// NOT: Line* pLine;</div><div class="line">// NOT: LIne* linePtr;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>C/C++ 环境有许多指针类型的变量，所以很多规定几乎无法遵守。此外，程序员应当忽略 C++ 的对象通常斜体的特殊惯例。只有当对象的实际类型具有特殊意义，名称才应强调类型。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>30. 最好避免出现否定的布尔变量名。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bool isError; // NOT: isNoError</code></td>
</tr>
<tr>
<td><code>bool isFound; // NOT: isNotFound</code></td>
</tr>
<tr>
<td>当一个名称出现双重否定时，会出现问题。因为不能从 <code>!isNotFound</code> 直接看出其含义。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>31. 枚举常量建议以共同的类型名作为前缀。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">enum Color &#123;</div><div class="line">  COLOR_RED,</div><div class="line">  COLOR_GREEN,</div><div class="line">  COLOR_BLUE</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>在声明处给出额外的信息，可以看出哪些常量是共通的，以及这些常量所代表的意义。一种代替方案是总是通过共同的类型名联系这些常量：<code>Color::RED, Airline::AIR_FRANCE</code> 等。</th>
</tr>
</thead>
<tbody>
<tr>
<td>注意，枚举名应当是典型的单数 <code>Color {...}</code>。一个复数的名称像 <code>Colors {...}</code>，在声明时并没有什么区别，但这样的用法看起来比较笨拙。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>32. 例外的类推荐加上后缀 <code>Exception</code>。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">class AccessException</div><div class="line">&#123;</div><div class="line">  :</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>例外的类其实不是程序主要设计的一部分，通过命名让它们相对于其他类更加突出。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>33. 函数（具有返回值的方法）推荐命名为它们执行后的返回或者规程（<code>void</code> 型方法）。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td>增加代码可读性。使得可以很清晰的看出其功能，尤其是其不支持什么功能。这将再一次使代码简化避免副作用的产生。</td>
</tr>
</tbody>
</table>
<p>4 文件</p>
<p>4.1 源文件</p>
<table>
<thead>
<tr>
<th>34. C++ 头文件推荐以 <code>.h</code>（推荐）或 <code>.hpp</code> 作为扩展名。源文件应该为 <code>.c++</code>（推荐）, <code>.c</code>, <code>.cc</code> 或 <code>.cpp</code>。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>MyClass.c++, MyClass.h</code></td>
</tr>
<tr>
<td>以上均为 C++ 标准支持的文件后缀名。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>35. 类推荐在头文件中声明，并在类名和文件名匹配的源文件中定义。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>MyClass.h, MyClass.c++</code></td>
</tr>
<tr>
<td>易于找到给定类的相关文件。一个明显的例外，即模版类声明和定义必须在同一个 <code>.h</code> 文件内。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>36. 推荐把所有的定义包含在源文件中。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">class MyClass</div><div class="line">&#123;</div><div class="line">public:</div><div class="line">  int getValue () &#123;return value_ ;&#125;  // NO!</div><div class="line">  ...</div><div class="line">private:</div><div class="line">  int value_;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>头文件应当声明一个接口，源文件应执行它。当寻找,执行时，程序员应总是清楚它可以在源文件中找到。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>37. 文件目录必须在 80 列内。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td>80 列是编辑器，终端，显示端和调试器中共同的宽度，并且文件将在很多人中共享，所以应当保持这些系统规定参数。在程序员之间传递代码时，避免无意义的断行，能够提升代码可读性。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>38. 分页符和 Tab 等特殊符号必须避免在程序中出现。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td>这些字符用在多人编程，多平台时将必定导致编辑器，显示端，终端模拟器或者调试器出现问题。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>39. 分行显示的代码必须使其显而易见［1］。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">totalSum = a + b + c +</div><div class="line">           d + e;</div><div class="line"></div><div class="line">function (param1, param2,</div><div class="line">          param3);</div><div class="line"></div><div class="line">setText (&quot;Long line split&quot;</div><div class="line">         &quot;into two parts.&quot;);</div><div class="line"></div><div class="line">for (int tableNo = 0; tableNo &lt; nTables;</div><div class="line">     tableNo += tableStep) &#123;</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>当一段代码超过 80 列的极限时需要分行。很难给出严格的规定什么情况需要分行，但是上面的例子可以作为参考。通常：</th>
</tr>
</thead>
<tbody>
<tr>
<td>逗号后分行</td>
</tr>
<tr>
<td>操作符后分行</td>
</tr>
<tr>
<td>对准上一行的表达式的开始的新的一行</td>
</tr>
</tbody>
</table>
<p>4.2 包含文件和包含语句</p>
<table>
<thead>
<tr>
<th>40. 头文件必须放在一个保护装置中。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">#ifndef COM_COMPANY_MODULE_CLASSNAME_H</div><div class="line">#define COM_COMPANY_MODULE_CLASSNAME_H</div><div class="line">  :</div><div class="line">#endif // COM_COMPANY_MODULE_CLASSNAME_H</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>这个结构是为了避免产生编译错误。</th>
</tr>
</thead>
<tbody>
<tr>
<td>这个命名规定统一了源代码中头文件的位置，避免了命名冲突。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>41. <code>Include</code> 语句推荐将其按分类排级，并按等级从低到高排序。在两个 <code>Include</code> 语句类之间空行分隔。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">#include &lt;fstream&gt;</div><div class="line">#include &lt;iomanip&gt;</div><div class="line"></div><div class="line">#include &lt;qt/qbutton.h&gt;</div><div class="line">#include &lt;qt/qtextfield.h&gt;</div><div class="line"></div><div class="line">#include &quot;com/company/ui/PropertiesDialog.h&quot;</div><div class="line">#include &quot;com/company/ui/MainWindow.h&quot;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>除了展示给阅读代码者清晰的包含文件结构，同样可以直接看出涉及哪些模块。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Include</code>文件目录不能使用绝对路径。编译器指令应改为用于为包含的文件指示根目录。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>42. include语句必须只放在文件顶端。</th>
</tr>
</thead>
<tbody>
<tr>
<td>通用规范。避免隐藏（在文件内）的 <code>include</code> 语句产生编译错误。</td>
</tr>
</tbody>
</table>
<p>5 语句</p>
<p>5.1 类型</p>
<table>
<thead>
<tr>
<th>43. 在文件内部使用的量的类型建议在此文件内声明。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td>确保信息隐藏。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>44. 类的一部分必须分为公共，保护和私有三部分［2］［3］。所有部分必须明确。不合适的部分不应混在一起。</th>
</tr>
</thead>
<tbody>
<tr>
<td>顺序通常为将 <code>public</code> 部分放在最上，所以当人们可以看到 <code>protected/private</code> 部分即可不再阅读。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>45. 类型转换必须明确作出。绝不能依赖隐性类型转换。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>floatValue = static_cast&lt;float&gt;(intValue); // NOT: floatValue = intValue;</code></td>
</tr>
<tr>
<td>通过这点，程序员可以意识到涉及到的不同类型，并且混合是有意的。</td>
</tr>
</tbody>
</table>
<p>5.2 变量</p>
<table>
<thead>
<tr>
<th>46. 变量推荐在声明处初始化。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td>这确保了变量在任何时候都是有效的。有时不能以一个有效值初始化变量，就像：</td>
</tr>
<tr>
<td><code>int x, y, z;</code></td>
</tr>
<tr>
<td><code>getCenter(&amp;x, &amp;y, &amp;z);</code></td>
</tr>
<tr>
<td>这些情况，应当保持未初始化，这要好于初始化假值。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>47. 变量绝不能拥有双重含义。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td>通过确保变量唯一地代表概念来提升代码可读性。减少副作用导致错误的机会。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>48. 尽量避免使用全局变量。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td>在 C++ 中，全局变量并不是必需的。同样适用于全局函数或者文件范围的（静态）变量。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>49. 类中变量尽量不要在 <code>public</code> 中声明。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td>公有变量将会破环 C++ 的信息隐藏性和封装性。使用私有变量和访问函数代替。这种规则的一种例外是当类本质上是没有行为（类似 C 的结构体）的一种数据结构。这种情况下，让实例变量变公有是恰当的［2］。</td>
</tr>
<tr>
<td>注意：C++ 的结构体只是为了和 C 语言的一致性，并通过减少构建结构体的数量避免增加代码可读性。使用类来代替。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>51. C++ 的指针和引用的符号推荐靠近类型名，而不是靠近名称。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>float* x; // NOT: float *x;</code> </td>
</tr>
<tr>
<td><code>int&amp; y;   // NOT: int &amp;y ;</code></td>
</tr>
<tr>
<td>变量的指针或者引用属性是类型的性质，而不是命名的。C 语言程序员经常在两者中取舍，而 C++ 中遵守这个规则已越来越普遍。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>53. 隐式测试 <code>0</code> 不推荐用于布尔变量和指针。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>if (nLines != 0)  // NOT: if (nLines)</code></td>
</tr>
<tr>
<td><code>if (value != 0.0) // NOT: if (value)</code></td>
</tr>
<tr>
<td>依据 C++ 标准，没必要定义 <code>int</code> 和 <code>float</code> 型的 <code>0</code> 和二进制 <code>0</code> 行为相同。此外，使用明确的测试语句可以使被测试的类型更清晰。建议指针同样不应用 <code>0</code> 隐式测试也很普遍，即 <code>if (line == 0)</code> 代替 <code>if (line)</code>。后者在 C/C++ 看起来很普遍也可以使用。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>54. 推荐在尽可能小的范围内进行变量声明。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td>在小范围保持变量的操作，这样可以更简单的控制其作用和副作用。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>55. <code>for()</code> 语句内必须只能可包含循环控制语句。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>sum = 0;                       // NOT: for (i = 0, sum = 0; i &lt; 100; i++)</code></td>
</tr>
<tr>
<td><code>for (i = 0; i &lt; 100; i++)                sum += value[i];</code></td>
</tr>
<tr>
<td><code>sum += value[i];</code></td>
</tr>
<tr>
<td>增强代码的可维护性和可读性。使得控制体和循环包含更加清晰。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>56. 循环变量推荐在循环之前被初始化。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">isDone = false;</div><div class="line">while (!isDone) &#123;</div><div class="line">	// ...</div><div class="line">&#125;</div><div class="line">// NOT: </div><div class="line">bool isDone = false;</div><div class="line">// ...</div><div class="line">while (!isDone) &#123;</div><div class="line">// ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>57. <code>do－while</code> 建议不使用。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td><code>do－while</code> 循环比普通的 <code>while</code> 循环可读性差，因为其循环控制条件在底部。阅读代码者必须完全看完循环才能明确循环的范围。</td>
</tr>
<tr>
<td>此外，<code>do－while</code> 循环非必要。任何 <code>do－while</code> 循环都可以重写为 <code>while</code> 或 <code>for</code> 循环。减少这种结构的使用来提高代码可读性。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>58. 循环体的 <code>break</code> 和 <code>continue</code> 建议避免使用。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td>如果这些语句相较于同样的结构化代码可以提高代码可读性，否则建议不使用。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>60. <code>while(true)</code> 这种形式推荐用于无限循环中。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">while (true) &#123;</div><div class="line">  :</div><div class="line">&#125;</div><div class="line"></div><div class="line">for (;;) &#123;  // NO!</div><div class="line">  :</div><div class="line">&#125;</div><div class="line"></div><div class="line">while (1) &#123; // NO!</div><div class="line">  :</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>依靠对于 1 进行的测试既没有必要也没有意义。<code>for (;;)</code> 可读性极差，并且表面上看不出它实际是个无限循环。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<p>5.4 条件语句</p>
<table>
<thead>
<tr>
<th>61. 复杂的条件表达式必须避免。引入临时布尔变量代替［1］。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">bool isFinished = (elementNo &lt; 0) || (elementNo &gt; maxElement);</div><div class="line">bool isRepeatedEntry = elementNo == lastElement;</div><div class="line">if (isFinished || isRepeatedEntry) &#123;</div><div class="line">  :</div><div class="line">&#125;</div><div class="line"></div><div class="line">// NOT:</div><div class="line">if ((elementNo &lt; 0) || (elementNo &gt; maxElement)||</div><div class="line">     elementNo == lastElement) &#123;</div><div class="line">  :</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>通过给表达式分配布尔变量，程序可以自动记录（分析）。这样的结构造可以更简单的阅读，改正和维护。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>62. <code>if</code> 语句中，象征性的部分推荐放在 <code>if()</code> 部分，例外放在 <code>else()</code> 部分。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">bool isOk = readFile (fileName);</div><div class="line">if (isOk) &#123;</div><div class="line">  :</div><div class="line">&#125;</div><div class="line">else &#123;</div><div class="line">  :</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>确保例外不会使得正常路径难以理解。这对于代码的可读性和性能均很重要。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>63. 条件语句推荐放在单独的一行。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>if (isDone)       // NOT: if (isDone) doCleanup();</code></td>
</tr>
<tr>
<td><code>doCleanup();</code></td>
</tr>
<tr>
<td>这是为了方便调试。当写在一行中，无法清晰的知道真或假。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>64. 条件语句中的执行语句必须避免。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">File* fileHandle = open(fileName, &quot;w&quot;);</div><div class="line">if (!fileHandle) &#123;</div><div class="line">  :</div><div class="line">&#125;</div><div class="line"></div><div class="line">// NOT:</div><div class="line">if (!(fileHandle = open(fileName, &quot;w&quot;))) &#123;</div><div class="line">  :</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>条件语句中的执行语句使得代码难以阅读。这需要 C/C++ 的新程序员尤其注意。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<p>5.5 杂项</p>
<table>
<thead>
<tr>
<th>65. 代码中推荐尽量避免幻数的使用。除了 0 和 1，其他的推荐考虑声明常量代替。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td>如果一个数字自身没有一个显而易见的含义，通过引入命名常量代替来增加代码可读性。另一种不同的方法是在量被访问处引入一个方法（函数）。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>66. 浮点数推荐总是带有小数点和至少一位小数。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">double total = 0.0;    // NOT:  double total = 0;</div><div class="line">double speed = 3.0e8;  // NOT:  double speed = 3e8;</div><div class="line"></div><div class="line">double sum;</div><div class="line">:</div><div class="line">sum = (a + b) * 10.0;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>这强调了整型和浮点型不同的性质。这两种算数模型是完全不同且毫不相容的概念。</th>
</tr>
</thead>
<tbody>
<tr>
<td>同样，在上述最后一个例子中，他在某处强调了代码中变量（sum）分配的类型，虽然这可能看起来不太明显。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>67. 小于 0 的浮点数推荐总是在小数点前写上数码 0。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>double total = 0.5;  // NOT:  double total = .5;</code></td>
</tr>
<tr>
<td>C++ 的数字和表达式系统借鉴于数学，并且语法应当只要允许就遵守数学惯例。同样， <code>0.5</code> 的可读性明显大于 <code>.5</code>；也不会使其和 <code>5</code> 混淆。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>68. 函数必须要明确列出返回值类型。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">int getValue()   // NOT: getValue()</div><div class="line">&#123;</div><div class="line">  :</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>| 如果没有明确列出，C++ 将会默认返回值为 <code>int</code> 型。程序员不得依赖这个特点，因为这会使其他程序员觉得这种形式难以理解。</p>
<table>
<thead>
<tr>
<th>69. <code>goto</code> 语句推荐尽量避免使用。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td><code>goto</code> 语句打破了代码的结构。只有在非常少的情况下（例如跳出一个深层的嵌套结构）<code>goto</code> 语句建议考虑，并且仅当替代的选择结构被证明有较差的可读性。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>70. <code>0</code>推荐用来代替 <code>NULL</code>。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td><code>NULL</code> 是标准 C 语言库的部分，但在 C++ 中已被淘汰。</td>
</tr>
</tbody>
</table>
<p>6.1 布局</p>
<table>
<thead>
<tr>
<th>71. 基本的缩进推荐为 2 个空格。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">for (i = 0; i &lt; nElements; i++)</div><div class="line">  a[i] = 0;</div></pre></td></tr></table></figure>
<p>| 缩进 1 对于强调代码的逻辑布局显得太短。<br>| 缩进大于 4 使得深层的嵌套代码很难阅读，并且增加了必须分行的可能。选择缩进 2, 3, 4 之一，2 和 4 更加普遍，且选择 2 可以降低代码分行的可能。</p>
<table>
<thead>
<tr>
<th>72. 代码块的布局推荐如例 1（推荐）或者例 2，但绝不要如例 3［4］。函数和类代码块必须使用例 2 的布局。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">while (!done) &#123;</div><div class="line">  doSomething();</div><div class="line">  done = moreToDo();</div><div class="line">&#125;</div><div class="line"></div><div class="line">while (!done)</div><div class="line">&#123;</div><div class="line">  doSomething();</div><div class="line">  done = moreToDo();</div><div class="line">&#125;</div><div class="line"></div><div class="line">while (!done)</div><div class="line">  &#123;</div><div class="line">    doSomething();</div><div class="line">    done = moreToDo();</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>例 3 引入一个特别的缩进，使得强调的代码逻辑结构不如例 1 和例 2 清晰。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>73. 类推荐使用以下格式声明：</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">class SomeClass : public BaseClass</div><div class="line">&#123;</div><div class="line">  public:</div><div class="line">    ...</div><div class="line"></div><div class="line">  protected:</div><div class="line">    ...</div><div class="line"></div><div class="line">  private:</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>这一定程度上遵守了以上通用的代码块规则。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>74. 方法（函数）推荐使用以下格式定义：</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">void someMethod()</div><div class="line">&#123;</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>这遵守了以上通用的代码块规则。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>75. <code>if－else</code> 语句推荐使用以下格式：</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">if (condition) &#123;</div><div class="line">  statements;</div><div class="line">&#125;</div><div class="line"></div><div class="line">if (condition) &#123;</div><div class="line">  statements;</div><div class="line">&#125;</div><div class="line">else &#123;</div><div class="line">   statements;</div><div class="line">&#125;</div><div class="line"></div><div class="line">if (condition) &#123;</div><div class="line">  statements;</div><div class="line">&#125;</div><div class="line">else if (condition) &#123;</div><div class="line">  statements;</div><div class="line">&#125;</div><div class="line">else &#123;</div><div class="line">  statements;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>这一定程度上遵守了以上通用的代码块规则。但是，如果一个 <code>else</code> 从句和紧邻的 <code>if</code> 或 <code>else</code> 从句的括号在一行也是可行的，即：</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">if (condition) &#123;</div><div class="line">		statements;</div><div class="line">&#125; else &#123;</div><div class="line">		statements;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>代码中 <code>if－else</code> 语句每个部分单独一行是更好的选择。这将使得语句控制变得更加简单，例如当需要移动 <code>else</code> 部分时。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>76. <code>for</code> 语句推荐使用以下格式：</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">for (initialization; condition; update) &#123;</div><div class="line">  statements;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>| 这遵守了以上通用的代码块规则。</p>
<table>
<thead>
<tr>
<th>77. 空的 <code>for</code> 语句推荐使用以下格式：</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">for (initialization; condition; update)</div><div class="line">  ;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>这强调了 <code>for</code> 语句是空的，并且由于这是故意的所以使得代码阅读者清楚。不过，空循环应当避免。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>78. <code>while</code> 语句推荐使用以下格式：</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">while (condition) &#123;</div><div class="line">  statements;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>这遵守了以上通用的代码块规则。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>79. <code>do－while</code> 语句推荐使用以下格式：</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">do &#123;</div><div class="line">  statements;</div><div class="line">&#125; while (condition);</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>这遵守了以上通用的代码块规则。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>80. <code>switch</code> 语句推荐使用以下格式：</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">switch (condition) &#123;</div><div class="line">  case ABC :</div><div class="line">    statements;</div><div class="line">    // Fallthrough</div><div class="line"></div><div class="line">  case DEF :</div><div class="line">    statements;</div><div class="line">    break;</div><div class="line"></div><div class="line">  case XYZ :</div><div class="line">    statements;</div><div class="line">    break;</div><div class="line"> </div><div class="line">  default :</div><div class="line">    statements;</div><div class="line">    break;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>| 注意整个 <code>switch</code> 语句中每个 <code>case</code> 关键字相对缩进。这使得整个 <code>switch</code> 语句清晰突出。此外注意“：”前的额外的空格。当 <code>case</code> 语句不包含 <code>break</code> 语句应当有明确的贯穿注释。省略 <code>break</code> 是个普通错误，如果故意省略必须要让代码清晰。</p>
<table>
<thead>
<tr>
<th>81. <code>try-catch</code> 语句推荐使用以下格式：</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">try &#123;</div><div class="line">  statements;</div><div class="line">&#125;</div><div class="line">catch (Exception&amp; exception) &#123;</div><div class="line">  statements;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>| 这一定程度上遵守了以上通用的代码块规则。<code>if－else</code> 语句关于大括号的规则通样可以运用于 <code>try-catch</code> 语句。</p>
<table>
<thead>
<tr>
<th>82. 单独的 <code>if－else, for</code> 或 <code>while</code> 语句建议不加大括号。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">if (condition)</div><div class="line">  statement;</div><div class="line"></div><div class="line">while (condition)</div><div class="line">  statement;</div><div class="line"></div><div class="line">for (initialization; condition; update)</div><div class="line">  statement;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>通常推荐应当是在任何情况大括号都不应缺少。但是，通常语言构造中大括号是用来归纳多条语句。单条语句使用大括号会显得多余。不过，有一种反对此语法的声音，如果增加语句而忘记加大括号，代码就会出错。但不论怎样，代码绝不应当为了适应可能发生的改变。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>83. 函数的返回值类型建议放在函数名上方左对齐。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">void</div><div class="line">MyClass::myMethod(void)</div><div class="line">&#123;</div><div class="line">  :</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>这使得更容易发现函数名，因为它们都在第一列开始。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<p>6.2 空白</p>
<table>
<thead>
<tr>
<th>84.</th>
</tr>
</thead>
<tbody>
<tr>
<td>－常规操作符推荐在前后加空格以间隔。</td>
</tr>
<tr>
<td>－C++ 保留字后推荐加空格以间隔。</td>
</tr>
<tr>
<td>－逗号后推荐加空格以间隔。</td>
</tr>
<tr>
<td>－冒号推荐在前后加空格以间隔</td>
</tr>
<tr>
<td>－<code>for</code> 循环语句内的分号后推荐加空格以间隔。</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">a = (b + c) * d; // NOT: a=(b+c)*d</div><div class="line"></div><div class="line">while (true)   // NOT: while(true) </div><div class="line">&#123;</div><div class="line">  ...</div><div class="line"></div><div class="line">doSomething(a, b, c, d);  // NOT: doSomething(a,b,c,d);</div><div class="line"></div><div class="line">case 100 :  // NOT: case 100:</div><div class="line"></div><div class="line">for (i = 0; i &lt; 10; i++) &#123;  // NOT: for(i=0;i&lt;10;i++)&#123;</div><div class="line">  ...</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>让语句的每一部分都独立出来。增加代码可读性。在 C++ 代码中，很难给出一个完整的空格使用建议列表。以上的例子只是给出一个通常的建议。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>85. 方法（函数）名后若相连其他名称，建议以空格隔开。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>doSomething (currentFile);</code></td>
</tr>
<tr>
<td>让每个名称独立出来。增加代码可读性。当后面没有名称，空格可以省略（<code>doSomething()</code>），这种情况名称就不用独立。左圆括号后是否加空格这个规范并没有要求，即都是可以的。这个规范通常在右括号前留一个空格： <code>doSomething( currentFile );</code>这样做使得每个名称作为不同含义而独立，但是右括号前的空格更像是一种艺术，并且没有那个空格的语句会显得不对称<code>(doSomething( currentFile);)</code>。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>86. 逻辑集合代码块推荐以空行分隔。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">Matrix4x4 matrix = new Matrix4x4();</div><div class="line"></div><div class="line">double cosAngle = Math.cos(angle);</div><div class="line">double sinAngle = Math.sin(angle);</div><div class="line"></div><div class="line">matrix.setElement(1, 1,  cosAngle);</div><div class="line">matrix.setElement(1, 2,  sinAngle);</div><div class="line">matrix.setElement(2, 1, -sinAngle);</div><div class="line">matrix.setElement(2, 2,  cosAngle);</div><div class="line"></div><div class="line">multiply(matrix);</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>通过在不同的逻辑集合代码块加入空行增加代码可读性。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>87. 方法（函数）推荐以三个空行分隔。</th>
</tr>
</thead>
<tbody>
<tr>
<td>通过大空行使得方法（函数）在类中独立。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>88. 变量声明建议左对齐。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>AsciiFile* file;</code></td>
</tr>
<tr>
<td><code>int        nPoints;</code></td>
</tr>
<tr>
<td><code>float      x, y;</code></td>
</tr>
<tr>
<td>增加代码可读性。变量可以通过对齐简单的分别类型。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>89. 当使用对齐可以增加代码可读性就使用对齐。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">if      (a == lowValue)    compueSomething();</div><div class="line">else if (a == mediumValue) computeSomethingElse();</div><div class="line">else if (a == highValue)   computeSomethingElseYet();</div><div class="line"></div><div class="line">value = (potential        * oilDensity)   / constant1 +</div><div class="line">        (depth            * waterDensity) / constant2 +</div><div class="line">        (zCoordinateValue * gasDensity)   / constant3;</div><div class="line"></div><div class="line">minPosition     = computeDistance(min,     x, y, z);</div><div class="line">averagePosition = computeDistance(average, x, y, z);</div><div class="line"></div><div class="line">switch (value) &#123;</div><div class="line">  case PHASE_OIL   : strcpy(phase, &quot;Oil&quot;);   break;</div><div class="line">  case PHASE_WATER : strcpy(phase, &quot;Water&quot;); break;</div><div class="line">  case PHASE_GAS   : strcpy(phase, &quot;Gas&quot;);   break;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>尽管这点违反了普遍的规范，但是代码中很多地方需要如此来增加代码可读性就是允许的。上述很多情况下不得不要将代码对齐。代码对齐的通用规范很难给出，但是以上的例子就是很通用的线索。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<p>6.3 注释</p>
<table>
<thead>
<tr>
<th>90. 无厘头的代码不需要注释，需要重写！［1］。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td>通常，注释应当通过代码命名的选择和明确的逻辑结构提升自身文档化而尽量减少使用。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>91. 所有注释推荐使用英文书写［2］。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td>在国际化开发环境中，英文是首选语言。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>92. 所有注释均用 <code>//</code>，包括多行注释。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>// Comment spanning</code></td>
</tr>
<tr>
<td><code>// more than one line.</code></td>
</tr>
<tr>
<td>自从多级 C 注释不被支持，使用 <code>//</code> 注释确保注释所有文件部分总是可能的。调试等目的时使用 <code>/**/</code>。</td>
</tr>
<tr>
<td>推荐真正注释和 <code>//</code> 之间保留一个空格，并且注释应当以一个大写字母开头，以句号结束。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>93. 推荐将注释和代码同等位置（缩进）。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">while (true) &#123;</div><div class="line">  // Do something             </div><div class="line">  something();                  </div><div class="line">&#125;                             &#125;</div><div class="line"></div><div class="line">// NOT:  </div><div class="line">while (true) &#123; </div><div class="line">//	Do something</div><div class="line">		something();</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>这是为了避免注释打破程序的逻辑结构。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>94. 类和方法的初始注释推荐依照 javaDoc 规定。</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
<tr>
<td>作为标准的类和方法文档，Java 开发社区比 C/C++ 开发社区要更加成熟。这是因为标准自动化 Javadoc 工具是开发套件的一部分，并且它用这些注释帮助做出高质量超文本文档。类  Javadoc工具同样可用于 C++。这些相同的标签语法类似于 Javadoc。看这里的 Doc++ 或 Doxygen 实例。</td>
</tr>
</tbody>
</table>
<p>7 引用（以下不再翻译）<br>[1] Code Complete, Steve McConnell - Microsoft Press</p>
<p>[2] Programming in C++, Rules and Recommendations, M Henricson, e. Nyquist,  Ellemtel (Swedish telecom)<br>      <a href="http://www.doc.ic.ac.uk/lab/cplus/c%2b%2b.rules/" target="_blank" rel="external">http://www.doc.ic.ac.uk/lab/cplus/c%2b%2b.rules/</a></p>
<p>[3] Wildfire C++ Programming Style, Keith Gabryelski, Wildfire Communications Inc.<br>      <a href="http://www.wildfire.com/~ag/Engineering/Development/C++Style/" target="_blank" rel="external">http://www.wildfire.com/~ag/Engineering/Development/C++Style/</a></p>
<p>[4] C++ Coding Standard, Todd Hoff<br>      <a href="http://www.possibility.com/Cpp/CppCodingStandard.htm" target="_blank" rel="external">http://www.possibility.com/Cpp/CppCodingStandard.htm</a></p>
<p>[5] Doxygen documentation system<br>      <a href="http://www.stack.nl/~dimitri/doxygen/index.html" target="_blank" rel="external">http://www.stack.nl/~dimitri/doxygen/index.html</a></p>
<p><a rel="external" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a><br><span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">[Translate]C++编程代码风格指南</span> 由 <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">萌面大道</span> 创作，采用 <a rel="external" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">知识共享 署名-非商业性使用-相同方式共享 4.0 国际 许可协议</a>进行许可。<br>基于<a xmlns:dct="http://purl.org/dc/terms/" href="http://geosoft.no/development/cppstyle.html" rel="external" target="_blank">http://geosoft.no/development/cppstyle.html</a>上的作品创作。<br>本许可协议授权之外的使用权限可以从 <a xmlns:cc="http://creativecommons.org/ns#" href="http://maimieng.com/" rel="cc:morePermissions">http://maimieng.com/</a> 处获得。</p>

      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Translation/" rel="tag">#Translation</a>
          
            <a href="/tags/C-C/" rel="tag">#C/C++</a>
          
            <a href="/tags/Mooc/" rel="tag">#Mooc</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/4/" rel="next" title="2015 年 3 月苹果发布会后感">
                <i class="fa fa-chevron-left"></i> 2015 年 3 月苹果发布会后感
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/7/" rel="prev" title="Key Points of C++">
                Key Points of C++ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2015/5/"
           data-title="C++ 编程代码风格指南" data-url="https://maimieng.com/2015/5/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://o7y30w6c6.qnssl.com/blog/avatar.jpg"
               alt="kingcos" />
          <p class="site-author-name" itemprop="name">kingcos</p>
          <p class="site-description motion-element" itemprop="description">Way to MM.</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">45</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">42</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/kingcos" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.v2ex.com/member/kingcos" target="_blank" title="V2EX">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  V2EX
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://instagram.com/MMDADAO" target="_blank" title="Instagram">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Instagram
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/375975847" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/mmdadao" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <p class="post-toc-empty">此文章未包含目录</p>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">kingcos</span>
</div>

<div class="powered-by">
  豫ICP备<a class="theme-link" href="http://www.miibeian.gov.cn/">15002689</a>号
</div>

<div class="theme-info">
  T. -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"kingcos"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  





  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';                
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });
                            
                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').mousedown(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>

  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>
  <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  

  

</body>
</html>
