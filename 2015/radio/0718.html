<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="kingcos, iblog" />





  <link rel="alternate" href="/atom.xml" title="V2M" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta name="description" content="网易云音乐的电台链接～

Weekly Address: A Comprehensive, Long-Term Deal with Iran每周演讲：一项关乎伊朗的全面长期处理协议返回
Overview：概览：
WASHINGTON, DC – In this week’s address, the President explained the comprehensive, long-term">
<meta property="og:type" content="website">
<meta property="og:title" content="一项关乎伊朗的全面长期处理协议">
<meta property="og:url" content="https://maimieng.com/2015/radio/0718.html">
<meta property="og:site_name" content="V2M">
<meta property="og:description" content="网易云音乐的电台链接～

Weekly Address: A Comprehensive, Long-Term Deal with Iran每周演讲：一项关乎伊朗的全面长期处理协议返回
Overview：概览：
WASHINGTON, DC – In this week’s address, the President explained the comprehensive, long-term">
<meta property="og:updated_time" content="2015-11-29T11:39:14.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="一项关乎伊朗的全面长期处理协议">
<meta name="twitter:description" content="网易云音乐的电台链接～

Weekly Address: A Comprehensive, Long-Term Deal with Iran每周演讲：一项关乎伊朗的全面长期处理协议返回
Overview：概览：
WASHINGTON, DC – In this week’s address, the President explained the comprehensive, long-term">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '12611462',
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="https://maimieng.com/2015/radio/0718.html"/>


  <title>
  

  
    一项关乎伊朗的全面长期处理协议 | V2M
  
</title>
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left  ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">V2M</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Way to MM.</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-ipro">
          <a href="/ipro" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            Pro.
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    
    
      <blockquote>
<p><a href="http://music.163.com/m/radio?id=1333013" target="_blank" rel="external">网易云音乐的电台链接～</a></p>
</blockquote>
<h5 id="Weekly-Address-A-Comprehensive-Long-Term-Deal-with-Iran"><a href="#Weekly-Address-A-Comprehensive-Long-Term-Deal-with-Iran" class="headerlink" title="Weekly Address: A Comprehensive, Long-Term Deal with Iran"></a>Weekly Address: A Comprehensive, Long-Term Deal with Iran</h5><h3 id="每周演讲：一项关乎伊朗的全面长期处理协议"><a href="#每周演讲：一项关乎伊朗的全面长期处理协议" class="headerlink" title="每周演讲：一项关乎伊朗的全面长期处理协议"></a>每周演讲：一项关乎伊朗的全面长期处理协议</h3><p><a href="../../ipro/radio/">返回</a></p>
<p>Overview：<br>概览：</p>
<p>WASHINGTON, DC – In this week’s address, the President explained the comprehensive, long-term deal announced earlier this week that will prevent Iran from obtaining a nuclear weapon.<br>华盛顿特区－本周演讲中，总统解释了本周早些时候宣布全面长期处理伊朗问题以阻止其获得核武器。<br>This agreement cuts off every pathway that Iran could take to develop a nuclear weapon, implements unprecedented monitoring and inspections of Iran’s key nuclear facilities, and ensures that if Iran violates these terms, the strict sanctions previously imposed on the country will snap back into place.<br>该协议切断了伊朗可能发展核武器的所有途径，实现了前所未有的监视且检查伊朗关键的核设施，并保证如果伊朗违反这些条约，先前的严厉处罚将立即在其国内重新强制执行。<br>This is a good deal that demonstrates that American diplomacy can bring about real and meaningful change that makes our country, and the world, safer and more secure.<br>这是一项很好的协议，表明美国的外交可以带来真正的，有意义的变化，使得我们国家，和这个世界（变得）更加安全，更加稳定。<br>The audio of the address and video of the address will be available online at www.whitehouse.gov at 6:00 a.m. ET, July 18, 2015.<br>演讲的音频和视频将在 2015 年 7 月 18 日于美国东部时间上午 6:00 发布在 www.whitehouse.gov。</p>
<center>

<p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="280" height="86" src="http://music.163.com/outchain/player?type=3&id= 10877110&auto=0&height=66"></iframe><br>Remarks of President Barack Obama<br>贝拉克·奥巴马总统的演讲<br>Weekly Address<br>每周例行演讲<br>The White House<br>白宫<br>July 18, 2015<br>2015 年 7 月 18 日<br></p></center><br>Text：<br>正文：<p></p>
<p>This week, the United States and our international partners finally achieved something that decades of animosity has not – a deal that will prevent Iran from obtaining a nuclear weapon.<br>本周，美利坚合众国和我们的国际合作伙伴终于在几十年的紧张关系后达成了一项协议——这将阻止伊朗获得核武器。</p>
<p>This deal will make America and the world safer and more secure.<br>这项协议将使得美国和世界（变得）更加安全和更加稳定。<br>Still, you’re going to hear a lot of overheated and often dishonest arguments about it in the weeks ahead.<br>不过，在未来几周你将听到关于其很多热门且经常不实的争论。<br>So today, I want to take a moment to take those on one by one, and explain what this deal does and what it means.<br>所以今天，我想花些时间逐条阐述并解释这项协议做到了什么和它意味着什么。</p>
<p>First, you’ll hear some critics argue that this deal somehow makes it easier for Iran to obtain a nuclear weapon.<br>首先，你们会听到一些批评家认为，这项协议在某种程度上为伊朗获取核武器提供了便利。<br>Now, if you think it sounds strange that the United States, Great Britain, France, Germany, Russia, China, and some of the world’s best nuclear scientists would agree to something like that, you’re right.<br>现在，美国，英国，法国，德国，俄罗斯，中国，以及（其他）一些国家最顶级的核科学家将同意类似的这项协议，如果你觉得这听起来十分不可思议，这是正常的。<br>This deal actually closes off Iran’s pathway to a nuclear weapon.<br>这项协议实际上断绝了伊朗和核武器的途径。<br>Today, Iran has enough nuclear material to produce up to 10 nuclear weapons.<br>今天，伊朗有足够的核物质以制造多达 10 枚核武器。<br>With this deal, they’ll have to ship 98% of that material out of the country – leaving them with a fraction of what it takes to make even one weapon.<br>依据这项协议，他们将不得不把 98% 的这种物质运出国家——除去这些，剩下的一小部分将不够制造一枚武器。<br>With this deal, they’ll have to repurpose two key nuclear facilities so they can’t produce materials that could be used for a nuclear weapon.<br>依据这项协议，他们将不得不重新调整两项关键核设施，因此他们将不能制造可以用来生产核武器的材料。<br>So this deal actually pushes Iran further away from a bomb.<br>因此，这项协议实际上将伊朗推离（制造）炸弹（的不归路）。<br>And there’s a permanent prohibition on Iran ever having a nuclear weapon.<br>并且还有一项（关于）伊朗任何时候拥有核武器的永久禁令。</p>
<p>Second, you might hear from critics that Iran could just ignore what’s required and do whatever they want.<br>其次，你们可能听到批评家说，伊朗可能仅仅躲避（协议的）要求，仍我行我素。<br>That they’re inevitably going to cheat.<br>即他们难免将会欺骗（国际社会）。<br>Well, that’s wrong, too.<br>当然，这也是不正确的。<br>With this deal, we will have unprecedented, 24/7 monitoring of Iran’s key nuclear facilities.<br>依据这项协议，我们将采取空前的全天候监视伊朗的关键核设施。<br>With this deal, international inspectors will have access to Iran’s entire nuclear supply chain.<br>依据这项协议，国际检察员将（有机会）接近伊朗全部的核供应链。<br>The verification process set up by this deal is comprehensive and it is intrusive – precisely so we can make sure Iran keeps its commitments.<br>通过这项协议设置的核实过程是全面的，并且这是精确地深入——因此我们可以确保伊朗坚守其承诺。</p>
<p>Third, you might hear from critics that Iran faces no consequences if it violates this deal.<br>第三，你们可能听到批评家说，如果伊朗违约将无需面对任何结果。<br>That’s also patently false.<br>这也是明显错误的。<br>If Iran violates this deal, the sanctions we imposed that have helped cripple the Iranian economy – the sanctions that helped make this deal possible – would snap back into place promptly.<br>如果伊朗违背这一协议，我们强制执行的处罚将严重破坏伊朗人的经济——强制措施使得这一协议达成——（否则处罚会）立即再次到来。</p>
<p>There’s a reason this deal took so long to negotiate.<br>这项协议的达成耗费如此长时间的谈判是有原因的。<br>Because we refused to accept a bad deal.<br>因为我们拒绝接受一个不完善的协议。<br>We held out for a deal that met every one of our bottom lines.<br>我们坚持一项能够满足我们所有底线的协议。<br>And we got it.<br>（事实是）我们做到了。</p>
<p>Does this deal resolve all of the threats Iran poses to its neighbors and the world?<br>是不是（仅凭）这项协议就解决了伊朗对其邻国及世界造成的所有威胁？<br>No.<br>并不是。<br>Does it do more than anyone has done before to make sure Iran does not obtain a nuclear weapon?<br>是不是这项协议比以往任何（协议）都能更加确保伊朗不能获得核武器呢？<br>Yes.<br>是的。<br>And that was our top priority from the start.<br>并且这就是我们一开始的优先使命。<br>That’s why it’s in everyone’s best interest to make sure this deal holds.<br>这就是为什么确保这项协议坚守每个人的最大利益。<br>Because without this deal, there would be no limits on Iran’s nuclear program.<br>因为没有这项协议，伊朗的核项目将无法无天。<br>There would be no monitoring, no inspections.<br>（他们）将不受监视，不受检查。<br>The sanctions we rallied the world to impose would unravel.<br>我们组织全世界所强制实施的处罚将毫无用处。<br>Iran could move closer to a nuclear weapon.<br>伊朗将更加接近核武器。<br>Other countries in the region might race to do the same.<br>这一地区的其他国家将可能像（伊朗）一样（大搞军备）竞赛。<br>And we’d risk another war in the most volatile region in the world.<br>那么我们将面临世界上最不稳定地区的又一场战争。<br>That’s what would happen without this deal.<br>这都是没有这项协议所可能发生的。</p>
<p>On questions of war and peace, we should have tough, honest, serious debates.<br>在战争与和平的问题上，我们应当坚持、诚实、严肃的讨论。<br>We’ve seen what happens when we don’t.<br>我们已经可以预见如果我们不这样做。<br>That’s why this deal is online for the whole world to see.<br>这就是为什么这项协议在互联网上以让全世界（人民）看到。<br>I welcome all scrutiny.<br>我欢迎各界的监督。<br>I fear no questions.<br>我不畏惧任何问题。<br>As Commander-in-Chief, I make no apology for keeping this country safe and secure through the hard work of diplomacy over the easy rush to war.<br>作为总司令，通过艰苦的外交而不是简单粗暴的战争以保证这个国家安全稳定是我义无反顾的。<br>And on Tuesday, I’ll continue to press this case when I address the national convention of the Veterans of Foreign Wars.<br>并且在周二，我将在海外作战退伍军人协会的国际大会演讲中继续传达这项协议。<br>Because nobody understands the true cost of war better than those who’ve actually served in this country’s uniform.<br>因为没有人比那些真正为国服役的人更加体会战争代价。</p>
<p>We have before us an historic opportunity to pursue a safer, more secure world for our children.<br>我们眼前有一个历史性的机会为我们的孩子去追求更加安全，更加稳定的世界。<br>It might not come around again in our lifetimes.<br>也许这不会发生在我们的有生之年。<br>That’s why we’re going to seize it today – and keep America a beacon of hope, liberty, and leadership for generations to come.<br>这就是为什么我们要在今天抓住机会——并保持美国一直担当希望、自由之塔以及未来的（世界）领导（地位）。</p>
<p>Thank you, and have a great weekend.<br>感谢大家（倾听），周末愉快。</p>
<p>comprehensive adj.全面的，综合性的<br>implement n.工具；v.实施<br>unprecedented adj.空前的<br>monitor n./v.监视；观察<br>inspection n.检查，巡视<br>inspector n.检查员<br>facility n.场所；设施<br>sanction n.准许；处罚<br>impose v.强制执行<br>diplomacy n.外交<br>animosity n.敌意<br>repurpose v.改换意图；重新目的化<br>permanent adj.永久的<br>prohibition n.禁令，禁止<br>inevitably adv.必然地，不可避免地<br>verification n.证实；核实<br>intrusive adj.打扰的，烦扰的<br>promptly adj.及时地；立即<br>rally n.群众集会；v.召集；争取<br>scrutiny n.仔细观察</p>
<p>long-term 长期的<br>a nuclear weapon 核武器<br>snap back into 回滚到<br>in the weeks ahead 在未来几周<br>a fraction of 一小部分<br>keeps one’s commitments 坚守某人的承诺<br>bottom lines 底线</p>
<blockquote>
<p>拓展：<br><a href="https://en.wikipedia.org/wiki/Veterans_of_Foreign_Wars" target="_blank" rel="external">Veterans of Foreign Wars: 海外作战退伍军人协会</a></p>
<p>「点击即可跳转至 <a href="https://en.wikipedia.org" target="_blank" rel="external">Wikipedia.org</a> 词条」</p>
</blockquote>
<p><a href="../../ipro/radio/">返回</a></p>

    
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2015/radio/0718.html"
           data-title="一项关乎伊朗的全面长期处理协议" data-url="https://maimieng.com/2015/radio/0718.html">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://o7y30w6c6.qnssl.com/blog/avatar.jpg"
               alt="kingcos" />
          <p class="site-author-name" itemprop="name">kingcos</p>
          <p class="site-description motion-element" itemprop="description">Way to MM.</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">58</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">39</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/kingcos" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.v2ex.com/member/kingcos" target="_blank" title="V2EX">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  V2EX
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/users/b88081164fe8/latest_articles" target="_blank" title="JianShu">
                  
                    <i class="fa fa-fw fa-book"></i>
                  
                  JianShu
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/375975847" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://instagram.com/MMDADAO" target="_blank" title="Instagram">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Instagram
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/mmdadao" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.xcatliu.com" title="Xcat Liu's Blog" target="_blank">Xcat Liu's Blog</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://chuangzaoshi.com/" title="创造狮导航" target="_blank">创造狮导航</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">kingcos</span>
</div>

<div class="powered-by">
  豫ICP备<a class="theme-link" href="http://www.miibeian.gov.cn/">15002689</a>号
</div>

<div class="theme-info">
  T. -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.2"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"kingcos"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = false;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = decodeURIComponent(data.url);
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title >= 0 || index_content >= 0 ){
                                isMatch = true;
								if (i == 0) {
                                    first_occur = index_content;
                                }
                            } 
							
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });

                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  

  


</body>
</html>
