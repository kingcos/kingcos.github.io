<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Swift æ‹¾é— on iBlog</title>
    <link>/tags/swift-%E6%8B%BE%E9%81%97/</link>
    <description>Recent content in Swift æ‹¾é— on iBlog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <copyright>All rights reserved by kingcos.me</copyright>
    <lastBuildDate>Thu, 06 Aug 2020 00:00:00 +0000</lastBuildDate>
    
	<atom:link href="/tags/swift-%E6%8B%BE%E9%81%97/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Swift æ‹¾é— - struct &amp; class</title>
      <link>/posts/2020/swift_struct_and_class/</link>
      <pubDate>Thu, 06 Aug 2020 00:00:00 +0000</pubDate>
      
      <guid>/posts/2020/swift_struct_and_class/</guid>
      <description>Date Notes     2020-08-01 é¦–æ¬¡æäº¤    Preface ã€ŠSwift æ‹¾é—ã€‹æ˜¯ä¸€ä¸ªå…³äº Swift çš„æ–°æ–‡ç« ä¸“è¾‘ï¼Œè¿™ä¸ªç³»åˆ—çš„æ–‡ç« å°†ä¸ä¼šæ¶‰åŠåŸºæœ¬è¯­æ³•çš„å±‚é¢ï¼Œè€Œæ˜¯å°è¯•ä»åº•å±‚ã€Œæ‹¾ã€èµ·ä¹‹å‰æ‰€å¿½è§†çš„å†…å®¹ã€‚ä»Šå¤©æˆ‘ä»¬å°†ä¸€èµ·ç®€å•æ¢ç©¶ Swift ä¸­çš„æšä¸¾ struct å’Œ classã€‚&amp;rdquo;
ç»“æ„ä½“ å†…å­˜å¸ƒå±€ struct Foo { var a = 1 var b = 1 } var foo = Foo() // Breakpoint ğŸ”´ withUnsafeMutablePointer(to: &amp;amp;foo) { print(&amp;#34;\($0)&amp;#34;) } // 0x00000001000030d8 print(MemoryLayout&amp;lt;Foo&amp;gt;.size) // 16 print(MemoryLayout&amp;lt;Foo&amp;gt;.stride) // 16 print(MemoryLayout&amp;lt;Foo&amp;gt;.alignment) // 8 // (lldb) memory read 0x00000001000030d8 // 0x1000030d8: 01 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 .</description>
    </item>
    
    <item>
      <title>Swift æ‹¾é— - enum</title>
      <link>/posts/2020/swift_enum/</link>
      <pubDate>Sat, 01 Aug 2020 00:00:00 +0000</pubDate>
      
      <guid>/posts/2020/swift_enum/</guid>
      <description>Date Notes     2020-08-01 é¦–æ¬¡æäº¤    Preface ã€ŠSwift æ‹¾é—ã€‹æ˜¯ä¸€ä¸ªå…³äº Swift çš„æ–°æ–‡ç« ä¸“è¾‘ï¼Œè¿™ä¸ªç³»åˆ—çš„æ–‡ç« å°†ä¸ä¼šæ¶‰åŠåŸºæœ¬è¯­æ³•çš„å±‚é¢ï¼Œè€Œæ˜¯å°è¯•ä»åº•å±‚ã€Œæ‹¾ã€èµ·ä¹‹å‰æ‰€å¿½è§†çš„å†…å®¹ã€‚ä»Šå¤©æˆ‘ä»¬å°†ä¸€èµ·ç®€å•æ¢ç©¶ Swift ä¸­çš„æšä¸¾ enumã€‚
å†…å­˜å¸ƒå±€ å†…å­˜å¸ƒå±€ï¼ˆMemory Layoutï¼‰æŒ‡çš„æ˜¯å˜é‡åœ¨å†…å­˜ä¸­çš„å ç”¨æƒ…å†µï¼Œäº†è§£å†…å­˜å¸ƒå±€å¯ä»¥ä½¿æˆ‘ä»¬å¯¹äºæ•°æ®ç±»å‹çš„æœ¬è´¨æ›´åŠ ç†Ÿæ‚‰ã€‚
ç®€å•æšä¸¾ ç®€å•æšä¸¾è¿™é‡ŒæŒ‡ä¸å¸¦å…³è”å€¼ä¸åŸå§‹å€¼çš„æšä¸¾ç±»å‹ã€‚å½“ case ä¸ªæ•°å°äºç­‰äº 256 ä¸ªæ—¶ï¼Œå…¶å ç”¨ 1 ä¸ªå­—èŠ‚ï¼ˆå½“ç„¶ï¼Œè¶…è¿‡ 256 ä¸ªæ—¶ï¼Œå°†å ç”¨ 2 ä¸ªå­—èŠ‚ï¼‰ï¼š
enum Foo { case first, second, third } print(MemoryLayout&amp;lt;Foo&amp;gt;.size) // 1 print(MemoryLayout&amp;lt;Foo&amp;gt;.stride) // 1 print(MemoryLayout&amp;lt;Foo&amp;gt;.alignment) // 1 var foo = Foo.third withUnsafePointer(to: &amp;amp;foo) { print(&amp;#34;\($0)&amp;#34;) } // 0x00000001000040e0 // View Memory: // 0x00000001000040e0 -&amp;gt; // 02  View Memory</description>
    </item>
    
    <item>
      <title>Swift æ‹¾é— - å†…è”å‡½æ•°</title>
      <link>/posts/2020/swift_inline/</link>
      <pubDate>Sun, 26 Jul 2020 00:00:00 +0000</pubDate>
      
      <guid>/posts/2020/swift_inline/</guid>
      <description>Date Notes     2020-07-26 é¦–æ¬¡æäº¤    Preface ã€ŠSwift æ‹¾é—ã€‹æ˜¯ä¸€ä¸ªå…³äº Swift çš„æ–°æ–‡ç« ä¸“è¾‘ï¼Œè¿™ä¸ªç³»åˆ—çš„æ–‡ç« å°†ä¸ä¼šæ¶‰åŠåŸºæœ¬è¯­æ³•çš„å±‚é¢ï¼Œè€Œæ˜¯å°è¯•ä»åº•å±‚ã€Œæ‹¾ã€èµ·ä¹‹å‰æ‰€å¿½è§†çš„å†…å®¹ã€‚ä»Šå¤©æˆ‘ä»¬å°†ä¸€èµ·ç®€å•æ¢ç©¶ Swift ä¸­çš„å†…è”å‡½æ•°ã€‚
ç¼–è¯‘å™¨ä¼˜åŒ–ç­‰çº§ ç”±äºå†…è”å‡½æ•°ä¼šå°†å‡½æ•°è°ƒç”¨å±•å¼€ä¸ºå‡½æ•°ä½“ï¼Œå› æ­¤å½“ç¼–è¯‘å™¨å†…è”æŸä¸€å‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°æœ¬èº«å°†ä¸å†ä¼šè¢«è°ƒç”¨ã€‚è€Œåœ¨ Debug æ¨¡å¼ä¸‹ï¼Œç”±äºæˆ‘ä»¬ç»å¸¸ä¼šä½¿ç”¨æ‰“æ–­ç‚¹ç­‰è°ƒè¯•æ‰‹æ®µï¼Œå¦‚æœæ­¤æ—¶å†…è”å°†ä¸åˆ©äºæˆ‘ä»¬æ’æŸ¥é—®é¢˜ã€‚å› æ­¤åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œç¼–è¯‘å™¨é»˜è®¤å°†ä¸è¿›è¡Œå†…è”ã€‚
æ§åˆ¶ç¼–è¯‘å™¨ä¼˜åŒ–ç­‰çº§çš„è®¾ç½®ä½äºï¼šXcode - TARGETS - Build Settings - Swift Compiler - Optimization Levelï¼Œå…¶ä¸­ä¾¿ä¼šå½±å“ Swift å‡½æ•°æ˜¯å¦å†…è”ï¼š
Swift ç¼–è¯‘å™¨æ‰€æ”¯æŒçš„ä¼˜åŒ–ç­‰çº§å…·ä½“å¦‚ä¸‹ï¼š
   Level Part     [-Onone] æ— ä¼˜åŒ–ï¼ˆDebug æ¨¡å¼é»˜è®¤ï¼‰   [-O] é€Ÿåº¦ä¼˜å…ˆï¼ˆRelease æ¨¡å¼é»˜è®¤ï¼‰   [-Osize] ä½“ç§¯ä¼˜å…ˆ    ç»è¿‡å®é™…æµ‹è¯•ï¼Œå¦‚ä¸‹ foo å‡½æ•°åœ¨ [-O] ä¸ [-Osize] ç­‰çº§ä¸‹å‡è¢«ä¼˜åŒ–ï¼š</description>
    </item>
    
    <item>
      <title>Swift æ‹¾é— - inout</title>
      <link>/posts/2020/swift_inout/</link>
      <pubDate>Sat, 25 Jul 2020 00:00:00 +0000</pubDate>
      
      <guid>/posts/2020/swift_inout/</guid>
      <description>Date Notes     2020-07-25 é¦–æ¬¡æäº¤    Preface ã€ŠSwift æ‹¾é—ã€‹æ˜¯ä¸€ä¸ªå…³äº Swift çš„æ–°æ–‡ç« ä¸“è¾‘ï¼Œè¿™ä¸ªç³»åˆ—çš„æ–‡ç« å°†ä¸ä¼šæ¶‰åŠåŸºæœ¬è¯­æ³•çš„å±‚é¢ï¼Œè€Œæ˜¯å°è¯•ä»åº•å±‚ã€Œæ‹¾ã€èµ·ä¹‹å‰æ‰€å¿½è§†çš„å†…å®¹ã€‚ä»Šå¤©æˆ‘ä»¬å°†ä¸€èµ·ç®€å•æ¢ç©¶ä¿®é¥° Swift ä¸­å‡½æ•°å‚æ•°çš„ inout å…³é”®å­—ã€‚
æœ¬è´¨ æˆ‘ä»¬å£°æ˜ä¸€ä¸ªä½¿ç”¨ inout å‚æ•°çš„å‡½æ•°ï¼Œå¹¶åœ¨å¤–ç•Œå°†å˜é‡ &amp;amp; æŒ‰åœ°å€ä¼ å…¥ï¼š
var foo = 5 func inoutDemoFunc(_ innerFoo: inout Int) { innerFoo = 9 } inoutDemoFunc(&amp;amp;foo) // BREAKPOINT ğŸ”´ // foo == 9 å°è¯•å°†ä»¥ä¸Šä»£ç è½¬æ¢ä¸ºæ±‡ç¼–ï¼ˆXcode Menu - Debug - Debug Workflow - Always Show Disassemblyï¼‰ï¼š
; inout demo`main: 0x100001d60 &amp;lt;+0&amp;gt;: pushq %rbp 0x100001d61 &amp;lt;+1&amp;gt;: movq %rsp, %rbp 0x100001d64 &amp;lt;+4&amp;gt;: subq $0x30, %rsp 0x100001d68 &amp;lt;+8&amp;gt;: leaq 0x1459(%rip), %rax ; leetcode.</description>
    </item>
    
    <item>
      <title>Swift æ‹¾é— - Swift Tips</title>
      <link>/posts/2020/swift_tips/</link>
      <pubDate>Tue, 21 Jul 2020 00:00:00 +0000</pubDate>
      
      <guid>/posts/2020/swift_tips/</guid>
      <description>Preface ã€ŠSwift æ‹¾é—ã€‹æ˜¯ä¸€ä¸ªå…³äº Swift çš„æ–°æ–‡ç« ä¸“è¾‘ï¼Œè¿™ä¸ªç³»åˆ—çš„æ–‡ç« å°†ä¸ä¼šæ¶‰åŠåŸºæœ¬è¯­æ³•çš„å±‚é¢ï¼Œè€Œæ˜¯å°è¯•ä»åº•å±‚ã€Œæ‹¾ã€èµ·ä¹‹å‰æ‰€å¿½è§†çš„å†…å®¹ã€‚é‚£ä¹ˆä½œä¸ºèµ·å§‹ç¯‡ï¼Œéšç€æ•´ä¸ªç³»åˆ—çš„è¿›è¡Œï¼Œå…¶ä¸­ã€Œé—ã€æ¼çš„åŸºæœ¬ä½¿ç”¨å°†åœ¨æœ¬æ–‡ä¸­å¾—åˆ°è¡¥å……ã€‚
Content Void æŒ‰ç…§ Swift æ ‡å‡†åº“çš„å®šä¹‰ï¼ŒVoid å³ç©ºå…ƒç»„ ()ï¼š
public typealias Void = () å‡½æ•°é‡è½½ï¼ˆOverloadï¼‰ Swift ä¸­çš„å‡½æ•°é‡è½½æœ‰ä¸€äº›å‘ï¼Œå› æ­¤å°½é‡ä¸è¦äº§ç”Ÿå‘½åæ­§ä¹‰æ€§ï¼ˆæ¯”å¦‚ç»“åˆé»˜è®¤å‚æ•°å€¼ç­‰ç”¨æ³•ï¼‰ã€‚
 Obj-C ä¸­çš„é‡è½½ä¸é‡å†™  @discardableResult Swift æ˜¯ä¸€é—¨è¦æ±‚å¾ˆä¸¥æ ¼çš„è¯­è¨€ï¼Œå½“å‡½æ•°çš„è¿”å›å€¼æœªè¢«ä½¿ç”¨åˆ°æ—¶ï¼Œç¼–è¯‘å™¨å°±ä¼šæç¤ºç›¸å…³çš„è­¦å‘Šã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ @discardableResult å°†å‡½æ•°å£°æ˜ä¸ºå¯ä¸¢å¼ƒç»“æœï¼Œå³å¯å‘ŠçŸ¥ç¼–è¯‘å™¨ä¸äº§ç”Ÿè­¦å‘Šï¼š
import Foundation func foo() -&amp;gt; String { return &amp;#34;kingcos.me&amp;#34; } @discardableResult func bar() -&amp;gt; String { return &amp;#34;kingcos.me&amp;#34; } foo() // WARNING: Result of call to &amp;#39;foo()&amp;#39; is unused // å½“ç„¶ä¹Ÿå¯ä»¥èµ‹å€¼åˆ°å ä½ç¬¦ _ ä»¥é¿å…è­¦å‘Š _ = foo() bar()  Defaulting non-Void functions so they warn on unused results - swift-evolution  swiftc swiftc æ˜¯ Swift ç¼–è¯‘å™¨ï¼ˆå‰ç«¯ï¼‰ï¼Œä½äº Xcode ä¸­ Xcode.</description>
    </item>
    
  </channel>
</rss>